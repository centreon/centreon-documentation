"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[60912],{2228:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>m,default:()=>g,frontMatter:()=>p,metadata:()=>u,toc:()=>c});a(67294);var n=a(3905),r=a(51715),l=a(7626);function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})),t}function s(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}const p={id:"virtualization-vmware2-vcenter-generic",title:"VMware vCenter"},m=void 0,u={unversionedId:"integrations/plugin-packs/procedures/virtualization-vmware2-vcenter-generic",id:"integrations/plugin-packs/procedures/virtualization-vmware2-vcenter-generic",title:"VMware vCenter",description:"Vue d'ensemble",source:"@site/i18n/fr/docusaurus-plugin-content-docs-pp/current/integrations/plugin-packs/procedures/virtualization-vmware2-vcenter-generic.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/virtualization-vmware2-vcenter-generic",permalink:"/centreon-documentation/pr-preview/staging/pr-2796/fr/pp/integrations/plugin-packs/procedures/virtualization-vmware2-vcenter-generic",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs-pp/current/integrations/plugin-packs/procedures/virtualization-vmware2-vcenter-generic.md",tags:[],version:"current",frontMatter:{id:"virtualization-vmware2-vcenter-generic",title:"VMware vCenter"},sidebar:"pp",previous:{title:"VMware ESX WS-MAN",permalink:"/centreon-documentation/pr-preview/staging/pr-2796/fr/pp/integrations/plugin-packs/procedures/virtualization-vmware2-esx-wsman"},next:{title:"VMware vCenter v4",permalink:"/centreon-documentation/pr-preview/staging/pr-2796/fr/pp/integrations/plugin-packs/procedures/virtualization-vmware2-vcenter-4"}},d={},c=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Contenu du connecteur de supervision",id:"contenu-du-connecteur-de-supervision",level:2},{value:"Objets supervis\xe9s",id:"objets-supervis\xe9s",level:3},{value:"R\xe8gles de d\xe9couvertes",id:"r\xe8gles-de-d\xe9couvertes",level:3},{value:"M\xe9triques collect\xe9es",id:"m\xe9triques-collect\xe9es",level:3},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Configuration du connecteur Centreon VMWare",id:"configuration-du-connecteur-centreon-vmware",level:3},{value:"Flux r\xe9seau",id:"flux-r\xe9seau",level:3},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"Comment puis-je tester le Plugin et que signifient les options des commandes ?",id:"comment-puis-je-tester-le-plugin-et-que-signifient-les-options-des-commandes-",level:3},{value:"J&#39;obtiens les erreurs suivantes :",id:"jobtiens-les-erreurs-suivantes-",level:3},{value:"UNKNOWN: Unknown container name &#39;default&#39; |",id:"unknown-unknown-container-name-default-",level:4},{value:"UNKNOWN: Container connection problem |",id:"unknown-container-connection-problem-",level:4},{value:"UNKNOWN: Cannot get response (timeout received)",id:"unknown-cannot-get-response-timeout-received",level:4}],k={toc:c},N="wrapper";function g(t){var{components:e}=t,a=s(t,["components"]);return(0,n.kt)(N,i(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})))),n.forEach((function(e){o(t,e,a[e])}))}return t}({},k,a),{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"vue-densemble"},"Vue d'ensemble"),(0,n.kt)("p",null,"VMWare est une solution de Virtualisation et d'infrastructure de Cloud Computing."),(0,n.kt)("p",null,"Le connecteur de supervision Centreon s'appuie sur le SDK VMWare pour requ\xeater l'API du vCenter."),(0,n.kt)("p",null,"Avec le connecteur, Centreon peut superviser les VMs, Datastores, ESXs, Clusters, etc."),(0,n.kt)("h2",{id:"contenu-du-connecteur-de-supervision"},"Contenu du connecteur de supervision"),(0,n.kt)("h3",{id:"objets-supervis\xe9s"},"Objets supervis\xe9s"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Clusters"),(0,n.kt)("li",{parentName:"ul"},"Datastores"),(0,n.kt)("li",{parentName:"ul"},"Licenses"),(0,n.kt)("li",{parentName:"ul"},"VMs")),(0,n.kt)("h3",{id:"r\xe8gles-de-d\xe9couvertes"},"R\xe8gles de d\xe9couvertes"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Nom de la r\xe8gle"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Virt-VMWare2-Datacenters-Alarm-Name"),(0,n.kt)("td",{parentName:"tr",align:"left"},"D\xe9couvrez les Datacenters et supervisez leurs alarmes")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Virt-VMWare2-vCenter-Clusters-Status-Name"),(0,n.kt)("td",{parentName:"tr",align:"left"},"D\xe9couvrez les Clusters et supervisez leur statut")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Virt-VMWare2-vCenter-Datastores-Io-Name"),(0,n.kt)("td",{parentName:"tr",align:"left"},"D\xe9couvrez les Datastores et supervisez les I/O")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Virt-VMWare2-vCenter-Datastores-Iops-Name"),(0,n.kt)("td",{parentName:"tr",align:"left"},"D\xe9couvrez les Datastores et supervisez les Iops")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Virt-VMWare2-vCenter-Datastores-Usage-Name"),(0,n.kt)("td",{parentName:"tr",align:"left"},"D\xe9couvrez les Datastores et supervisez l'espace disponible")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Virt-VMWare2-vCenter-Datastores-Vm-Count-Name"),(0,n.kt)("td",{parentName:"tr",align:"left"},"D\xe9couvrez les Datastores et supervisez le nombre de VMs h\xe9berg\xe9es")))),(0,n.kt)("h3",{id:"m\xe9triques-collect\xe9es"},"M\xe9triques collect\xe9es"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Datacenter-Alarms-Global",label:"Datacenter-Alarms-Global",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Status"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Status of the Datacenter"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datacenter.alarms.warning.current.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of Total warning alarms"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Count")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datacenter.alarms.critical.current.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of Total critical alarms"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Count")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"dcname#datacenter.alarms.warning.current.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of warning alarms per Datacenter"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Count")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"dcname#datacenter.alarms.critical.current.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of critical alarms per Datacenter"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Count"))))),(0,n.kt)(l.Z,{value:"Cluster-Cpu-Global",label:"Cluster-Cpu-Global",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"cluster_name"),"#cluster.cpu.utilization.percentage"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Total CPU usage in percentage"),(0,n.kt)("td",{parentName:"tr",align:"left"},"%")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"cluster_name"),"#cluster.cpu.utilization.mhz"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Total CPU usage in MHz"),(0,n.kt)("td",{parentName:"tr",align:"left"},"MHz"))))),(0,n.kt)(l.Z,{value:"Cluster-Status-Global",label:"Cluster-Status-Global",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Status"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Status of the Cluster"),(0,n.kt)("td",{parentName:"tr",align:"left"}))))),(0,n.kt)(l.Z,{value:"Datastore-Io-Global",label:"Datastore-Io-Global",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastore.read.usage.bytespersecond"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Global read rate"),(0,n.kt)("td",{parentName:"tr",align:"left"},"B/s")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastore.write.usage.bytespersecond"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Global write rate"),(0,n.kt)("td",{parentName:"tr",align:"left"},"B/s")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastorename#datastore.read.usage.bytespersecond"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Read rate per Datastore"),(0,n.kt)("td",{parentName:"tr",align:"left"},"B/s")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastorename#datastore.write.usage.bytespersecond"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Write rate per Datastore"),(0,n.kt)("td",{parentName:"tr",align:"left"},"B/s"))))),(0,n.kt)(l.Z,{value:"Datastore-Iops-Global",label:"Datastore-Iops-Global",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastore.read.usage.iops"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Global read IOPS on the Datastore"),(0,n.kt)("td",{parentName:"tr",align:"left"},"iops")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastore.write.usage.iops"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Global write IOPS on the Datastore"),(0,n.kt)("td",{parentName:"tr",align:"left"},"iops")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastore.vm.read.usage.iops"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Read IOPS per VM on the Datastore"),(0,n.kt)("td",{parentName:"tr",align:"left"},"iops")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastore.vm.write.usage.iops"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Write IOPS per VM on the Datastore"),(0,n.kt)("td",{parentName:"tr",align:"left"},"iops"))))),(0,n.kt)(l.Z,{value:"Datastore-Usage-Global",label:"Datastore-Usage-Global",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastore.space.usage.bytes"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Usage of the Datastore"),(0,n.kt)("td",{parentName:"tr",align:"left"},"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastore.space.free.bytes"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Free space left on the Datastore"),(0,n.kt)("td",{parentName:"tr",align:"left"},"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastore.space.usage.percentage"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Usage of the Datastore in percentage"),(0,n.kt)("td",{parentName:"tr",align:"left"},"%")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastore.space.provisioned.bytes"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Provisioned Space allocated to the VMs"),(0,n.kt)("td",{parentName:"tr",align:"left"},"B"))))),(0,n.kt)(l.Z,{value:"Datastore-Vm-Count-Global",label:"Datastore-Vm-Count-Global",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastore.vm.poweredon.current.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of powered on VMs on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Count")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastore.vm.poweredoff.current.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of powered off VMs on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Count")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"datastore.vm.suspended.current.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of suspended VMs on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Count"))))),(0,n.kt)(l.Z,{value:"Esx-Storage-Global",label:"Esx-Storage-Global",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"status"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Status of the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"adapters status"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Adapter statuses of the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.adapters.total.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of adapters on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.adapters.online.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of adapters with status online on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.adapters.offline.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of adapters with status offline on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.adapters.fault.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of adapters with status fault on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.adapters.unknown.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of adapters with status unknown on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"luns status"),(0,n.kt)("td",{parentName:"tr",align:"left"},"LUN statuses of the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.luns.total.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of LUNs on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.luns.ok.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of LUNs with status ok on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.luns.error.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of LUNs with status error on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.luns.off.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of LUNs with status off on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.luns.unknown.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of LUNs with status unknown on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.luns.quiesced.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of LUNs with status quiesced on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.luns.degraded.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of LUNs with status degraded on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"paths status"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Paths statuses of the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.paths.total.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of paths on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.paths.active.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of paths with status active on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.paths.disabled.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of paths with status disabed on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.paths.standby.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of paths with status standby on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.paths.dead.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of paths with status dead on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"esx_name"),"#host.paths.unknown.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of paths with status unknown on the ESX"),(0,n.kt)("td",{parentName:"tr",align:"left"}))))),(0,n.kt)(l.Z,{value:"Licenses",label:"Licenses",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"licenses.total.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of licenses"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"license_name"),"#license.usage.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of used resources on the license"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"license_name"),"#license.free.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of free resources on the license"),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"license_name"),"#license.usage.percentage"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Percentage of used resources on the license"),(0,n.kt)("td",{parentName:"tr",align:"left"},"%")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("em",{parentName:"td"},"license_name"),"#license.expires.days"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Expiration time"),(0,n.kt)("td",{parentName:"tr",align:"left"}))))),(0,n.kt)(l.Z,{value:"Vm-Tools-Global",label:"Vm-Tools-Global",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"vm.tools.notupdated.current.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of VMs with VM-Tools not updated (default threshold)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Count")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"vm.tools.notrunning.current.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of VMs with VM-Tools not running (default threshold)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Count")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"vm.tools.notinstalled.current.count"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of VMs with VM-Tools not installed (default threshold)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Count")))))),(0,n.kt)("h2",{id:"pr\xe9requis"},"Pr\xe9requis"),(0,n.kt)("h3",{id:"configuration-du-connecteur-centreon-vmware"},"Configuration du connecteur Centreon VMWare"),(0,n.kt)("p",null,"Pour la supervision VMWare, centreon utlise un daemon pour se connecter et requ\xeater le vCenter."),(0,n.kt)("p",null,"Installer le daemon sur tous les Collecteurs :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"yum install centreon-plugin-Virtualization-VMWare-daemon\n")),(0,n.kt)("p",null,'Pour configurer les acc\xe8s \xe0 votre infrastructure, \xe9diter le fichier\n"/etc/centreon/centreon',"_",'vmware.pm" :'),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-perl"},"%centreon_vmware_config = (\n    vsphere_server => {\n        default => {\n            url => 'https://<ip_hostname>/sdk',\n            username => '<username>',\n            password => '<password>'\n        }\n    }\n);\n\n1;\n")),(0,n.kt)("p",null,"ssurez vous d'avoir remplac\xe9 toutes les variables avec les informations n\xe9cessaires :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"ip","_","hostname"),": Adresse IP ou nom d'h\xf4te du vCenter ou de l'ESX (Si il est en mode standalone),"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"username"),': utilisateur avec un acc\xe8s "lecture seul" au vCenter ou \xe0 l\'ESX (Vous pouvez utilisez un utilisateur du domaine),'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"password"),": le mot de passe de l'utilisateur.")),(0,n.kt)("p",null,"Vous pouvez configurer plusieurs connexions \xe0 diff\xe9rents vCenter ou ESX\nen utilisant cette structure:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-perl"},"%centreon_vmware_config = (\n    vsphere_server => {\n        'my_first_vcenter' => {\n            url => 'https://<ip_hostname>/sdk',\n            username => '<username>',\n            password => '<password>'\n        },\n        'my_other_vcenter' => {\n            url => 'https://<ip_hostname>/sdk',\n            username => '<DOMAIN>\\<username>',\n            password => '<password>'\n        },\n    },\n    port => 5700\n);\n\n1;\n")),(0,n.kt)("p",null,"Chaque entr\xe9e est un ",(0,n.kt)("strong",{parentName:"p"},"container"),"."),(0,n.kt)("p",null,"Pour d\xe9marrer le daemon et l'activer au d\xe9marrage :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"systemctl start centreon_vmware\nsystemctl enable centreon_vmware\n")),(0,n.kt)("p",null,'Vous pouvez v\xe9rifiez que votre configuration est fonctionelle en consultant les journaux dans :\n"/var/log/centreon/centreon',"_",'vmware.log".'),(0,n.kt)("h3",{id:"flux-r\xe9seau"},"Flux r\xe9seau"),(0,n.kt)("p",null,"Le Collecteur Centreon avec le connecteur VMWare d'install\xe9 doit acc\xe9der en HTTPS (TCP/443) au vCenter."),(0,n.kt)("p",null,"Les Collecteurs requ\xeatant le Collecteur avec le connecteur VMWare doit acc\xe9der en TCP/5700 au Collecteur avec le Connecteur VMWare."),(0,n.kt)("h2",{id:"installation"},"Installation"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Installer le Plugin sur l'ensemble des Collecteurs Centreon supervisant l'infrastructure VMWare :")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"yum install centreon-plugin-Virtualization-Vmware2-Connector-Plugin\n")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"Installer le connecteur de supervision 'Vmware vCenter' depuis la page ",(0,n.kt)("strong",{parentName:"li"},"Configuration > Gestionnaire de connecteurs de supervision")," sur l'interface Web de Centreon."))),(0,n.kt)(l.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Installer le Plugin sur l'ensemble des collecteurs Centreon supervisant l'infrastructure VMWare:")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"yum install centreon-plugin-Virtualization-Vmware2-Connector-Plugin\n")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"Installer le RPM du connecteur de supervision contenant les mod\xe8les de supervision :")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"yum install centreon-pack-virtualization-vmware2-vcenter-generic.noarch\n")),(0,n.kt)("ol",{start:3},(0,n.kt)("li",{parentName:"ol"},"Installer le connecteur de supervision 'Vmware vCenter' depuis la page ",(0,n.kt)("strong",{parentName:"li"},"Configuration > Gestionnaire de connecteurs de supervision")," sur l'interface Web de Centreon.")))),(0,n.kt)("h2",{id:"configuration"},"Configuration"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'Depuis l\'interface Web de Centreon, ajoutez un nouvel H\xf4te depuis la page "Configuration > H\xf4tes".'),(0,n.kt)("li",{parentName:"ul"},'Appliquez le mod\xe8le "Virt-VMWare2-VCenter-custom", et configurez toutes les macros :')),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Mandatory"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"X"),(0,n.kt)("td",{parentName:"tr",align:"left"},"CENTREONVMWARECONTAINER"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Name of your container in the file centreon_vmware.pm")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"X"),(0,n.kt)("td",{parentName:"tr",align:"left"},"CENTREONVMWAREHOST"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The Centreon server that launches the connection")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"X"),(0,n.kt)("td",{parentName:"tr",align:"left"},"CENTREONVMWAREPORT"),(0,n.kt)("td",{parentName:"tr",align:"left"},"By default: 5700")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"}),(0,n.kt)("td",{parentName:"tr",align:"left"},"CENTREONVMWAREEXTRAOPTIONS"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Customize it with your own if needed")))),(0,n.kt)("h2",{id:"faq"},"FAQ"),(0,n.kt)("h3",{id:"comment-puis-je-tester-le-plugin-et-que-signifient-les-options-des-commandes-"},"Comment puis-je tester le Plugin et que signifient les options des commandes ?"),(0,n.kt)("p",null,"Une fois le Plugin install\xe9, vous pouvez tester celui-ci directement en ligne de commande depuis votre collecteur Centreon avec l'utilisateur centreon-engine :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"/usr/lib/centreon/plugins//centreon_vmware_connector_client.pl \\\n    --plugin=apps::vmware::connector::plugin \\\n    --mode=snapshot-vm \\\n    --custommode=connector \\\n    --connector-hostname='localhost' \\\n    --connector-port='5700' \\\n    --container='vcenter01' \\\n    --vm-hostname='.*' \\\n    --filter \\\n    --filter-uuid='' \\\n    --warning='259200' \\\n    --critical='432000' \\\n    --disconnect-status='ok' \\\n    --nopoweredon-skip \\\n    --check-consolidation \\\n    --verbose\n")),(0,n.kt)("p",null,"La commande retourne le message de sortie ci-dessous:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"CRITICAL: Snapshots for VM older than 432000 seconds: [TLS-LIN-001] | 'num_warning'=0;;;0; 'num_critical'=1;;;0;\n'TLS-LIN-001' snapshot create time: 2020-07-20T12:19:16.246902Z [only base os image]\n")),(0,n.kt)("p",null,"Cette commande contr\xf4le les snapshots des machines virtuelles (",(0,n.kt)("inlineCode",{parentName:"p"},"--plugin=apps::vmware::connector::plugin --mode=snapshot-vm"),").\nLe plugin se connecte au daemon VMWare sur ",(0,n.kt)("strong",{parentName:"p"},"localhost")," (",(0,n.kt)("inlineCode",{parentName:"p"},"--connector-hostname='localhost'"),") sur le port ",(0,n.kt)("strong",{parentName:"p"},"5700")," (",(0,n.kt)("inlineCode",{parentName:"p"},"--connector-port='5700'"),").\nPuis la commande requ\xeate le ",(0,n.kt)("strong",{parentName:"p"},"container")," *",(0,n.kt)("em",{parentName:"p"},"vcenter01")," (",(0,n.kt)("inlineCode",{parentName:"p"},"--container='vcenter01'"),")."),(0,n.kt)("p",null,"La commande d\xe9clenchera une alerte WARNING si un snapshot est plus vieux de 3 jours / 259200s (",(0,n.kt)("inlineCode",{parentName:"p"},"--warning='259200'"),")\net une alerte CRITICAL si un snapshot est plus vieux de 5 jours / 432000s (",(0,n.kt)("inlineCode",{parentName:"p"},"--warning='259200'"),")"),(0,n.kt)("p",null,"Vous pouvez afficher tous les modes disponibles \xe0 l'aide de la commande suivante :`"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"/usr/lib/centreon/plugins/./centreon_vmware_connector_client.pl \\\n    --plugin=apps::vmware::connector::plugin \\\n    --list-mode\n")),(0,n.kt)("p",null,"Pour chaque mode, les options disponibles peuvent \xeatre consult\xe9es en ajoutant l'option --help \xe0 la commande :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"/usr/lib/centreon/plugins/./centreon_vmware_connector_client.pl \\\n    --plugin=apps::vmware::connector::plugin \\\n    --mode=snapshot-vm  \\\n    --help\n")),(0,n.kt)("h3",{id:"jobtiens-les-erreurs-suivantes-"},"J'obtiens les erreurs suivantes :"),(0,n.kt)("h4",{id:"unknown-unknown-container-name-default-"},"UNKNOWN: Unknown container name 'default' |"),(0,n.kt)("p",null,"Ce message d'erreur signifie que le ",(0,n.kt)("strong",{parentName:"p"},"container* pass\xe9 en argument n'existe pas dans la configuration du connecteur VMWare.\nV\xe9rifiez la macro "),"CENTREONVMWARECONTAINER*",(0,n.kt)("em",{parentName:"p"}," sur l'h\xf4te ou v\xe9rifiez la configuration dans le fichier "),"/etc/centreon/centreon_vmware.pm*"),(0,n.kt)("h4",{id:"unknown-container-connection-problem-"},"UNKNOWN: Container connection problem |"),(0,n.kt)("p",null,"Ce message signifie que vous avez un probl\xe8me avec les identifiants li\xe9s \xe0 votre ",(0,n.kt)("strong",{parentName:"p"},"container"),".\nV\xe9rifiez les identifiants dans le fichier ",(0,n.kt)("em",{parentName:"p"},"/etc/centreon/centreon_vmware.pm"),".\nVous pouvez aussi regarder les logs pour plus d'informations: ",(0,n.kt)("em",{parentName:"p"},"/var/log/centreon/centreon_vmware.log")),(0,n.kt)("h4",{id:"unknown-cannot-get-response-timeout-received"},"UNKNOWN: Cannot get response (timeout received)"),(0,n.kt)("p",null,"Ce messsage d'erreur signifie que le plugin n'a pas eu de r\xe9ponse du daemon VMWare.\nV\xe9rifiez vos param\xe8tres de connexion et les macros ",(0,n.kt)("strong",{parentName:"p"},"CENTREONVMWAREHOST")," et ",(0,n.kt)("strong",{parentName:"p"},"CENTREONVMWAREPORT"),"."))}g.isMDXComponent=!0}}]);