"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[19334],{47942:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>u,default:()=>h,frontMatter:()=>p,metadata:()=>c,toc:()=>g});n(67294);var a=n(3905),r=n(51715),o=n(7626);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const p={id:"network-aruba-instant-snmp",title:"Aruba Instant SNMP"},u=void 0,c={unversionedId:"integrations/plugin-packs/procedures/network-aruba-instant-snmp",id:"integrations/plugin-packs/procedures/network-aruba-instant-snmp",title:"Aruba Instant SNMP",description:"Overview",source:"@site/pp/integrations/plugin-packs/procedures/network-aruba-instant-snmp.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/network-aruba-instant-snmp",permalink:"/centreon-documentation/pr-preview/staging/pr-2776/pp/integrations/plugin-packs/procedures/network-aruba-instant-snmp",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/pp/integrations/plugin-packs/procedures/network-aruba-instant-snmp.md",tags:[],version:"current",frontMatter:{id:"network-aruba-instant-snmp",title:"Aruba Instant SNMP"},sidebar:"pp",previous:{title:"Aruba CPPM SNMP",permalink:"/centreon-documentation/pr-preview/staging/pr-2776/pp/integrations/plugin-packs/procedures/network-aruba-cppm-snmp"},next:{title:"Aruba Orchestrator Rest API",permalink:"/centreon-documentation/pr-preview/staging/pr-2776/pp/integrations/plugin-packs/procedures/network-aruba-orchestrator-restapi"}},m={},g=[{value:"Overview",id:"overview",level:2},{value:"Monitoring Connector assets",id:"monitoring-connector-assets",level:2},{value:"Monitored objects",id:"monitored-objects",level:3},{value:"Collected metrics",id:"collected-metrics",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Device Configuration",id:"device-configuration",level:3},{value:"Network flows",id:"network-flows",level:3},{value:"Installation",id:"installation",level:2},{value:"Host configuration",id:"host-configuration",level:2},{value:"How to test my plugin and what do the main parameters stand for ?",id:"how-to-test-my-plugin-and-what-do-the-main-parameters-stand-for-",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"UNKNOWN: SNMP GET Request : Timeout",id:"unknown-snmp-get-request--timeout",level:3},{value:"UNKNOWN: SNMP GET Request : Cant get a single value.",id:"unknown-snmp-get-request--cant-get-a-single-value",level:3}],d={toc:g},k="wrapper";function h(e){var{components:t}=e,n=s(e,["components"]);return(0,a.kt)(k,l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){i(e,t,n[t])}))}return e}({},d,n),{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,"Aruba Networks is a provider of network access solutions for enterprises."),(0,a.kt)("p",null,"The Centreon Monitoring Connector ",(0,a.kt)("em",{parentName:"p"},"Aruba Instant SNMP")," relies on the SNMP protocol to query and collect status and metrics of the Aruba Wireless Access Point equipments. "),(0,a.kt)("h2",{id:"monitoring-connector-assets"},"Monitoring Connector assets"),(0,a.kt)("h3",{id:"monitored-objects"},"Monitored objects"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Wireless Access Point")),(0,a.kt)("h3",{id:"collected-metrics"},"Collected metrics"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Ap-Usage",label:"Ap-Usage",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"accesspoints.total.count"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Number of access points on the Aruba device"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"ap_name#clients.current.count"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Number of clients connected to the access point"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"ap_name#cpu.utilization.percentage"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Percentage of used CPU on the access point"),(0,a.kt)("td",{parentName:"tr",align:"left"},"%")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"ap_name#memory.usage.bytes"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Memory usage of the access point"),(0,a.kt)("td",{parentName:"tr",align:"left"},"B")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"ap_name#memory.usage.percentage"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Percentage of memory usage of the access point"),(0,a.kt)("td",{parentName:"tr",align:"left"},"%")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"ap_name#memory.free.bytes"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Free memory on the access point"),(0,a.kt)("td",{parentName:"tr",align:"left"},"B")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"ap_name#memory.free.percentage"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Percentage of free memory on the access point"),(0,a.kt)("td",{parentName:"tr",align:"left"},"%")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"ap_name#memory.usage.bytes"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Memory usage on the access point"),(0,a.kt)("td",{parentName:"tr",align:"left"},"B")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"ap_name#memory.usage.percentage"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Percentage of memory usage on the access point"),(0,a.kt)("td",{parentName:"tr",align:"left"},"%"))))),(0,a.kt)(o.Z,{value:"SSID-Status",label:"SSID-Status",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"status"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Check SSID status"),(0,a.kt)("td",{parentName:"tr",align:"left"})))))),(0,a.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,a.kt)("h3",{id:"device-configuration"},"Device Configuration"),(0,a.kt)("p",null,"The SNMP agent must be configured and running on the Aruba device. Please refer to the manufacturer documentation to achieve this."),(0,a.kt)("h3",{id:"network-flows"},"Network flows"),(0,a.kt)("p",null,"The Centreon Poller must be able to reach the UDP/161 SNMP port of the Aruba device."),(0,a.kt)("h2",{id:"installation"},"Installation"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install the Centreon package on every Centreon Poller expected to monitor Aruba Wireless Access Point equipments:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yum install centreon-plugin-Network-Aruba-Instant-Snmp\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"On the Centreon Web interface, install the ",(0,a.kt)("em",{parentName:"li"},"Aruba Instant SNMP")," Monitoring Connector through ",(0,a.kt)("strong",{parentName:"li"},"Configuration > Monitoring Connectors Manager")," page."))),(0,a.kt)(o.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install the Centreon package on every Centreon Poller expected to monitor Aruba Wireless Access Point equipments :")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yum install centreon-plugin-Network-Aruba-Instant-Snmp\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Install the Centreon Monitoring Connector RPM on the Centreon Central server:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yum install centreon-pack-network-aruba-instant-snmp\n")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"On the Centreon Web interface, install the ",(0,a.kt)("em",{parentName:"li"},"Aruba Instant SNMP")," Monitoring Connector through ",(0,a.kt)("strong",{parentName:"li"},"Configuration > Monitoring Connectors Manager")," page.")))),(0,a.kt)("h2",{id:"host-configuration"},"Host configuration"),(0,a.kt)("p",null,"Create your Host and apply the ",(0,a.kt)("em",{parentName:"p"},"Net-Aruba-Instant-SNMP-custom")," Host Template. You must set SNMP Community and Version in the dedicated fields of the Host Form. "),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"When using SNMP v3, use the SNMPEXTRAOPTIONS Macro to add specific authentication parameters\nMore information in the ",(0,a.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2776/pp/integrations/plugin-packs/getting-started/how-to-guides/troubleshooting-plugins#snmpv3-options-mapping"},"Troubleshooting SNMP")," section.")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Obligatoire"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Nom"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"}),(0,a.kt)("td",{parentName:"tr",align:"left"},"SNMPEXTRAOPTIONS"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Configure your own SNMPv3 credentials combo")))),(0,a.kt)("h2",{id:"how-to-test-my-plugin-and-what-do-the-main-parameters-stand-for-"},"How to test my plugin and what do the main parameters stand for ?"),(0,a.kt)("p",null,"Once the plugin is installed, you can test it logging into the CLI with the centreon-engine user."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"/usr/lib/centreon/plugins//centreon_aruba_instant_snmp.pl --plugin=network::aruba::instant::snmp::plugin \\\n    --mode=ap-usage \\\n    --hostname=10.30.2.11 \\\n    --snmp-version='2c' \\\n    --snmp-community='test/aruba' \\\n    --filter-name='' \\\n    --warning-status='' \\\n    --critical-status='%{status} !~ /up/i' \\\n    --warning-cpu='' \\\n    --critical-cpu='' \\\n    --warning-clients='20' \\\n    --critical-clients='50' \\\n    --warning-mem-usage='' \\\n    --critical-mem-usage='' \\\n    --warning-mem-usage-free='' \\\n    --critical-mem-usage-free='' \\\n    --warning-mem-usage-prct='' \\\n    --critical-mem-usage-prct='' \\\n    --verbose\n\n")),(0,a.kt)("p",null,"The command above collects usage data for an Aruba access point (",(0,a.kt)("inlineCode",{parentName:"p"},"--mode=ap-usage"),"). Mandatory options are the IP/FQDN of the device "),(0,a.kt)("p",null,"(",(0,a.kt)("inlineCode",{parentName:"p"},"--hostname=10.30.2.11"),") and the SNMP version you have set on your appliance (",(0,a.kt)("inlineCode",{parentName:"p"},"--snmp-community='test/aruba'"),")."),(0,a.kt)("p",null,"This command would trigger a WARNING alarm if the number of clients connected to the device is greater than 20 (",(0,a.kt)("inlineCode",{parentName:"p"},"--warning-clients='20'"),") and "),(0,a.kt)("p",null,"a CRITICAL alarm if the number of clients connected to the device is greater than 50 (",(0,a.kt)("inlineCode",{parentName:"p"},"--critical-clients='50'"),")."),(0,a.kt)("p",null,"All available options for a given mode can be displayed by adding the ",(0,a.kt)("inlineCode",{parentName:"p"},"--help")," parameter to the command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"/usr/lib/centreon/plugins//centreon_aruba_instant_snmp.pl \\\n    --plugin=network::aruba::instant::snmp::plugin \\\n    --mode=ap-usage \\\n    --help\n")),(0,a.kt)("p",null,"All plugin modes can be listed with the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"/usr/lib/centreon/plugins//centreon_aruba_instant_snmp.pl \\\n    --plugin=network::aruba::instant::snmp::plugin \\\n    --list-mode\n")),(0,a.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,a.kt)("h3",{id:"unknown-snmp-get-request--timeout"},"UNKNOWN: SNMP GET Request : Timeout"),(0,a.kt)("p",null,"If you get this error, it may indicate that some flows are blocked between the Centreon Poller and the Aruba devices. "),(0,a.kt)("p",null,"It can also mean that the Centreon Host Configuration doesn't reflect the SNMP configuration on Aruba side (version, community). "),(0,a.kt)("h3",{id:"unknown-snmp-get-request--cant-get-a-single-value"},"UNKNOWN: SNMP GET Request : Cant get a single value."),(0,a.kt)("p",null,"You may get this error when SNMP privileges are not wide enough. You can check that the SNMP community used in your command line has enough rights to walk the Aruba entreprise SNMP branch: .1.3.6.1.4.1.14823 "),(0,a.kt)("p",null,"You can use the snmpwalk utilities which is provided through net-snmp package."))}h.isMDXComponent=!0}}]);