<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-23.10 plugin-docs plugin-id-default docs-doc-id-reporting/concepts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Concepts | Centreon Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.centreon.com/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/concepts/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="23.10"><meta data-rh="true" name="docusaurus_tag" content="docs-default-23.10"><meta data-rh="true" name="docsearch:version" content="23.10"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-23.10"><meta data-rh="true" property="og:title" content="Concepts | Centreon Documentation"><meta data-rh="true" name="description" content="Availability &amp; events"><meta data-rh="true" property="og:description" content="Availability &amp; events"><link data-rh="true" rel="icon" href="/centreon-documentation/pr-preview/staging/pr-2806/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.centreon.com/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/concepts/"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/concepts/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/reporting/concepts/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/concepts/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://3WEC6XPLDB-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-8418698-13","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BGL69N5GPJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BGL69N5GPJ",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Centreon Documentation" href="/centreon-documentation/pr-preview/staging/pr-2806/opensearch.xml"><link rel="stylesheet" href="/centreon-documentation/pr-preview/staging/pr-2806/assets/css/styles.86f4f2b4.css">
<link rel="preload" href="/centreon-documentation/pr-preview/staging/pr-2806/assets/js/runtime~main.675c8b66.js" as="script">
<link rel="preload" href="/centreon-documentation/pr-preview/staging/pr-2806/assets/js/main.c16a1087.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/centreon-documentation/pr-preview/staging/pr-2806/"><div class="navbar__logo"><img src="/centreon-documentation/pr-preview/staging/pr-2806/img/logo_centreon_dark.png" alt="Logo Centreon Docs" class="themedImage_ToTc themedImage--light_HNdA"><img src="/centreon-documentation/pr-preview/staging/pr-2806/img/logo_centreon.png" alt="Logo Centreon Docs" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/getting-started/welcome/">Centreon OnPrem</a><a class="navbar__item navbar__link" href="/centreon-documentation/pr-preview/staging/pr-2806/pp/integrations/plugin-packs/getting-started/introduction/">Monitoring Connectors</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/getting-started/welcome/">23.10</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/concepts/">23.10</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-archived-versions"><b>Archived versions</b></li><li><a href="https://archives-docs.centreon.com/21.04/" target="_blank" rel="noopener noreferrer" class="dropdown__link">21.04<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://archives-docs.centreon.com/20.10/" target="_blank" rel="noopener noreferrer" class="dropdown__link">20.10<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://archives-docs.centreon.com/20.04/" target="_blank" rel="noopener noreferrer" class="dropdown__link">20.04<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://docs-older.centreon.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">Older<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>🇬🇧 English</a><ul class="dropdown__menu"><li><a href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/concepts/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">🇬🇧 English</a></li><li><a href="/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/reporting/concepts/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">🇫🇷 Français</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/getting-started/welcome/">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/installation/introduction/">Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/administration/secure-platform/">Secure your platform</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/monitoring/about/">Monitoring resources</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/alerts-notifications/concepts/">Managing events and alerts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/monitoring/basic-objects/contacts/">Managing Centreon users</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/metrology/chart-management/">Performance graphs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/service-mapping/introduction/">Service Mapping</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/category/graphical-views/">Graphical views</a><button aria-label="Toggle the collapsible sidebar category &#x27;Graphical views&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/introduction/">Reporting</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/introduction/">Introduction to Centreon MBI</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/manage-reports/">Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/manage-reports/">Generate reports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/reports/">Available reports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/widgets/">Widgets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/configure/">Configure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/concepts/">Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/report-development/">Report development</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/installation/">Administrate</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/administration/parameters/centreon-ui/">Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/update/update-centreon-platform/">Update, Upgrade &amp; Migrate</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/centreon-documentation/pr-preview/staging/pr-2806/pp/integrations/plugin-packs/getting-started/introduction/">Monitoring Connectors</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/integrations/introduction-integrations/">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/mobile/introduction/">Centreon mobile</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/category/developer-resources/">Developer resources</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developer resources&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/installation/installation-of-centreon-ha/overview/">Centreon HA</a><button aria-label="Toggle the collapsible sidebar category &#x27;Centreon HA&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/health/centreon-agent/">Monitoring your platform</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/releases/introduction/">Releases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/security/">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/resources/known-issues/">Resources</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Concepts</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="availability--events">Availability &amp; events<a href="#availability--events" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Availability and event data relate to changes in the state of hosts and
services. These data are used in report designs and by the event and
availability widgets included in Centreon MBI.</p><p>There are no special system prerequisites for creating the reports that
use this information, other than a plugin that returns the state. This
section describes basic concepts and calculations needed for using and
analyzing Centreon MBI reports.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="availability">Availability<a href="#availability" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="hosts">Hosts<a href="#hosts" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>A host is considered available when its state is &quot;Up&quot;.</p><p>The formula for calculating the availability rate is: &quot;Up&quot; duration /
(&quot;Up&quot; + &quot;Down&quot; durations)</p><p>Additional rules:</p><ul><li>Time spent in the &quot;Unreachable&quot; state is not considered in the
calculation of availability.</li><li>Time spent in &quot;Planned Downtime&quot; is not considered in the
calculation of availability.</li></ul><p>Example: For a report covering one day, if a host is available 23 hours
and unavailable 1 hour out of a 24 hour-period, its availability will be
23 hours / (23 + 1) ~ 95.8%.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="services">Services<a href="#services" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>A service is considered available when its state is &quot;OK&quot; or
&quot;Warning&quot;</p><p>The formula for calculating the availability rate is: (&quot;OK&quot; + &quot;Warning&quot;
durations) / (&quot;OK&quot; + &quot;Warning&quot; + &quot;Critical&quot; durations)</p><p>Additional rules:</p><ul><li>Time spent in the &quot;Unknown&quot; state is not considered in the
calculation of the availability.</li><li>Time spent in &quot;Planned Downtime&quot; is not considered in the
calculation of availability.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="events">Events<a href="#events" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Only <strong>validated</strong> events are considered in the calculation of events.
This corresponds to the &quot;HARD&quot; state in Centreon.</p><p>In the reports, several message types correspond to different states:</p><ul><li>Exception: Denotes a &quot;Down&quot; state for a host and a &quot;Critical&quot;
state for a service.</li><li>Warning: Denotes a &quot;Warning&quot; state for the services, but there is
no equivalent for hosts.</li><li>Information: Any other state.</li></ul><p>An event on a host or service is characterized by three values:</p><ul><li>A start date</li><li>An end date</li><li>A state.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="additional-indicators">Additional indicators<a href="#additional-indicators" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li>MTRS (Mean Time To Restore Service) pertains to maintainability:
Average duration of the failure. This indicator should be as low as
possible.</li><li>MTBF (Mean Time Between Failures) pertains to reliability: Average
time between the end of an incident and the beginning of the next.
This indicator should be as high as possible.</li><li>MTBSI (Mean Time Between Service Incidents): Average time between the
beginning of two incidents. This indicator should be as high as
possible.</li></ul><p>The diagram below shows the scope of these indicators:</p><p><img loading="lazy" alt="image" src="/centreon-documentation/pr-preview/staging/pr-2806/assets/images/mtbf_mtbsi_mtrs_explanation-c309e18559c129e1da9dcd0cab037e08.png" width="2052" height="662" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices">Best practices<a href="#best-practices" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices-for-monitoring">Best practices for monitoring<a href="#best-practices-for-monitoring" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="quality-of-plugins-performance-and-capacity-data">Quality of plugins, performance and capacity data<a href="#quality-of-plugins-performance-and-capacity-data" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>To obtain reporting on performance data using default Centreon MBI
reports, you should monitor at least some basic performance indicators
(metrics):</p><ul><li><p>CPU -- Should return a percentage value, using one or more metrics
(cpu_total, cpu_sys, cpu_1, etc.), with 100 as the maximum value.</p></li><li><p>Memory should return at least one metric with this information:</p></li><li><p>Memory usage: the value expressed in bytes only</p></li><li><p>Memory usage warning threshold</p></li><li><p>Memory usage critical threshold</p></li><li><p>Total allocated memory in Bytes.</p></li></ul><p>The plugin for monitoring this indicator must return the following output:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">status information </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">metric_name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">valueunit</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">warning_threshold</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">critical_threshold</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">min_value</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">max_value</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>Storage usage -- Two possible kinds of service:</p></li><li><p>Monitoring one partition by service (metrics are often designated  as &quot;used&quot; and &quot;size&quot;)</p></li><li><p>Monitoring multiple partitions by service and each metric corresponds to a partition name.</p><p>In these two cases, the performance data returned by storage plugins must correspond to this format:</p><p>   status information | metric_name=valueunit;warning_threshold;critical_threshold;min_value;max_value metric_name_2=value...</p></li><li><p>Traffic -- Standard traffic reports use two metrics in parameters,
one for the inbound traffic and one for the outbound. For
compatibility, your plugins must return two metrics, although their
names do not matter. For each metric, the maximum possible value
must be specified. This is the recommended plugin format:</p></li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">any status information </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$inboundTrafic</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$value</span><span class="token variable" style="color:#36acaa">$unit</span><span class="token punctuation" style="color:#393A34">;</span><span class="token variable" style="color:#36acaa">$warning_threshold</span><span class="token punctuation" style="color:#393A34">;</span><span class="token variable" style="color:#36acaa">$critical_threshold</span><span class="token punctuation" style="color:#393A34">;</span><span class="token variable" style="color:#36acaa">$min_value</span><span class="token punctuation" style="color:#393A34">;</span><span class="token variable" style="color:#36acaa">$max_value</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$outBoundTrafic</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Using the Centreon Monitoring Connectors guarantees the quality of your data.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="default-units">Default units<a href="#default-units" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Be sure that the data sent by the plugins is expressed in the same units
as similar data used with other services. We strongly recommend
verifying that the plugins use these units:</p><ul><li>Time: seconds</li><li>Traffic: bits/sec</li><li>Storage: bytes</li><li>Memory/Swap: bytes</li></ul><blockquote><p>Using the Centreon Monitoring Connectors guarantees the quality of your data.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices-for-configuring-centreon-objects">Best practices for configuring Centreon objects<a href="#best-practices-for-configuring-centreon-objects" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>In Centreon MBI, each report design has several parameters that allow
you to generate customized documents according to your business
requirements.</p><p>Parameter types can be:</p><ul><li><p>A main object on which the report will be generated, such as:</p><ul><li>A host</li><li>A host group: functional group defined in Centreon to classify
hosts by customer, application, business unit, country, etc.</li><li>Several host groups.</li></ul></li><li><p>A time period (or &quot;Business hours&quot; also called &quot;Live service&quot;)
for which statistics will be calculated.</p></li><li><p>Filters that take into account only specific types of hardware,
services and metrics from selected host groups:</p></li><li><p>Host categories: Classifies hosts into technical groups for determining the type or technical function
of a host (e.g., Linux servers, Windows servers, Cisco routers, printers).</p></li><li><p>Service categories: Defines the type of service (e.g., CPU, physical memory, storage).</p></li><li><p>Metrics: Indicates performance data collected by the services
(monitoring indicators). One monitoring service can collect
several metrics. However metric names and units are not
standardized. For instance, one CPU-type service can collect only
a metric called &quot;cpu_average&quot; defined in percentages, and
another CPU-type service can collect a metric by CPU core
configured in the hardware. Therefore, when generating a report,
it is essential to select the metrics used in calculating the statistics.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="host-groups-and-categories">Host groups and categories<a href="#host-groups-and-categories" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>The definitions of host groups and categories listed in the previous
chapter comply with the best practices established by Centreon.</p><p>However, the groups and categories that you create should correspond to
your business requirements.</p><p>Example:</p><p>If you need to report the number of alerts generated by IT field, with a
detailed distribution by type of hardware, you will have to define the
host groups and categories using this method:</p><ul><li>Host groups: <strong>Databases</strong>, Applications, Security, Network, Mail,
etc.</li><li>Host categories: DB2-Servers, MySQL-Servers, Oracle-Servers,
SQL-Servers, etc.</li></ul><p>Here is an example of statistics that you can obtain using those groups
and categories:</p><p><img loading="lazy" alt="image" src="/centreon-documentation/pr-preview/staging/pr-2806/assets/images/pie_charts-1f2b9904e42f161e886628868ce3e935.png" width="711" height="338" class="img_ev3q"></p><p>The host group is the first analysis axis. The host category allows you
to analyze the statistics in subsets.</p><p>In the same way, we can analyze the statistics using the following
dimensions:</p><ul><li>By country (host group) with a data distribution by type of network
hardware (host category)</li><li>By country (host group) with a data distribution by customer (host
category)</li><li>By customer (host group) with a data distribution by country (host
category)</li><li>By customer (host group) with a data distribution by application
server (host category)</li></ul><p>There is no standard set of rules for defining host groups and
categories. They must correspond to your reporting needs.</p><p><strong>Creating categories and groups</strong></p><ul><li>You associate hosts to host groups in the <em>Configuration &gt; Hosts &gt;
Host groups</em> menu on the Centreon interface. You can also use the
<em>Relations</em> tab in the host add/modification form.</li><li>You associate hosts and host categories in the
<strong>Configuration &gt; Hosts &gt; Categories</strong> menu. You can also use the
<strong>Relations</strong> tab in the host add/modification form.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-categories">Service categories<a href="#service-categories" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Service categories allow you to organize services (monitoring
indicators) into subsets. The most common usage of service categories is
for defining categories based on service types, e.g., CPU, physical
memory, storage, Process-Oracle, DNS, Process-WebSphere.</p><p>This type of configuration lets you:</p><ul><li>Compare the number of alerts generated by each type of service.</li><li>Select the service category that indicates storage usage information
when you need to generate a capacity report.</li></ul><p><strong>Like the host groups and categories, service categories must be
defined according to your reporting needs.</strong></p><p>For instance, if you need to analyze the storage space allocated and
used by DBMS or an application type, you may need to create several
service categories. Instead of using only one service category named
&quot;Storage&quot; or &quot;Disk&quot;, you could create these service categories:</p><ul><li>&quot;Operating system&quot;</li><li>&quot;Oracle&quot;</li><li>&quot;SQL Server&quot;</li></ul><p>Here is an example of statistics that you can obtain using these service
categories:</p><p><img loading="lazy" alt="image" src="/centreon-documentation/pr-preview/staging/pr-2806/assets/images/storage_example-1002826480ef742c7259fc135fb81021.png" width="680" height="271" class="img_ev3q"></p><p>You associate services and service categories in the <em>Configuration &gt; Services &gt; Categories</em> menu in
the Centreon Interface. You can also use the <em>Relation</em> tab in the add/modification form of a given service.</p><blockquote><p>For managing service categories, we highly recommend that you only use the service templates.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="extract-transform-load-etl">Extract, Transform, Load (ETL)<a href="#extract-transform-load-etl" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="change-history">Change history<a href="#change-history" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Centreon MBI logs every change affecting the relationships between
hosts, services, groups and categories.</p><p>Example:</p><ul><li>Host &quot;H1&quot; is related to host group &quot;G1&quot; in January.</li><li>Host &quot;H1&quot; no longer belongs to group &quot;G1&quot; as of February 1.</li><li>After this change, if a report is generated for group &quot;G1&quot; over
the reporting period of January, the statistics of host &quot;H1&quot; will
be considered in the statistics of group &quot;G1&quot;.</li><li>The statistics of host &quot;H1&quot; will not be considered for group
&quot;G1&quot; if the reporting period selected is February.</li><li>If the reporting period starts on January 15 and ends on February
15, the statistics of host &quot;H1&quot; will be considered for the
statistics of group &quot;G1&quot; only from January 15 to January 31.</li></ul><p><strong>The initial Centreon setup and the relationship between objects must
be clearly defined before installing Centreon MBI on a production
platform. Any change to the configuration of a host, group or category
is considered to be a normal part of their lifecycle.</strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution-modes">Execution modes<a href="#execution-modes" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>The Centreon MBI reporting database or &quot;data warehouse&quot; is updated every
day with aggregated data calculated by the ETL, processing potentially
millions of lines of data on your platform. For this reason the ETL and
data warehouse play a critical role that should be understood.</p><p>The ETL operates in <strong>two modes</strong>:</p><ul><li><p><strong>Daily mode</strong>: When up and running, Centreon MBI reporting platform
normally functions in this mode. Centreon data is imported daily
into the reporting database, but incrementally. More specifically:</p><ul><li>data_bin is imported incrementally and aggregations are
calculated only for the previous day.</li><li>the entire hoststatevents and servicestatevents tables are
imported but events are calculated incrementally.</li></ul><p>The update process can take a matter of seconds up to several minutes
depending on the size of your monitored environment.
The daily mode is configured in a crontab file located in
<code>/etc/cron.d/centreon-bi-engine</code>:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> * * * root /usr/share/centreon-bi/bin/centreonBIETL </span><span class="token parameter variable" style="color:#36acaa">--daily</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> /var/log/centreon-bi/centreonBIETL.log </span><span class="token operator file-descriptor important" style="color:#393A34">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token file-descriptor important">&amp;1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><blockquote><p><strong>Warning</strong></p><p>Executing this script multiple times on the same day will cause
duplication problems.</p></blockquote><ul><li><p><strong>Rebuild mode</strong>: After installation of the Centreon MBI platform,
this mode if often used in case of data corruption. You can import
and calculate statistics over a defined period, or by using the
<strong>retention parameters</strong>.</p><p>Example:</p><p>/usr/share/centreon-bi/bin/centreonBIETL -r</p><p>To obtain acceptable execution times and manage all the data generated
by your Centreon platform, the hardware configuration, storage
capacity and MariaDB optimizations are three important points to
consider when installing Centreon MBI. For recommendations, consult
the online documentation in the Architecture &amp; Pre-requisites
chapters.</p></li></ul><blockquote><p>We advise you to monitor the reporting database using the dedicated Monitoring Connector. If the ETL does
not work for several days or the raw data is not up to date, you
must perform a rebuild for the missing days. The ETL <strong>does not
automatically</strong> reimport and calculate the missing days. Do not hesitate
to contact the Centreon support team for assistance.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="execution-options">Execution Options<a href="#execution-options" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Various parameter options can be passed to the script to execute
specific actions:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token parameter variable" style="color:#36acaa">-c</span><span class="token plain">  Create the reporting database model.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain">  Daily execution to calculate statistics on yesterday.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain">  Rebuild mode to calculate statistics on a historical period. Can be used with:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Extra arguments </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> options </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> and </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">if none of the following is specified, these ones are selected by default: -IDEP</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">-I</span><span class="token plain">  Extract data from the monitoring server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Extra arguments </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> option -I:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter variable" style="color:#36acaa">-C</span><span class="token plain">  Extract Centreon configuration database only. Works with option -I.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain">  Ignore perfdata extraction from monitoring server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter variable" style="color:#36acaa">-o</span><span class="token plain">  Extract only perfdata from monitoring server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">-D</span><span class="token plain">  Calculate dimensions.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">-E</span><span class="token plain">  Calculate event and availability statistics.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">-P</span><span class="token plain">  Calculate perfdata statistics.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Common options </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> -rIDEP:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter variable" style="color:#36acaa">-s</span><span class="token plain">  Start </span><span class="token function" style="color:#d73a49">date</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">format</span><span class="token plain"> YYYY-MM-DD.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        By default, the program uses the data retention period from Centreon MBI configuration.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter variable" style="color:#36acaa">-e</span><span class="token plain">  End </span><span class="token function" style="color:#d73a49">date</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">format</span><span class="token plain"> YYYY-MM-DD.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        By default, the program uses the data retention period from Centreon MBI configuration.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain">  Do not empty statistic tables</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> delete only entries </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> the processed period.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Does not work on raw data tables, only on Centreon MBI statistics tables.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If no &quot;start&quot; or &quot;end&quot; date is given to the ETL script, the start
and end date are automatically calculated using the retention parameters
configured on the interface in General Option &gt; Data retention
Parameter.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="performance">Performance<a href="#performance" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>If ETL processing seems too long in daily or rebuild mode, you should
consider optimizing your reporting server by:</p><ul><li>Optimizing the MariaDB configuration.</li><li>Storing the database on a high-performance disk (e.g., with no i/o
wait time).</li><li>Adding more physical memory (+ optimize configuration).</li><li>Not sharing storage or the database with other applications.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="purge">Purge<a href="#purge" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Data purging can be activated in Centreon MBI General Options to ensure
that the database complies with the retention configuration. You
activate this function through the interface AND in the following cron
on the reporting server: <code>/etc/cron.d/centreon-bi-purge</code>.</p><p>Reporting dimensions (combination of groups/host
categories/services/metrics) with no relating data are automatically
deleted from the reporting database.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-apply-a-new-configuration-to-historical-data">How to apply a new configuration to historical data<a href="#how-to-apply-a-new-configuration-to-historical-data" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><blockquote><p>This procedure deletes all previously calculated data (and links between
objects) and recalculates data based on the retention period in the
latest Centreon configuration.</p></blockquote><p>When implementing Centreon reporting, you may expect to re-execute your
statistical calculations a number of times if the Centreon configuration
changes. When you have finished making changes to groups and categories,
you can run the commands below on the REPORTING server, preferably in
the morning (due to several hours of potential processing time). This
procedure does not include the importing of logs or raw data. Make sure
all data imported from Centreon is up to date on your reporting server
by running the following command:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon-bi/etl/centreonbiMonitoring.pl --db-content</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And make sure &quot;ETL OK - Database is up to date&quot; appears OR that the
following tables are not listed:</p><ul><li>data_bin</li><li>hoststatevents</li><li>servicestateevents</li></ul><p>If you run the following set of ETL commands without any start and end
parameters, the calculations will be based on the retention parameter
defined in the Centreon MBI &gt; General Option &gt; Data retention tab
menu. If you are currently installing or testing the product, you may
consider reducing the retention time BEFORE processing and restore the
default value (365 days) AFTER processing. This will help speed up
calculation time.</p><p><img loading="lazy" alt="image" src="/centreon-documentation/pr-preview/staging/pr-2806/assets/images/etl_dataRetention-75d8b5ebfae865e339d641b91a259ecd.png" width="1686" height="634" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="import-the-latest-centreon-configuration">Import the latest Centreon configuration<a href="#import-the-latest-centreon-configuration" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon-bi/etl/importData.pl </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> --centreon-only</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="calculate-reporting-dimensions">Calculate reporting dimensions<a href="#calculate-reporting-dimensions" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>This command will erase all previous changes tracked by the reporting
mechanism and include only the latest. If you want to include former
changes, replace the <strong>-r</strong> by <strong>-d</strong>::</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon-bi/etl/dimensionsBuilder.pl </span><span class="token parameter variable" style="color:#36acaa">-r</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="aggregate-events-and-availability">Aggregate events and availability<a href="#aggregate-events-and-availability" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">nohup</span><span class="token plain"> /usr/share/centreon-bi/etl/eventStatisticsBuilder.pl </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /var/log/centreon-bi/rebuildAllEvents.log </span><span class="token operator" style="color:#393A34">&amp;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="aggregate-performance-data-storage-traffic-etc">Aggregate performance data (storage, traffic, etc.)<a href="#aggregate-performance-data-storage-traffic-etc" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">nohup</span><span class="token plain"> /usr/share/centreon-bi/etl/perfdataStatisticsBuilder.pl </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /var/log/centreon-bi/rebuildAllPerf.log </span><span class="token operator" style="color:#393A34">&amp;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-rebuild-missing-reporting-data">How to rebuild missing reporting data<a href="#how-to-rebuild-missing-reporting-data" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>You may require this procedure when the monitoring plugin of your
reporting server returns a state other than &quot;OK&quot;. This may appear
during daily processing (e.g., data is not up to date, there is
insufficient space on the reporting server, or processing was manually
interrupted).</p><p>The plugin may return a message that your database is not up to date, as
in the following example: :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon-bi/etl/centreonbiMonitoring.pl --db-content</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Table mod_bam_reporting, last entry: </span><span class="token number" style="color:#36acaa">2020</span><span class="token plain">-07-01 00:00:00</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Table mod_bi_ba_incidents, last entry: </span><span class="token number" style="color:#36acaa">2020</span><span class="token plain">-07-01 00:00:00</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Table hoststateevents, last entry: </span><span class="token number" style="color:#36acaa">2020</span><span class="token plain">-07-01 00:00:00</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Table servicestateevents, last entry: </span><span class="token number" style="color:#36acaa">2020</span><span class="token plain">-07-01 00:00:00</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Table mod_bi_hoststateevents, last entry: </span><span class="token number" style="color:#36acaa">2020</span><span class="token plain">-07-01 00:00:00</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Table mod_bi_servicestateevents, last entry: </span><span class="token number" style="color:#36acaa">2020</span><span class="token plain">-07-01 00:00:00</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Table mod_bi_hostavailability, last entry: </span><span class="token number" style="color:#36acaa">2020</span><span class="token plain">-07-01 00:00:00</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Table mod_bi_serviceavailability, last entry: </span><span class="token number" style="color:#36acaa">2020</span><span class="token plain">-07-01 00:00:00</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Table data_bin, last entry: </span><span class="token number" style="color:#36acaa">2020</span><span class="token plain">-08-01 00:00:00</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Table mod_bi_metricdailyvalue, last entry: </span><span class="token number" style="color:#36acaa">2020</span><span class="token plain">-08-01 00:00:00</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Table mod_bi_metrichourlyvalue, last entry: </span><span class="token number" style="color:#36acaa">2020</span><span class="token plain">-08-01 </span><span class="token number" style="color:#36acaa">23</span><span class="token plain">:00:00</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>When only the <code>mod_bi</code> tables appear, there is an incident
with aggregated data and not the Centreon data.</p><p>In this case, <strong>skip the &quot;Import Missing data&quot; section</strong> below.</p></li><li><p>If the following tables appear, a problem has occurred with the raw
data imported from Centreon:</p></li><li><p>hoststatevents</p></li><li><p>servicestateevents</p></li><li><p>All the mod_bam_reporting* tables</p></li><li><p>data_bin.</p></li></ul><p>First resolve any incidents on the Centreon side before executing the
procedure below.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Before running the commands in the procedure below, check that:</p><ul><li>The Centreon platform is up and running, and data is up to date.</li><li>The daily cron centreonBIETL is not enabled (it should be commented
out) on the reporting server in the file
/etc/cron.d/centreon-bi-engine. It must be enabled at the end of the
procedure.</li><li>The script dataRetentionManager.pl is not enabled (also commented
out) on the reporting server in the file
/etc/cron.d/centreon-bi-purge. It must be enabled at the end of the
procedure.</li><li>Retention is enabled on the interface.</li><li>Retention is configured for no more than 1024 days.</li><li>The scripts in <code>/etc/cron.d/centreon-bi-backup-reporting-server</code> are not enabled
(commented out). They must be enabled at the end of the procedure.</li></ul><blockquote><p>For the following commands, we advise you to use &quot;screen&quot; or &quot;nohup&quot; to
prevent disconnection due to timeout. And you must manually replace the following elements:</p><ul><li>$date_start$ should be replaced according to the data you want to retrieve (based on retention or starting point of missing data)</li><li>$date_end$ most of the time corresponds to the &quot;today&quot; date</li></ul></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="import-the-missing-data">Import the missing data<a href="#import-the-missing-data" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><ul><li>Import the data, without the performance data (data_bin table),
from a specific date according to the Availability retention period
you defined in <code>Centreon MBI &gt; Generation Option &gt; Data Retention
Parameters</code>:</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">nohup</span><span class="token plain"> /usr/share/centreon-bi/etl/importData.pl </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-s</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$date_start</span><span class="token plain">$-e </span><span class="token variable" style="color:#36acaa">$date_end</span><span class="token plain">$ --ignore-databin </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /var/log/centreon-bi/rebuild_importDataEvents.log </span><span class="token operator" style="color:#393A34">&amp;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*Execution time: fast </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">minutes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Import the data from data_bin, starting from the date the last data
was present in the database. You will find that date next to the
data_bin table, returned by the plugin: :</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">nohup</span><span class="token plain"> /usr/share/centreon-bi/etl/importData.pl </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> --no-purge --databin-only </span><span class="token parameter variable" style="color:#36acaa">-s</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$date_start</span><span class="token plain">$ </span><span class="token parameter variable" style="color:#36acaa">-e</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$date_end</span><span class="token plain">$ </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /var/log/centreon-bi/rebuild_importDataBin.log </span><span class="token operator" style="color:#393A34">&amp;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*Execution time: fast </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">minutes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, depending on the number of days imported.*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="update-reporting-dimensions">Update reporting dimensions<a href="#update-reporting-dimensions" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><ul><li>Update the dimensions. Using the <strong>&quot;-d&quot;</strong> option keeps the history
of changes made in the configuration. Avoid using the &quot;-r&quot; option
or you will have to rebuild all statistics: :</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">nohup</span><span class="token plain"> /usr/share/centreon-bi/etl/dimensionsBuilder.pl </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /var/log/centreon-bi/rebuild_dimensions.log </span><span class="token operator" style="color:#393A34">&amp;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*Execution time: fast </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">seconds or minutes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rebuild-missing-events-and-availability-data">Rebuild missing events and availability data<a href="#rebuild-missing-events-and-availability-data" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><ul><li>Rebuild events from a specific date according to the retention
period defined in Centreon MBI &gt; Generation Option &gt; Data
Retention Parameters: :</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">nohup</span><span class="token plain"> /usr/share/centreon-bi/etl/eventStatisticsBuilder.pl </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> --events-only </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /var/log/centreon-bi/rebuild_events.log </span><span class="token operator" style="color:#393A34">&amp;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*Execution time: Depending on the monitoring perimeter and the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">number of events: several hours but normally not longer than </span><span class="token number" style="color:#36acaa">24</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hours. In excess of this limit, please contact the Centreon support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">team.*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Rebuild the availability tables, starting from the day where the
last data was present. Check the mod_bi_hostavailability and
mod_bi_serviceavailability date returned by the plugin for the
latest build data:</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">nohup</span><span class="token plain"> /usr/share/centreon-bi/etl/eventStatisticsBuilder.pl </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> --no-purge --availability-only </span><span class="token parameter variable" style="color:#36acaa">-s</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$date_start</span><span class="token plain">$ </span><span class="token parameter variable" style="color:#36acaa">-e</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$date_end</span><span class="token plain">$ </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /var/log/centreon-bi/rebuild_availability.log </span><span class="token operator" style="color:#393A34">&amp;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*Execution time: From a few minutes to several hours, depending on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">the number of days of rebuild*.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rebuild-the-missing-performance-data">Rebuild the missing performance data<a href="#rebuild-the-missing-performance-data" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><ul><li>Rebuild the missing performance statistics. Check the earliest date
next to the mod_bi_metrichourlyvalue and mod_bi_metricdailyvalue
tables returned by the plugin for the last data calculated: :</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">nohup</span><span class="token plain"> /usr/share/centreon-bi/etl/perfdataStatisticsBuilder.pl </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> --no-purge </span><span class="token parameter variable" style="color:#36acaa">-s</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$date_start</span><span class="token plain">$ </span><span class="token parameter variable" style="color:#36acaa">-e</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$date_end</span><span class="token plain">$ </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /var/log/centreon-bi/rebuild_perfData.log </span><span class="token operator" style="color:#393A34">&amp;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*Execution time: From a few minutes to several hours, depending on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">the number of days to calculate. If the number of days of rebuild is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">greater than the hourly retention setting, the amount of data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">generated may be voluminous and the rebuild </span><span class="token function" style="color:#d73a49">time</span><span class="token plain"> long.*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-to-do-after-executing-the-scripts">What to do after executing the scripts<a href="#what-to-do-after-executing-the-scripts" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><ul><li><p>Case 1: <strong>The rebuild is performed on the same day</strong></p><p>Uncomment the lines in <code>/etc/cron.d/centreon-bi-engine</code> and
<code>/etc/cron.d/centreon-bi-purge</code> and restart the cron service:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart crond restart</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Case 2 : <strong>The rebuild finishes the next day</strong></p><ul><li><p>Uncomment the lines in <code>/etc/cron.d/centreon-bi-engine</code> and
<code>/etc/cron.d/centreon-bi-purge</code> and restart the cron service:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   systemctl restart crond restart</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Manually execute the daily script:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon-bi/bin/centreonBIETL </span><span class="token parameter variable" style="color:#36acaa">-d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li><p>Case 3: <strong>In other cases</strong>: Follow the procedure of partial rebuild for the missing days.</p><p>Example:
The rebuild took 4 days, from January 1 to January 4: You need to follow the procedure from the beginning and use date_start = 01-01 and date_end = 04/01
The procedure is over, the output of the BI monitoring plugin should be “ETL execution OK, database is up-to-date”.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="centreon-bam-statistics">Centreon BAM statistics<a href="#centreon-bam-statistics" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li><p>Follow this procedure if you rebuilt the Centreon BAM statistics.</p><ul><li>Reimport the BAM data from the central server to the reporting server by running the following command:</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon-bi/etl/importData.pl </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> --bam-only</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will import all Centreon BAM reporting tables.</p></li><li><p>If statistics are not up to date, follow this procedure:</p><ol><li>You need first to execute the following command to rebuild statistics on the central server:</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon/www/modules/centreon-bam-server/engine/centreon-bam-rebuild-events </span><span class="token parameter variable" style="color:#36acaa">--all</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Then import them using this command on the reporting server:</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon-bi/etl/importData.pl </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> --bam-only</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-rebuild-only-centile-statistics">How to rebuild only Centile statistics<a href="#how-to-rebuild-only-centile-statistics" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>To use the &quot;Monthly Network Percentile&quot; report you must activate
centile calculation and storage. Go to the <em>Reporting &gt; Business
Intelligence &gt; General Options | ETL Tab</em> page and configure the
subsection &quot;Centile parameters&quot; as described below to create a
relevant centile/timeperiod combination(s). If this report is not
required, simply leave the default values.</p><table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Calculate centile aggregation</td><td>Monthly (minimum)</td></tr><tr><td>Select service categories to aggregate centile on</td><td>Select at least one traffic service category</td></tr><tr><td>Set first day of the week</td><td>Monday (default)</td></tr><tr><td>Create the required centile-time period combination(s)</td><td>Create at least one combination, e.g. 99.0000 - 24x7</td></tr></tbody></table><p>See example in the screenshot below:</p><p><img loading="lazy" alt="image" src="/centreon-documentation/pr-preview/staging/pr-2806/assets/images/centileParameters-d6cc1e29c23dae38d42ee2a7d42bc34c.png" width="1339" height="344" class="img_ev3q"></p><p>Only service categories selected in &quot;Reporting perimeter selection&quot;
will appear in the list of service categories available for centile
statistics.</p><p>You can create as many centile-time period combinations as you like, but
be advised that this may increase calculation time. Start with a small
number of parameter combinations to determine the impact on calculation
time.</p><p>On the <strong>reporting</strong> server, run the following command to import the
configuration data:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon-bi/bin/centreonBIETL </span><span class="token parameter variable" style="color:#36acaa">-rIC</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, run the following command to update the centile configuration in
the datawarehouse:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon-bi/etl/dimensionsBuilder.pl </span><span class="token parameter variable" style="color:#36acaa">-d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Finally, run the following command to calculate only the centile
statistics:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/usr/share/centreon-bi/etl/perfdataStatisticsBuilder.pl </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> --centile-only</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/centreon/centreon-documentation/edit/staging/versioned_docs/version-23.10/reporting/concepts.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col"><svg id="feedback" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" xml:space="preserve" fill="none" style="height:24px;width:24px;vertical-align:text-top;margin-right:4px"><rect y="0" class="st0" width="24" height="24"></rect><rect x="2" y="2" class="st0" width="20" height="20"></rect><path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M16.14,9.08c0,3.09-2.76,5.6-6.16,5.6c-1.11,0-5.45,0-5.45,0s1.36-1.38,0.93-1.79c-1.02-1-1.64-2.34-1.64-3.81 c0-3.09,2.76-5.6,6.16-5.6S16.14,5.99,16.14,9.08z"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" d="M8.61,16.28c0.76,2.31,3.12,4,5.91,4c1.11,0,5.45,0,5.45,0s-1.36-1.38-0.93-1.79c1.02-1,1.64-2.34,1.64-3.81 c0-2-1.15-3.75-2.88-4.74"></path><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="6.86" x2="13.55" y2="6.86"></line><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="8.74" x2="13.55" y2="8.74"></line><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="10.62" x2="13.55" y2="10.62"></line></svg><a rel="noreferrer noopener" href="https://docs.google.com/forms/d/e/1FAIpQLSdeKkEHWbxn4ZweR1M4OEMzP_QoqKmjl6t4iC_yKeX2CFjzAw/viewform?usp=pp_url&amp;entry.371845164=docs.centreon.com/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/concepts/" target="_blank">Give feedback on this page</a></div><div class="col lastUpdated_VsjB"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-11-13T10:14:42.000Z">Nov 13, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/configure/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configure</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/centreon-documentation/pr-preview/staging/pr-2806/docs/reporting/report-development/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Report development</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#availability--events" class="table-of-contents__link toc-highlight">Availability &amp; events</a><ul><li><a href="#availability" class="table-of-contents__link toc-highlight">Availability</a></li><li><a href="#events" class="table-of-contents__link toc-highlight">Events</a></li><li><a href="#additional-indicators" class="table-of-contents__link toc-highlight">Additional indicators</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best practices</a><ul><li><a href="#best-practices-for-monitoring" class="table-of-contents__link toc-highlight">Best practices for monitoring</a></li><li><a href="#best-practices-for-configuring-centreon-objects" class="table-of-contents__link toc-highlight">Best practices for configuring Centreon objects</a></li><li><a href="#host-groups-and-categories" class="table-of-contents__link toc-highlight">Host groups and categories</a></li><li><a href="#service-categories" class="table-of-contents__link toc-highlight">Service categories</a></li></ul></li><li><a href="#extract-transform-load-etl" class="table-of-contents__link toc-highlight">Extract, Transform, Load (ETL)</a><ul><li><a href="#change-history" class="table-of-contents__link toc-highlight">Change history</a></li><li><a href="#execution-modes" class="table-of-contents__link toc-highlight">Execution modes</a></li><li><a href="#purge" class="table-of-contents__link toc-highlight">Purge</a></li><li><a href="#how-to-apply-a-new-configuration-to-historical-data" class="table-of-contents__link toc-highlight">How to apply a new configuration to historical data</a></li><li><a href="#how-to-rebuild-missing-reporting-data" class="table-of-contents__link toc-highlight">How to rebuild missing reporting data</a></li><li><a href="#centreon-bam-statistics" class="table-of-contents__link toc-highlight">Centreon BAM statistics</a></li><li><a href="#how-to-rebuild-only-centile-statistics" class="table-of-contents__link toc-highlight">How to rebuild only Centile statistics</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.centreon.com/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Corporate Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.centreon.com/en/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://download.centreon.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Download<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/centreon-documentation/pr-preview/staging/pr-2806/img/logo_centreon.png" alt="Centreon Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/centreon-documentation/pr-preview/staging/pr-2806/img/logo_centreon.png" alt="Centreon Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2005 - 2023 Centreon</div></div></div></footer></div>
<script src="/centreon-documentation/pr-preview/staging/pr-2806/assets/js/runtime~main.675c8b66.js"></script>
<script src="/centreon-documentation/pr-preview/staging/pr-2806/assets/js/main.c16a1087.js"></script>
</body>
</html>