"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[54703],{42724:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>p,default:()=>g,frontMatter:()=>u,metadata:()=>c,toc:()=>m});r(67294);var n=r(3905),a=r(51715),s=r(7626);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const u={id:"advanced-configuration",title:"Configuration avanc\xe9e"},p=void 0,c={unversionedId:"graph-views/advanced-configuration",id:"version-23.10/graph-views/advanced-configuration",title:"Configuration avanc\xe9e",description:"Ce chapitre d\xe9crit les proc\xe9dures avanc\xe9es de configuration de votre syst\xe8me Centreon MAP.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-23.10/graph-views/advanced-configuration.md",sourceDirName:"graph-views",slug:"/graph-views/advanced-configuration",permalink:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/graph-views/advanced-configuration",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs/version-23.10/graph-views/advanced-configuration.md",tags:[],version:"23.10",lastUpdatedAt:1699870482,formattedLastUpdatedAt:"13 nov. 2023",frontMatter:{id:"advanced-configuration",title:"Configuration avanc\xe9e"},sidebar:"version-23.10/docs",previous:{title:"Configuration",permalink:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/graph-views/configuration"},next:{title:"Cr\xe9er une vue standard",permalink:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/graph-views/create-standard-view"}},d={},m=[{value:"Superviser votre serveur Centreon MAP apr\xe8s installation",id:"superviser-votre-serveur-centreon-map-apr\xe8s-installation",level:2},{value:"Installer les packs",id:"installer-les-packs",level:3},{value:"Installer les plugins",id:"installer-les-plugins",level:3},{value:"Configurer vos services",id:"configurer-vos-services",level:3},{value:"Fichiers de configuration de Centreon MAP",id:"fichiers-de-configuration-de-centreon-map",level:2},{value:"Sauvegarder le serveur Centreon MAP",id:"sauvegarder-le-serveur-centreon-map",level:3},{value:"\xc9l\xe9ments sauvegard\xe9s",id:"\xe9l\xe9ments-sauvegard\xe9s",level:3},{value:"Comment \xe7a marche ?",id:"comment-\xe7a-marche-",level:3},{value:"Param\xe8tres de sauvegarde",id:"param\xe8tres-de-sauvegarde",level:3},{value:"Restaurer les donn\xe9es du serveur Centreon MAP",id:"restaurer-les-donn\xe9es-du-serveur-centreon-map",level:3},{value:"Extraire la sauvegarde",id:"extraire-la-sauvegarde",level:3},{value:"Restaurer les fichiers de configuration",id:"restaurer-les-fichiers-de-configuration",level:3},{value:"Restaurer la base de donn\xe9es",id:"restaurer-la-base-de-donn\xe9es",level:3},{value:"Changer le port du serveur Centreon MAP",id:"changer-le-port-du-serveur-centreon-map",level:2},{value:"D\xe9finir un port inf\xe9rieur \xe0 1024",id:"d\xe9finir-un-port-inf\xe9rieur-\xe0-1024",level:2}],v={toc:m},k="wrapper";function g(e){var{components:t}=e,u=i(e,["components"]);return(0,n.kt)(k,o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){l(e,t,r[t])}))}return e}({},v,u),{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Ce chapitre d\xe9crit les proc\xe9dures avanc\xe9es de configuration de votre syst\xe8me Centreon MAP."),(0,n.kt)("h2",{id:"superviser-votre-serveur-centreon-map-apr\xe8s-installation"},"Superviser votre serveur Centreon MAP apr\xe8s installation"),(0,n.kt)("p",null,"Centreon fournit un connecteur de supervision et un plugin pour superviser votre serveur Centreon MAP."),(0,n.kt)("h3",{id:"installer-les-packs"},"Installer les packs"),(0,n.kt)("p",null,"Sur le serveur central, installez les Packs requis \xe0 l'aide des commandes suivantes :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum install centreon-pack-operatingsystems-linux-snmp centreon-pack-applications-jvm-actuator\n")),(0,n.kt)("p",null,"\xc0 partir du Gestionnaire de connecteurs de supervision, installez les packs."),(0,n.kt)("h3",{id:"installer-les-plugins"},"Installer les plugins"),(0,n.kt)("p",null,"Utilisez SSH pour acc\xe9der au Poller qui supervisera votre serveur Centreon MAP."),(0,n.kt)("p",null,"Installez tous les plugins requis \xe0 l'aide des commandes suivantes :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"yum install centreon-plugin-Operatingsystems-Linux-Snmp centreon-plugin-Applications-Jvm-Actuator\n")),(0,n.kt)("h3",{id:"configurer-vos-services"},"Configurer vos services"),(0,n.kt)("p",null,"Acc\xe9dez \xe0 votre interface Web Centreon. Allez \xe0 la page ",(0,n.kt)("strong",{parentName:"p"},"Configuration > H\xf4tes > H\xf4tes"),", puis cliquer sur ",(0,n.kt)("strong",{parentName:"p"},"Ajouter"),"."),(0,n.kt)("p",null,"Remplissez les informations de base sur votre h\xf4te et ajoutez les mod\xe8les d'h\xf4te suivants :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"OS-Linux-SNMP-custom"),(0,n.kt)("li",{parentName:"ul"},"App-Jvm-actuator-custom")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image",src:r(98753).Z,width:"1212",height:"123"}),"\n",(0,n.kt)("img",{alt:"image",src:r(58191).Z,width:"1363",height:"415"})),(0,n.kt)("p",null,"Pour surveiller la JVM centreon-map, veuillez utiliser les valeurs de macro suivantes :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Nom"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Valeur"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"ACTUATORCUSTOMMODE"),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"centreonmap"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"ACTUATORAPIURLPATH"),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"/centreon-studio/api/beta"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"ACTUATORAPIUSERNAME"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Le nom d'utilisateur Api doit \xeatre d\xe9fini")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"ACTUATORAPIPASSWORD"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Le mot de passe Api doit \xeatre d\xe9fini")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},'N\'oubliez pas de cocher la case "Cr\xe9er aussi les services li\xe9s aux mod\xe8les".')),(0,n.kt)("p",null,"Vous pouvez maintenant exporter votre configuration, et votre serveur Centreon MAP sera supervis\xe9."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image",src:r(40442).Z,width:"1857",height:"560"})),(0,n.kt)("p",null,"Vous pouvez \xe9galement v\xe9rifier l'URL suivante, qui indique si le serveur est op\xe9rationnel ou non :"),(0,n.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(s.Z,{value:"HTTP",label:"HTTP",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"http://<MAP_IP>:8080/centreon-studio/api/beta/actuator/health.\n"))),(0,n.kt)(s.Z,{value:"HTTPS",label:"HTTPS",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"https://<MAP_IP>:8443/centreon-studio/api/beta/actuator/health.\n")))),(0,n.kt)("h2",{id:"fichiers-de-configuration-de-centreon-map"},"Fichiers de configuration de Centreon MAP"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Nous vous d\xe9conseillons de modifier manuellement les fichiers de configuration, sauf si vous \xeates un utilisateur exp\xe9riment\xe9.")),(0,n.kt)("p",null,"Les quatre fichiers de configuration sont situ\xe9s dans ",(0,n.kt)("strong",{parentName:"p"},"/etc/centreon-studio/"),". Leurs mod\xe8les se trouvent dans ",(0,n.kt)("strong",{parentName:"p"},"/etc/centreon-studio/templates/"),"."),(0,n.kt)("p",null,"Le script de configuration remplace les macros de ces mod\xe8les et les copie dans le dossier ",(0,n.kt)("strong",{parentName:"p"},"/etc/centreon-studio"),"."),(0,n.kt)("p",null,"Si ces fichiers sont modifi\xe9s, le serveur doit \xeatre red\xe9marr\xe9 avec la commande :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart centreon-map\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Ne supprimez aucune variable dans ces fichiers ! Cela pourrait entra\xeener un dysfonctionnement du serveur, ou l'emp\xeacher de d\xe9marrer.")),(0,n.kt)("h3",{id:"sauvegarder-le-serveur-centreon-map"},"Sauvegarder le serveur Centreon MAP"),(0,n.kt)("h3",{id:"\xe9l\xe9ments-sauvegard\xe9s"},"\xc9l\xe9ments sauvegard\xe9s"),(0,n.kt)("p",null,"Les \xe9l\xe9ments sauvegard\xe9s sont :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Les fichiers de configuration (",(0,n.kt)("strong",{parentName:"li"},"/etc/centreon-studio"),")."),(0,n.kt)("li",{parentName:"ul"},"La base de donn\xe9es (",(0,n.kt)("strong",{parentName:"li"},"centreon","_","studio"),")")),(0,n.kt)("h3",{id:"comment-\xe7a-marche-"},"Comment \xe7a marche ?"),(0,n.kt)("p",null,"Le script de sauvegarde est ex\xe9cut\xe9 quotidiennement (2 heures du matin) avec une t\xe2che cron situ\xe9e dans ",(0,n.kt)("strong",{parentName:"p"},"/etc/cron.d/centreon-map-server-backup")," :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-text"},'#\n# Cron to backup Centreon MAP server\n#\nPATH=/sbin:/bin:/usr/sbin:/usr/bin\n\n# rewrite file with new cron line\nCRONTAB_EXEC_USER=""\n\n0 2 * * * root bash /usr/share/centreon-map-server/bin/centreon-map-server-backup.sh >> /var/log/centreon-studio/backup.log 2>&1\n')),(0,n.kt)("p",null,"La sauvegarde ",(0,n.kt)("strong",{parentName:"p"},"centreon-map-server-yyyy-mm-dd.tar.gz")," est stock\xe9e dans ",(0,n.kt)("strong",{parentName:"p"},"BACKUP","_","DIR"),", qui est d\xe9fini dans le fichier de configuration."),(0,n.kt)("h3",{id:"param\xe8tres-de-sauvegarde"},"Param\xe8tres de sauvegarde"),(0,n.kt)("p",null,"Les param\xe8tres de sauvegarde sont enregistr\xe9s dans ",(0,n.kt)("strong",{parentName:"p"},"/etc/centreon-studio/backup.conf"),"."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"ENABLE : activer/d\xe9sactiver le m\xe9canisme de sauvegarde (valeur par d\xe9faut : 0)"),(0,n.kt)("li",{parentName:"ul"},"BACKUP","_","DIR : emplacement o\xf9 la sauvegarde est stock\xe9e (valeur par d\xe9faut : ",(0,n.kt)("strong",{parentName:"li"},"/var/backup"),")"),(0,n.kt)("li",{parentName:"ul"},"RETENTION","_","AGE : r\xe9tention de la sauvegarde en jours (valeur par d\xe9faut : 8)")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Nous conseillons d'exporter les sauvegardes vers un autre serveur que votre serveur Centreon afin de les s\xe9curiser.")),(0,n.kt)("h3",{id:"restaurer-les-donn\xe9es-du-serveur-centreon-map"},"Restaurer les donn\xe9es du serveur Centreon MAP"),(0,n.kt)("p",null,"Le processus de restauration est divis\xe9 en plusieurs \xe9tapes :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Extraction de la sauvegarde"),(0,n.kt)("li",{parentName:"ul"},"Restauration des fichiers de configuration"),(0,n.kt)("li",{parentName:"ul"},"Restauration de la base de donn\xe9es")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Nous supposons que vous avez suivi la proc\xe9dure d'installation du serveur Centreon MAP pour obtenir une nouvelle installation.")),(0,n.kt)("h3",{id:"extraire-la-sauvegarde"},"Extraire la sauvegarde"),(0,n.kt)("p",null,"R\xe9cup\xe9rez la derni\xe8re sauvegarde ",(0,n.kt)("strong",{parentName:"p"},"centreon-map-server-yyyy-mm-dd.tar.gz")," et extrayez-la dans le r\xe9pertoire ",(0,n.kt)("strong",{parentName:"p"},"/tmp")," :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"cd /tmp\ntar xzf centreon-map-server-yyyy-mm-dd.tar.gz\n")),(0,n.kt)("h3",{id:"restaurer-les-fichiers-de-configuration"},"Restaurer les fichiers de configuration"),(0,n.kt)("p",null,"Pour restaurer les fichiers de configuration, ex\xe9cutez la commande suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"cp -R etc/centreon-studio/* /etc/centreon-studio/\n")),(0,n.kt)("h3",{id:"restaurer-la-base-de-donn\xe9es"},"Restaurer la base de donn\xe9es"),(0,n.kt)("p",null,"Pour restaurer la base de donn\xe9es ",(0,n.kt)("strong",{parentName:"p"},"centreon","_","studio"),", ex\xe9cutez la commande suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl stop centreon-map\nmysql -h <db_host> -u <db_user> -p<db_password> <db_name> < centreon-map-server.dump\nsystemctl start centreon-map\n")),(0,n.kt)("h2",{id:"changer-le-port-du-serveur-centreon-map"},"Changer le port du serveur Centreon MAP"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Des erreurs de modification de fichiers de configuration peuvent entra\xeener des dysfonctionnements du logiciel. Nous vous recommandons de faire une sauvegarde du fichier avant de le modifier et de ne changer que les param\xe8tres conseill\xe9s par Centreon.")),(0,n.kt)("p",null,"Par d\xe9faut, le serveur Centreon MAP \xe9coute et envoie des informations via le port 8080.\nSi vous avez configur\xe9 le SSL (voir ",(0,n.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/graph-views/secure-your-map-platform#configure-httpstls-on-the-web-server"},"Configuration HTTPS/TLS"),", utilisez le port 8443."),(0,n.kt)("p",null,"Vous pouvez modifier ce port (par exemple, si un pare-feu sur votre r\xe9seau bloque ces ports)."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},'Si le nouveau port est inf\xe9rieur \xe0 1024, utilisez plut\xf4t la proc\xe9dure ci-dessous "D\xe9finir un port inf\xe9rieur \xe0 1024".')),(0,n.kt)("p",null,"Sur votre serveur Centreon MAP, arr\xeatez le serveur Centreon MAP :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl stop centreon-map\n")),(0,n.kt)("p",null,"Modifiez le fichier de param\xe8tres ",(0,n.kt)("strong",{parentName:"p"},"studio-config.properties")," situ\xe9 dans ",(0,n.kt)("strong",{parentName:"p"},"/etc/centreon-studio")," :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"vi /etc/centreon-studio/studio-config.properties\n")),(0,n.kt)("p",null,"Ajoutez la ligne suivante \xe0 la section MAP SERVER :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-text"},"centreon-map.port=XXXX\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Remplacez ",(0,n.kt)("em",{parentName:"p"},"XXXX")," par le port que vous souhaitez.")),(0,n.kt)("p",null,"Red\xe9marrez ensuite le serveur MAP de Centreon :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl start centreon-map\n")),(0,n.kt)("p",null,"Attendez que le service Centreon MAP ait fini de d\xe9marrer (~30 secondes \xe0 une minute)."),(0,n.kt)("p",null,"V\xe9rifiez que votre serveur est op\xe9rationnel et accessible sur le nouveau port que vous avez d\xe9fini, en entrant l'URL suivante dans votre navigateur web :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"http://<MAP_IP>:<NEW_PORT>/centreon-studio/api/beta/actuator/health\n")),(0,n.kt)("h2",{id:"d\xe9finir-un-port-inf\xe9rieur-\xe0-1024"},"D\xe9finir un port inf\xe9rieur \xe0 1024"),(0,n.kt)("p",null,"Vous pouvez configurer votre serveur pour qu'il \xe9coute et envoie des donn\xe9es via des ports inf\xe9rieurs \xe0 1024, tels que les ports 80 ou 443 (ces ports \xe9tant rarement bloqu\xe9s par un pare-feu)."),(0,n.kt)("p",null,"Si vous souhaitez d\xe9finir un port inf\xe9rieur \xe0 1024, la m\xe9thode est diff\xe9rente de celle d\xe9crite ci-dessus puisque tous les ports inf\xe9rieurs \xe0 1024 sont restreints et uniquement accessibles par des applications sp\xe9ciales."),(0,n.kt)("p",null,"Il existe plusieurs solutions de contournement pour ce probl\xe8me. L'une d'entre elles est la \"redirection de port\" \xe0 travers le pare-feu."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Pour cet exemple, configurez le serveur MAP pour qu'il \xe9coute et envoie des donn\xe9es via le port 80.\nRemplacez chaque occurrence de ",(0,n.kt)("em",{parentName:"p"},"80")," par le port que vous souhaitez utiliser.")),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"V\xe9rifiez votre pare-feu."),(0,n.kt)("p",{parentName:"li"},"Sur votre serveur MAP, ex\xe9cutez la commande suivante pour v\xe9rifier que le pare-feu fonctionne :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl status iptables\n")),(0,n.kt)("p",{parentName:"li"},"Si votre pare-feu est en cours d'ex\xe9cution, vous verrez la sortie suivante :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"Table: raw\nChain PREROUTING (policy ACCEPT)\nnum  target     prot opt source               destination\n\nChain OUTPUT (policy ACCEPT)\nnum  target     prot opt source               destination\n\nTable: mangle\nChain PREROUTING (policy ACCEPT)\nnum  target     prot opt source               destination\n...\n...\n...\n")),(0,n.kt)("p",{parentName:"li"},"Si votre pare-feu est arr\xeat\xe9, vous verrez la sortie suivante :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"iptables: Firewall is not running.\n")),(0,n.kt)("p",{parentName:"li"},"D\xe9marrez le pare-feu :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl start iptables\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Activez une connexion sur le port pour MAP pour l'\xe9coute et l'envoi."),(0,n.kt)("p",{parentName:"li"},"Ex\xe9cutez les lignes suivantes sur votre console :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"/sbin/iptables -A OUTPUT -p tcp --dport 80 -j ACCEPT\n/sbin/iptables -A INPUT -p tcp --dport 80 -j ACCEPT\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Ajoutez la redirection de port."),(0,n.kt)("p",{parentName:"li"},"Ex\xe9cutez la ligne suivante sur votre console :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"iptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 8080\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Red\xe9marrez et enregistrez."),(0,n.kt)("p",{parentName:"li"},"Red\xe9marrez votre pare-feu :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart iptables\n")),(0,n.kt)("p",{parentName:"li"},"Enregistrez cette configuration afin qu'elle soit appliqu\xe9e \xe0 chaque red\xe9marrage de votre serveur :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"/sbin/iptables save\n")))),(0,n.kt)("p",null,"Votre serveur Centreon MAP est maintenant accessible sur le port 80. V\xe9rifiez-le en entrant l'URL suivante dans votre navigateur :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"http://<MAP_IP>/centreon-studio/api/beta/actuator/health\n")),(0,n.kt)("p",null,"Vous devriez voir l'\xe9tat suivant pour votre serveur :"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{"status":"UP"}\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"N'oubliez pas de mettre \xe0 jour la configuration de votre client lourd et celle de votre interface web.")))}g.isMDXComponent=!0},98753:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/jvm1-aa4564df79a62485fa2c4a557d732e80.png"},58191:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/jvm2-9e12a4afaec7fe13fea2b4637c457986.png"},40442:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/jvm3-e29fa3aae58529ff88fa14fceb1fe0c0.png"}}]);