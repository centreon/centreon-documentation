"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[33801],{41368:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>p,default:()=>k,frontMatter:()=>u,metadata:()=>c,toc:()=>m});n(67294);var a=n(3905),r=n(51715),s=n(7626);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const u={id:"anomaly-detection",title:"Anomaly Detection"},p=void 0,c={unversionedId:"monitoring/anomaly-detection",id:"version-23.10/monitoring/anomaly-detection",title:"Anomaly Detection",description:"Anomaly Detection est une extension Centreon qui requiert une licence",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-23.10/monitoring/anomaly-detection.md",sourceDirName:"monitoring",slug:"/monitoring/anomaly-detection",permalink:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/monitoring/anomaly-detection",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs/version-23.10/monitoring/anomaly-detection.md",tags:[],version:"23.10",lastUpdatedAt:1699870482,formattedLastUpdatedAt:"13 nov. 2023",frontMatter:{id:"anomaly-detection",title:"Anomaly Detection"},sidebar:"version-23.10/docs",previous:{title:"Actions g\xe9n\xe9riques",permalink:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/monitoring/generic-actions"},next:{title:"Activer les Traps SNMP",permalink:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/monitoring/passive-monitoring/enable-snmp-traps"}},d={},m=[{value:"Description",id:"description",level:2},{value:"Fonctionnement",id:"fonctionnement",level:3},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Installation",id:"installation",level:2},{value:"\xc9tape 1 : Installation des paquets",id:"\xe9tape-1--installation-des-paquets",level:3},{value:"\xc9tape 2 : Installation via l&#39;interface",id:"\xe9tape-2--installation-via-linterface",level:3},{value:"\xc9tape 3 : Ajouter votre jeton",id:"\xe9tape-3--ajouter-votre-jeton",level:3},{value:"Configuration",id:"configuration",level:2},{value:"\xc9tape 1 : Cr\xe9er un service Anomaly Detection",id:"\xe9tape-1--cr\xe9er-un-service-anomaly-detection",level:3},{value:"\xc9tape 2 : \xc9valuer la pertinence des pr\xe9visions",id:"\xe9tape-2--\xe9valuer-la-pertinence-des-pr\xe9visions",level:3},{value:"\xc9tape 3 : Activer les changements de statut",id:"\xe9tape-3--activer-les-changements-de-statut",level:3},{value:"\xc9tape 4 : Activer le processus de notification",id:"\xe9tape-4--activer-le-processus-de-notification",level:3},{value:"Utiliser l&#39;assistant de cr\xe9ation",id:"utiliser-lassistant-de-cr\xe9ation",level:3},{value:"Visualiser les anomalies d\xe9tect\xe9es",id:"visualiser-les-anomalies-d\xe9tect\xe9es",level:2},{value:"Transf\xe9rer l&#39;historique des donn\xe9es",id:"transf\xe9rer-lhistorique-des-donn\xe9es",level:2},{value:"FAQ",id:"faq",level:2},{value:"Quels services sont offerts et quel est le SLA associ\xe9?",id:"quels-services-sont-offerts-et-quel-est-le-sla-associ\xe9",level:3},{value:"Combien de temps les donn\xe9es sont-elles h\xe9berg\xe9es ?",id:"combien-de-temps-les-donn\xe9es-sont-elles-h\xe9berg\xe9es-",level:3},{value:"Quelles donn\xe9es sont h\xe9berg\xe9es par le service ?",id:"quelles-donn\xe9es-sont-h\xe9berg\xe9es-par-le-service-",level:3},{value:"Comment l\u2019envoi et le stockage de mes donn\xe9es sont-ils prot\xe9g\xe9s?",id:"comment-lenvoi-et-le-stockage-de-mes-donn\xe9es-sont-ils-prot\xe9g\xe9s",level:3},{value:"Quel est l&#39;usage des donn\xe9es ?",id:"quel-est-lusage-des-donn\xe9es-",level:3},{value:"Qui a acc\xe8s aux donn\xe9es h\xe9berg\xe9es par le service ?",id:"qui-a-acc\xe8s-aux-donn\xe9es-h\xe9berg\xe9es-par-le-service-",level:3},{value:"Comment puis-je demander la suppression des donn\xe9es ?",id:"comment-puis-je-demander-la-suppression-des-donn\xe9es-",level:3}],v={toc:m},g="wrapper";function k(e){var{components:t}=e,u=l(e,["components"]);return(0,a.kt)(g,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){i(e,t,n[t])}))}return e}({},v,u),{components:t,mdxType:"MDXLayout"}),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Anomaly Detection est une ",(0,a.kt)("strong",{parentName:"p"},"extension")," Centreon qui requiert une ",(0,a.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/administration/licenses"},"licence"),"\nvalide. Pour en acheter une et r\xe9cup\xe9rer les d\xe9p\xf4ts et le jeton d'acc\xe8s n\xe9cessaires, contactez\n",(0,a.kt)("a",{parentName:"p",href:"mailto:sales@centreon.com"},"Centreon"),".")),(0,a.kt)("h2",{id:"description"},"Description"),(0,a.kt)("p",null,"Le module ",(0,a.kt)("strong",{parentName:"p"},"Anomaly Detection")," d\xe9tecte les d\xe9viations par rapport au comportement normal d'un service : il permet d'utiliser des seuils dynamiques pour d\xe9clencher des alertes."),(0,a.kt)("p",null,"Avec la supervision classique, les alertes sont d\xe9clench\xe9es \xe0 partir de seuils fixes : par exemple, on alerte quand le ping sur un serveur d\xe9passe 700 ms. Cependant, pour certains services, les valeurs \"normales\" varient au cours du temps, ce qui rend des seuils fixes peu pertinents. Il est possible d'utiliser la d\xe9tection automatique d'anomalies lorsque le comportement du service est r\xe9gulier et pr\xe9visible :"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:n(49641).Z,width:"2716",height:"478"})),(0,a.kt)("p",null,"On d\xe9termine quelles sont les valeurs normales au cours du temps : la pr\xe9vision permet de calculer un seuil bas et un seuil \xe9lev\xe9. Lorsque le comportement du service d\xe9vie du mod\xe8le attendu, ces seuils sont d\xe9pass\xe9s (c'est-\xe0-dire que la m\xe9trique descend en-dessous du seuil bas ou d\xe9passe le seuil \xe9lev\xe9). Le service passe en statut CRITIQUE et une notification est envoy\xe9e. Exemple: un serveur a habituellement peu de trafic la nuit. Une nuit, Centreon d\xe9tecte des flux r\xe9seau plus \xe9lev\xe9s\nque la normale et d\xe9clenche une alerte. Cela permet \xe0 l'entreprise de se rendre compte d'un piratage."),(0,a.kt)("h3",{id:"fonctionnement"},"Fonctionnement"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Les donn\xe9es collect\xe9es sont envoy\xe9es \xe0 la plateforme SaaS de Centreon.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Centreon calcule un mod\xe8le de comportement r\xe9gulier gr\xe2ce \xe0 l'historique\nde ces donn\xe9es.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Une fois le mod\xe8le calcul\xe9, les pr\xe9dictions sont g\xe9n\xe9r\xe9es et r\xe9cup\xe9r\xe9es\nsur votre plateforme Centreon.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Les pr\xe9visions servent de seuils flottants qui sont ensuite utilis\xe9s par le\nmoteur de supervision pour comparer la valeur collect\xe9e avec les seuils pr\xe9vus\npour mettre en \xe9vidence les \xe9carts et g\xe9n\xe9rer des alertes. Pour ne pas fausser l'analyse, les donn\xe9es re\xe7ues pendant les plages de maintenance sont exclues du calcul des pr\xe9visions.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Les mod\xe8les sont recalcul\xe9s r\xe9guli\xe8rement, et les pr\xe9visions s'affinent dans le temps."))),(0,a.kt)("h2",{id:"pr\xe9requis"},"Pr\xe9requis"),(0,a.kt)("p",null,"Pour utiliser ",(0,a.kt)("strong",{parentName:"p"},"Anomaly Detection"),", vous aurez besoin des \xe9l\xe9ments suivants :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Un jeton fourni par Centreon pour acc\xe9der \xe0 la plateforme SaaS de Centreon,")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Une connexion internet depuis le serveur Centreon central. Le central doit pouvoir dialoguer avec le domaine ",(0,a.kt)("inlineCode",{parentName:"p"},"api.a.prod.mycentreon.com")," sur le port 443.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"La variable d'environnement SHELL ",(0,a.kt)("a",{parentName:"p",href:"https://www.gnu.org/software/gettext/manual/html_node/Locale-Environment-Variables"},"LC_ALL")," ne doit pas \xeatre d\xe9finie ou bien avoir la valeur ",(0,a.kt)("inlineCode",{parentName:"p"},"C"),". Pour v\xe9rifier la valeur de cette variable, entrez :"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"echo $LC_ALL\n")))),(0,a.kt)("h2",{id:"installation"},"Installation"),(0,a.kt)("h3",{id:"\xe9tape-1--installation-des-paquets"},"\xc9tape 1 : Installation des paquets"),(0,a.kt)("p",null,"Ex\xe9cutez la commande suivante :"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(s.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"dnf install centreon-anomaly-detection\n"))),(0,a.kt)(s.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"dnf install centreon-anomaly-detection\n"))),(0,a.kt)(s.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"apt update && apt install centreon-anomaly-detection\n")))),(0,a.kt)("h3",{id:"\xe9tape-2--installation-via-linterface"},"\xc9tape 2 : Installation via l'interface"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Allez \xe0 la page ",(0,a.kt)("strong",{parentName:"p"},"Administration > Extensions > Gestionnaire"),". Une tuile ",(0,a.kt)("strong",{parentName:"p"},"Anomaly detection")," appara\xeet dans la section ",(0,a.kt)("strong",{parentName:"p"},"Modules"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Cliquez sur le bouton d'installation dans la tuile ",(0,a.kt)("strong",{parentName:"p"},"Anomaly Detection"),".\nLe module est maintenant install\xe9 (le num\xe9ro de version appara\xeet sur fond vert avec une coche blanche).")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Ex\xe9cutez la commande suivante en tant qu'utilisateur privil\xe9gi\xe9 :"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart gorgoned\n")))),(0,a.kt)("h3",{id:"\xe9tape-3--ajouter-votre-jeton"},"\xc9tape 3 : Ajouter votre jeton"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Rendez-vous dans le menu ",(0,a.kt)("strong",{parentName:"p"},"Configuration > Services > Anomaly Detection")," et\ncliquez sur le bouton ",(0,a.kt)("strong",{parentName:"p"},"Add Centreon Cloud Token"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Saisissez votre jeton et cliquez sur ",(0,a.kt)("strong",{parentName:"p"},"Save"),"."),(0,a.kt)("blockquote",{parentName:"li"},(0,a.kt)("p",{parentName:"blockquote"},"Si votre serveur Centreon Central a besoin d'une configuration proxy pour\nacc\xe9der \xe0 Internet, cochez la case ",(0,a.kt)("strong",{parentName:"p"},"Use proxy"),".")),(0,a.kt)("p",{parentName:"li"},"  Votre plateforme Centreon est maintenant pr\xeate \xe0 utiliser la d\xe9tection\nd'anomalies Centreon."))),(0,a.kt)("h2",{id:"configuration"},"Configuration"),(0,a.kt)("p",null,"Pour obtenir un service Anomaly Detection pleinement fonctionnel, il faut passer par 4 \xe9tapes :"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"#%C3%A9tape-1--cr%C3%A9er-un-service-anomaly-detection"},"Cr\xe9er un service de type ",(0,a.kt)("strong",{parentName:"a"},"Anomaly Detection")),". Cela activera l'envoi des donn\xe9es collect\xe9es vers la plateforme SaaS de Centreon,\nafin de d\xe9marrer la mod\xe9lisation du comportement r\xe9gulier."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"#%C3%A9tape-2--%C3%A9valuer-la-pertinence-des-pr%C3%A9visions"},"\xc9valuer la pertinence des pr\xe9visions calcul\xe9es"),"."),(0,a.kt)("li",{parentName:"ol"},"Une fois que les mod\xe8les semblent corrects, ",(0,a.kt)("a",{parentName:"li",href:"#%C3%A9tape-3--activer-les-changements-de-statut"},"activer les changements de statut"),"."),(0,a.kt)("li",{parentName:"ol"},"Lorsque que les changements de statut semblent pertinents, ",(0,a.kt)("a",{parentName:"li",href:"#%C3%A9tape-4--activer-le-processus-de-notification"},"activer le processus de notification"),".")),(0,a.kt)("h3",{id:"\xe9tape-1--cr\xe9er-un-service-anomaly-detection"},"\xc9tape 1 : Cr\xe9er un service Anomaly Detection"),(0,a.kt)("p",null,"Vous pouvez cr\xe9er un service Anomaly Detection manuellement, ou bien ",(0,a.kt)("a",{parentName:"p",href:"#utiliser-lassistant-de-cr%C3%A9ation"},"utiliser l'assistant de cr\xe9ation"),".\nPour cr\xe9er un service Anomaly Detection manuellement :"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Allez \xe0 la page ",(0,a.kt)("strong",{parentName:"p"},"Configuration > Services > Anomaly Detection")," et\ncliquez sur le bouton ",(0,a.kt)("strong",{parentName:"p"},"Create manually"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Remplissez les champs suivants :"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Description"),": nom du service."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Statut"),": permet d'activer ou d\xe9sactiver le service. Si vous d\xe9sactivez un service, apr\xe8s avoir d\xe9ploy\xe9 la configuration, celui-ci ne sera plus supervis\xe9 (notamment, il n'appara\xeetra plus \xe0 la page ",(0,a.kt)("strong",{parentName:"li"},"Statut des ressources"),")."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Select host - service"),": d\xe9finir le couple h\xf4te/service sur lequel le service Anomaly Detection se basera."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Select metric")," : s\xe9lectionnez la m\xe9trique sur laquelle appliquer la d\xe9tection d'anomalie."),(0,a.kt)("li",{parentName:"ul"},"Dans un premier temps, laissez le champ ",(0,a.kt)("strong",{parentName:"li"},"Enable notifications")," \xe0 ",(0,a.kt)("strong",{parentName:"li"},"D\xe9sactiv\xe9"),". (L'option sera activ\xe9e \xe0 l'\xe9tape 3.)"),(0,a.kt)("li",{parentName:"ul"},"Dans la section ",(0,a.kt)("strong",{parentName:"li"},"Categories & groups"),", vous pouvez s\xe9lectionner un ",(0,a.kt)("a",{parentName:"li",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/monitoring/categories#criticit%C3%A9"},(0,a.kt)("strong",{parentName:"a"},"Niveau de criticit\xe9")),"."))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Cliquez sur ",(0,a.kt)("strong",{parentName:"p"},"Sauvegarder"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/monitoring/monitoring-servers/deploying-a-configuration"},"D\xe9ployez la configuration"),"."),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Le service appara\xeet \xe0 la page ",(0,a.kt)("strong",{parentName:"p"},"Supervision > Statut des ressources"),". Pour afficher uniquement les services de type ",(0,a.kt)("strong",{parentName:"p"},"Anomaly detection"),", utilisez le filtre ",(0,a.kt)("strong",{parentName:"p"},"Type")," dans la fen\xeatre ",(0,a.kt)("strong",{parentName:"p"},"Options de filtre"),".")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Le calcul du mod\xe8le de comportement d\xe9marre. Tant qu'un premier calcul n'a pas \xe9t\xe9 effectu\xe9 et que des pr\xe9visions n'ont pas \xe9t\xe9 re\xe7ues, le statut du service reste INCONNU. Pour que des pr\xe9dictions puissent \xeatre calcul\xe9es, il faut disposer d'un minimum de 4h de donn\xe9es.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Les premi\xe8res pr\xe9visions appara\xeetront dans un d\xe9lai de 36h maximum. Le service passera alors en statut OK et y restera tant que les alertes ne seront pas activ\xe9es (\xe9tape 3)."),(0,a.kt)("blockquote",{parentName:"li"},(0,a.kt)("p",{parentName:"blockquote"},"Si le service sur lequel vous appliquez la d\xe9tection d'anomalies a \xe9t\xe9\nsupervis\xe9 depuis un certain temps, il est possible de ",(0,a.kt)("a",{parentName:"p",href:"#transf%C3%A9rer-lhistorique-des-donn%C3%A9es"},"transf\xe9rer\nl'historique des donn\xe9es")," pour obtenir\nplus rapidement un mod\xe8le fiable.")))))),(0,a.kt)("h3",{id:"\xe9tape-2--\xe9valuer-la-pertinence-des-pr\xe9visions"},"\xc9tape 2 : \xc9valuer la pertinence des pr\xe9visions"),(0,a.kt)("p",null,"Dans un premier temps, les pr\xe9visions re\xe7ues seront peu fiables : Anomaly Detection a besoin de pouvoir identifier plusieurs r\xe9p\xe9titions de motifs de donn\xe9es avant de mettre en place des pr\xe9visions pertinentes. La dur\xe9e n\xe9cessaire varie donc suivant la saisonnalit\xe9 du service (quotidienne, hebdomadaire...). En r\xe8gle g\xe9n\xe9rale, comptez environ 6 semaines pour obtenir un mod\xe8le stable."),(0,a.kt)("p",null,"Pour \xe9valuer la pertinence des pr\xe9visions, observez le graphe du service \xe0 la page ",(0,a.kt)("strong",{parentName:"p"},"Supervision > Informations de performance > Graphiques"),", ou dans l'onglet ",(0,a.kt)("strong",{parentName:"p"},"Graphique")," du panneau de d\xe9tails du service \xe0 la page ",(0,a.kt)("strong",{parentName:"p"},"Supervision > Statut des ressources"),"."),(0,a.kt)("p",null,"Si vous l'estimez n\xe9cessaire (par exemple si vous constatez trop de faux positifs, ou si au contraire les pr\xe9visions ne d\xe9tectent pas assez d'incidents), vous pouvez ajuster manuellement la marge entre la courbe et les seuils."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\xc0 la page ",(0,a.kt)("strong",{parentName:"li"},"Supervision > Statut des ressources"),", cliquez sur le service Anomaly Detection d\xe9sir\xe9, puis rendez vous dans l'onglet ",(0,a.kt)("strong",{parentName:"li"},"Graphique")," du panneau de d\xe9tails."),(0,a.kt)("li",{parentName:"ol"},"Cliquez sur l'ic\xf4ne ",(0,a.kt)("strong",{parentName:"li"},"Modifier les donn\xe9es de d\xe9tection d'anomalie")," (la cl\xe9 \xe0 molette) en haut \xe0 droite de l'onglet. Le graphique s'ouvre dans une pop-up."),(0,a.kt)("li",{parentName:"ol"},"Utilisez le s\xe9lecteur dans la section ",(0,a.kt)("strong",{parentName:"li"},"G\xe9rer la taille de l'enveloppe")," pour changer la marge des pr\xe9dictions : dans l'aper\xe7u, les v\xe9rifications situ\xe9es en-dehors de l'enveloppe sont mat\xe9rialis\xe9es par un point rouge."),(0,a.kt)("li",{parentName:"ol"},"Cliquez sur ",(0,a.kt)("strong",{parentName:"li"},"Sauvegarder"),". La nouvelle taille d'enveloppe se met en place \xe0 partir de ce moment. Attention, l'enveloppe d\xe9j\xe0 calcul\xe9e reste telle quelle (le changement n'est donc pas visible imm\xe9diatement).")),(0,a.kt)("h3",{id:"\xe9tape-3--activer-les-changements-de-statut"},"\xc9tape 3 : Activer les changements de statut"),(0,a.kt)("p",null,"Si, en suivant r\xe9guli\xe8rement le mod\xe8le g\xe9n\xe9r\xe9 et les donn\xe9es du menu\n",(0,a.kt)("strong",{parentName:"p"},"Supervision > Informations de performance > Graphiques"),", vous pensez que votre mod\xe8le est\nstable, vous pouvez activer les changements de statut. Une fois cette option activ\xe9e, le statut du service passera \xe0 CRITIQUE ",(0,a.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/alerts-notifications/concepts#types-de-statuts"},"SOFT")," d\xe8s que la m\xe9trique descendra en-dessous du seuil bas ou d\xe9passera le seuil \xe9lev\xe9."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Allez \xe0 la page ",(0,a.kt)("strong",{parentName:"p"},"Configuration > Services > Anomaly Detection")," et cliquez sur le service Anomaly Detection d\xe9sir\xe9.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Dans la section ",(0,a.kt)("strong",{parentName:"p"},"Alerting options"),", activez l'option ",(0,a.kt)("strong",{parentName:"p"},"Enable change of status"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Dans le champ ",(0,a.kt)("strong",{parentName:"p"},"Detect anomalies after"),", entrez le nombre de d\xe9viations \xe0 partir duquel le service passera en CRITIQUE ",(0,a.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/alerts-notifications/concepts#types-de-statuts"},"HARD"),". (Les notifications, une fois activ\xe9es, ne seront envoy\xe9es que lorsque le service passera de SOFT \xe0 HARD.)")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Cliquez sur ",(0,a.kt)("strong",{parentName:"p"},"Sauvegarder"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/monitoring/monitoring-servers/deploying-a-configuration"},"D\xe9ployez la configuration"),"."))),(0,a.kt)("h3",{id:"\xe9tape-4--activer-le-processus-de-notification"},"\xc9tape 4 : Activer le processus de notification"),(0,a.kt)("p",null,"Lorsque vous \xeates satisfait des changements de statut que vous constatez (que ceux-ci correspondent bien \xe0 des d\xe9buts ou fins d'incidents), alors votre service Anomaly Detection est pleinement op\xe9rationnel. Vous pouvez alors activer les notifications."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Allez \xe0 la page ",(0,a.kt)("strong",{parentName:"p"},"Configuration > Services > Anomaly Detection")," et\ncliquez sur le service Anomaly Detection d\xe9sir\xe9.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Remplissez les champs suivants :"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Enable notification"),": s\xe9lectionnez ",(0,a.kt)("strong",{parentName:"li"},"Activ\xe9"),"."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Contacts li\xe9s")," : s\xe9lectionnez les contacts qui seront notifi\xe9s."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Groupes de contacts li\xe9s")," : s\xe9lectionnez des groupes de contacts qui seront notifi\xe9s."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Intervalle de notification")," : d\xe9finissez la fr\xe9quence \xe0 laquelle envoyer des notifications une fois que le service est entr\xe9 en  \xe9tat CRITIQUE HARD et tant qu'il n'a pas \xe9t\xe9 acquitt\xe9. La valeur par d\xe9faut est ",(0,a.kt)("strong",{parentName:"li"},"0"),", ce qui veut dire qu'une seule notification par changement d'\xe9tat sera envoy\xe9e."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"P\xe9riode de notification")," : s\xe9lectionnez la ",(0,a.kt)("a",{parentName:"li",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/monitoring/basic-objects/timeperiods"},"p\xe9riode de temps")," pendant laquelle ces utilisateurs pourront recevoir des notifications."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type de notification")," : s\xe9lectionnez les types de notification qui seront envoy\xe9es (lorsque le service passe en \xe9tat CRITIQUE, et/ou quand il revient \xe0 la normale)."))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Cliquez sur ",(0,a.kt)("strong",{parentName:"p"},"Sauvegarder"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/monitoring/monitoring-servers/deploying-a-configuration"},"D\xe9ployez la configuration"),"."))),(0,a.kt)("h3",{id:"utiliser-lassistant-de-cr\xe9ation"},"Utiliser l'assistant de cr\xe9ation"),(0,a.kt)("p",null,"L'assistant de cr\xe9ation permet de mettre en avant les services\npr\xe9sentant soit une saisonnalit\xe9, soit une stabilit\xe9 r\xe9guli\xe8re (dont les valeurs sont comprises en permanence entre deux bornes)."),(0,a.kt)("p",null,"Rendez-vous dans le menu ",(0,a.kt)("strong",{parentName:"p"},"Configuration > Services > Anomaly Detection")," et\ncliquez sur ",(0,a.kt)("strong",{parentName:"p"},"Create from analysis"),"."),(0,a.kt)("p",null,"La liste des services existant de votre plateforme Centreon est affich\xe9e ainsi\nqu'un score en nombre d'\xe9toiles : de 5 \xe9toiles \xe0 0, 5 \xe9toiles repr\xe9sentant les\nservices \xe0 fort potentiel :"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:n(7022).Z,width:"2876",height:"1238"})),(0,a.kt)("p",null,"Apr\xe8s avoir s\xe9lectionn\xe9 un service int\xe9ressant, cliquez sur le bouton ",(0,a.kt)("strong",{parentName:"p"},"ADD")," \xe0\ngauche de la ligne. Vous arrivez sur le formulaire de cr\xe9ation pr\xe9-rempli :"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:n(95862).Z,width:"1860",height:"758"})),(0,a.kt)("p",null,"Modifez le nom du service puis cliquez sur le bouton ",(0,a.kt)("strong",{parentName:"p"},"Sauvegarder"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Si la liste est vide, c'est que le calcul afin de d\xe9terminer les services\nint\xe9ressants n'a pas encore d\xe9marr\xe9."),(0,a.kt)("p",{parentName:"blockquote"},"Celui-ci est r\xe9alis\xe9 toutes les 6 heures via un cron lanc\xe9 par le processus\n",(0,a.kt)("strong",{parentName:"p"},"gorgoned")," (d\xe9fini dans le fichier ",(0,a.kt)("strong",{parentName:"p"},"/etc/centreon-gorgone/config.d/cron.d/42-anomalydetection.yaml"),")."),(0,a.kt)("p",{parentName:"blockquote"},"Il est possible de lancer le premier calcul manuellement via la commande\nsuivante depuis le serveur Centreon central :"),(0,a.kt)("pre",{parentName:"blockquote"},(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"su - centreon\nperl /usr/share/centreon/bin/anomaly_detection --seasonality\n"))),(0,a.kt)("h2",{id:"visualiser-les-anomalies-d\xe9tect\xe9es"},"Visualiser les anomalies d\xe9tect\xe9es"),(0,a.kt)("p",null,"Une fois un service de type Anomaly Detection cr\xe9\xe9, vous pouvez le visualiser aux endroits suivants :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\xc0 la page ",(0,a.kt)("strong",{parentName:"li"},"Supervision > Statut des ressources"),"."),(0,a.kt)("li",{parentName:"ul"},"\xc0 la page ",(0,a.kt)("strong",{parentName:"li"},"Supervision > D\xe9tails des statuts > Services"),"."),(0,a.kt)("li",{parentName:"ul"},"\xc0 la page ",(0,a.kt)("strong",{parentName:"li"},"Supervision > Informations de performance > Graphiques"),"."),(0,a.kt)("li",{parentName:"ul"},"\xc0 la page ",(0,a.kt)("strong",{parentName:"li"},"Supervision > Journaux d'\xe9v\xe8nements"),"."),(0,a.kt)("li",{parentName:"ul"},"Dans le widget ",(0,a.kt)("strong",{parentName:"li"},"service-monitoring")," via le menu ",(0,a.kt)("strong",{parentName:"li"},"Accueil > Vues personnalis\xe9es"),"."),(0,a.kt)("li",{parentName:"ul"},"Vous pouvez utiliser des services Anomaly Detection comme indicateurs dans ",(0,a.kt)("a",{parentName:"li",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/service-mapping/ba-management"},"Centreon BAM"),"."),(0,a.kt)("li",{parentName:"ul"},"Et tous les menus o\xf9 vous pouvez op\xe9rer sur les services.")),(0,a.kt)("h2",{id:"transf\xe9rer-lhistorique-des-donn\xe9es"},"Transf\xe9rer l'historique des donn\xe9es"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"L'envoi de l'historique des donn\xe9es est un processus tr\xe8s consommateur de CPU.\nSelon le nombre de services surveill\xe9s, l'extraction des donn\xe9es de la base de\ndonn\xe9es ",(0,a.kt)("strong",{parentName:"p"},"centreon","_","storage")," peut prendre plusieurs dizaines de minutes. Cela\naura un impact important sur les performances de la base de donn\xe9es et\npourrait ralentir globalement la plateforme de supervision.")),(0,a.kt)("p",null,"Pour \xeatre en mesure d'envoyer les donn\xe9es d'un service Anomaly Detection, un premier contr\xf4le doit avoir \xe9t\xe9 effectu\xe9. Vous pouvez ",(0,a.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/alerts-notifications/resources-status#relancer-un-contr%C3%B4le"},"ex\xe9cuter un contr\xf4le sur le service depuis la page ",(0,a.kt)("strong",{parentName:"a"},"Statut des ressources")),"."),(0,a.kt)("p",null,"Pour envoyer l'historique des donn\xe9es d'un service d'anomalie \xe0 notre plateforme SaaS, connectez-vous \xe0\nvotre serveur Centreon Central et acc\xe9dez \xe0 l'utilisateur ",(0,a.kt)("strong",{parentName:"p"},"centreon"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"su - centreon\n")),(0,a.kt)("p",null,"S\xe9lectionnez le service d'anomalie \xe0 l'aide de la commande suivante :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"/usr/share/centreon/bin/anomaly_detection --list-services\n")),(0,a.kt)("p",null,"Vous verrez la liste des services avec leur identifiant :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"List of available anomaly detection services:\n\n- id: 14, hostname: fw-beijing, servicename: anomaly-nbr-connect, metric name: connection\n- id: 15, hostname: fw-brasilia, servicename: anomaly-nbr-connect, metric name: connection\n- id: 17, hostname: fw-mexico, servicename: anomaly-nbr-connect, metric name: connection\n- id: 18, hostname: fw-berlin, servicename: anomaly-nbr-connect, metric name: connection\n- id: 22, hostname: fw-brasilia, servicename: anomaly-traffic-in, metric name: traffic_in\n")),(0,a.kt)("p",null,"Pour envoyer l'historique des donn\xe9es du service d'anomalies avec l'ID 14 pour\nles 4 derni\xe8res semaines, ex\xe9cutez la commande suivante :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"/usr/share/centreon/bin/anomaly_detection --send-history 14 --history-period 4w\n")),(0,a.kt)("p",null,"Attendez la fin du processus :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"Sending data from 2020-03-09T09:32:31 to 2020-03-10T00:00:00\nSending data from 2020-03-10T00:00:00 to 2020-03-11T00:00:00\nSending data from 2020-03-11T00:00:00 to 2020-03-12T00:00:00\nSending data from 2020-03-12T00:00:00 to 2020-03-13T00:00:00\nSending data from 2020-03-13T00:00:00 to 2020-03-14T00:00:00\nSending data from 2020-03-14T00:00:00 to 2020-03-15T00:00:00\nSending data from 2020-03-15T00:00:00 to 2020-03-16T00:00:00\nSending data from 2020-03-16T00:00:00 to 2020-03-17T00:00:00\nSending data from 2020-03-17T00:00:00 to 2020-03-18T00:00:00\nSending data from 2020-03-18T00:00:00 to 2020-03-19T00:00:00\nSending data from 2020-03-19T00:00:00 to 2020-03-20T00:00:00\nSending data from 2020-03-20T00:00:00 to 2020-03-21T00:00:00\nSending data from 2020-03-21T00:00:00 to 2020-03-22T00:00:00\nSending data from 2020-03-22T00:00:00 to 2020-03-23T00:00:00\nSending data from 2020-03-23T00:00:00 to 2020-03-24T00:00:00\nSending data from 2020-03-24T00:00:00 to 2020-03-25T00:00:00\nSending data from 2020-03-25T00:00:00 to 2020-03-26T00:00:00\nSending data from 2020-03-26T00:00:00 to 2020-03-27T00:00:00\nSending data from 2020-03-27T00:00:00 to 2020-03-28T00:00:00\nSending data from 2020-03-28T00:00:00 to 2020-03-29T00:00:00\nSending data from 2020-03-29T00:00:00 to 2020-03-30T00:00:00\nSending data from 2020-03-30T00:00:00 to 2020-03-31T00:00:00\nSending data from 2020-03-31T00:00:00 to 2020-04-01T00:00:00\nSending data from 2020-04-01T00:00:00 to 2020-04-02T00:00:00\nSending data from 2020-04-02T00:00:00 to 2020-04-03T00:00:00\nSending data from 2020-04-03T00:00:00 to 2020-04-04T00:00:00\nSending data from 2020-04-04T00:00:00 to 2020-04-05T00:00:00\nSending data from 2020-04-05T00:00:00 to 2020-04-06T00:00:00\n")),(0,a.kt)("h2",{id:"faq"},"FAQ"),(0,a.kt)("h3",{id:"quels-services-sont-offerts-et-quel-est-le-sla-associ\xe9"},"Quels services sont offerts et quel est le SLA associ\xe9?"),(0,a.kt)("p",null,"Le service de d\xe9tection d'anomalies est actuellement en phase de b\xeata test ferm\xe9e. Le but de cette phase de test b\xeata\nferm\xe9e est de tester nos algorithmes de calcul de pr\xe9dictions (seuils flottants). Au cours de cette phase, Centreon\nam\xe9liorera la fonctionnalit\xe9 de d\xe9tection d'anomalies en fonction du retour d'exp\xe9rience des utilisateurs. Aucun SLA ne sera disponible\npendant cette phase."),(0,a.kt)("h3",{id:"combien-de-temps-les-donn\xe9es-sont-elles-h\xe9berg\xe9es-"},"Combien de temps les donn\xe9es sont-elles h\xe9berg\xe9es ?"),(0,a.kt)("p",null,"Les donn\xe9es sont conserv\xe9es pendant toute la validit\xe9 de la licence. Elles permettront de recalculer les mod\xe8les si\nn\xe9cessaire. Un d\xe9lai suppl\xe9mentaire de 3 mois sera ajout\xe9 \xe0 la fin de la validit\xe9 de la licence avant la suppression\nde ces derni\xe8res."),(0,a.kt)("h3",{id:"quelles-donn\xe9es-sont-h\xe9berg\xe9es-par-le-service-"},"Quelles donn\xe9es sont h\xe9berg\xe9es par le service ?"),(0,a.kt)("p",null,"Les donn\xe9es h\xe9berg\xe9es par le service de d\xe9tection d'anomalies ne concernent que les donn\xe9es li\xe9es aux services cr\xe9\xe9s\npar l'utilisateur. Elles comprennent la date et l'heure du contr\xf4le, l'identifiant de la ressource surveill\xe9e,\nl'identifiant de l'indicateur associ\xe9, le nom des donn\xe9es de performance sur lesquelles les calculs seront effectu\xe9s\nainsi que la valeur des donn\xe9es de performance."),(0,a.kt)("h3",{id:"comment-lenvoi-et-le-stockage-de-mes-donn\xe9es-sont-ils-prot\xe9g\xe9s"},"Comment l\u2019envoi et le stockage de mes donn\xe9es sont-ils prot\xe9g\xe9s?"),(0,a.kt)("p",null,"L\u2019envoi de donn\xe9es \xe0 notre infrastructure Cloud ne comporte aucun risque.\nLes donn\xe9es sont chiffr\xe9es de bout en bout. Les donn\xe9es collect\xe9es ne contiennent que des m\xe9triques et\nquelques identifiants Centreon (nom d\u2019h\xf4te, nom de service). Notre environnement est prot\xe9g\xe9 par AWS Web\nApplication Firewall et AWS Shields pour pr\xe9venir les attaques DDoS. Notre architecture a \xe9t\xe9 revue par les\narchitectes AWS (AWS Foundational Technical Review) et nous sommes un partenaire qualifi\xe9 d\u2019AWS."),(0,a.kt)("h3",{id:"quel-est-lusage-des-donn\xe9es-"},"Quel est l'usage des donn\xe9es ?"),(0,a.kt)("p",null,"Les donn\xe9es sont utilis\xe9es pour calculer des mod\xe8les de comportement. \xc0 partir de ces mod\xe8les seront g\xe9n\xe9r\xe9es des\npr\xe9dictions utilis\xe9es comme seuils flottants par la plateforme Centreon."),(0,a.kt)("h3",{id:"qui-a-acc\xe8s-aux-donn\xe9es-h\xe9berg\xe9es-par-le-service-"},"Qui a acc\xe8s aux donn\xe9es h\xe9berg\xe9es par le service ?"),(0,a.kt)("p",null,"Les donn\xe9es sont associ\xe9es au jeton d'acc\xe8s de l'offre de d\xe9tection d'anomalies. Elles sont h\xe9berg\xe9s sur la plateforme\nCentreon SaaS et partitionn\xe9es par plateforme. Un utilisateur avec un jeton n'a acc\xe8s qu'\xe0 ses propres donn\xe9es."),(0,a.kt)("h3",{id:"comment-puis-je-demander-la-suppression-des-donn\xe9es-"},"Comment puis-je demander la suppression des donn\xe9es ?"),(0,a.kt)("p",null,"La suppression des donn\xe9es peut \xeatre demand\xe9e \xe0 tout moment. Cependant, l'historique des donn\xe9es est utilis\xe9 pour\ncr\xe9er un mod\xe8le afin de calculer les seuils flottants. Par cons\xe9quent, la participation au programme ou l'abonnement \xe0\nl'offre sera impossible.\nUne demande par mail doit \xeatre faite via l'interface de support professionnel Centreon."))}k.isMDXComponent=!0},7022:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/configure_analysis_01-73f3817aaf1836f33c905ed1b658840a.png"},95862:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/configure_analysis_02-52703d8ef24acec99345996510b0a503.png"},49641:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/simple_scheme-6a67397a48a747691f7487df7c55425b.png"}}]);