"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[22160],{44336:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>f,frontMatter:()=>l,metadata:()=>u,toc:()=>c});n(67294);var r=n(3905);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const l={id:"developer-stream-connector",title:"Comment \xe9crire un Stream Connector"},i=void 0,u={unversionedId:"developer/developer-stream-connector",id:"version-23.10/developer/developer-stream-connector",title:"Comment \xe9crire un Stream Connector",description:"Vue d'ensemble",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-23.10/developer/developer-stream-connector.md",sourceDirName:"developer",slug:"/developer/developer-stream-connector",permalink:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/developer/developer-stream-connector",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs/version-23.10/developer/developer-stream-connector.md",tags:[],version:"23.10",lastUpdatedAt:1699631982,formattedLastUpdatedAt:"10 nov. 2023",frontMatter:{id:"developer-stream-connector",title:"Comment \xe9crire un Stream Connector"},sidebar:"version-23.10/docs",previous:{title:"Comment \xe9crire un module",permalink:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/developer/developer-module"},next:{title:"Migration des Stream Connectors vers BBDO\xa03.0.0",permalink:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/developer/developer-broker-stream-connector-migration"}},p={},c=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Cr\xe9ation d&#39;un nouveau script Lua",id:"cr\xe9ation-dun-nouveau-script-lua",level:2},{value:"Migration d&#39;un Stream Connector de BBDO\xa02 vers BBDO\xa03",id:"migration-dun-stream-connector-de-bbdo2-vers-bbdo3",level:2},{value:"Langage de programmation",id:"langage-de-programmation",level:3},{value:"Stockage des scripts Lua",id:"stockage-des-scripts-lua",level:3},{value:"\xc9crire toutes les informations dans un fichier",id:"\xe9crire-toutes-les-informations-dans-un-fichier",level:3},{value:"Stocker les donn\xe9es brutes",id:"stocker-les-donn\xe9es-brutes",level:4},{value:"Utiliser les param\xe8tres",id:"utiliser-les-param\xe8tres",level:4},{value:"Manipuler les donn\xe9es",id:"manipuler-les-donn\xe9es",level:4},{value:"Exporter les donn\xe9es de performance vers InfluxDB",id:"exporter-les-donn\xe9es-de-performance-vers-influxdb",level:2},{value:"Les param\xe8tres de la file d&#39;attente",id:"les-param\xe8tres-de-la-file-dattente",level:3},{value:"Une m\xe9thode pour cr\xe9er la file d&#39;attente",id:"une-m\xe9thode-pour-cr\xe9er-la-file-dattente",level:3},{value:"Une m\xe9thode pour ajouter un \xe9v\xe9nement dans la file d&#39;attente",id:"une-m\xe9thode-pour-ajouter-un-\xe9v\xe9nement-dans-la-file-dattente",level:3},{value:"Une m\xe9thode pour vider la file d&#39;attente",id:"une-m\xe9thode-pour-vider-la-file-dattente",level:3},{value:"La fonction init() pour obtenir les param\xe8tres et cr\xe9er la file d&#39;attente",id:"la-fonction-init-pour-obtenir-les-param\xe8tres-et-cr\xe9er-la-file-dattente",level:3},{value:"La fonction write() pour ins\xe9rer les \xe9v\xe9nements dans la file d&#39;attente",id:"la-fonction-write-pour-ins\xe9rer-les-\xe9v\xe9nements-dans-la-file-dattente",level:3},{value:"La fonction filter() pour s\xe9lectionner uniquement les \xe9v\xe9nements de donn\xe9es de performance",id:"la-fonction-filter-pour-s\xe9lectionner-uniquement-les-\xe9v\xe9nements-de-donn\xe9es-de-performance",level:3},{value:"Script complet",id:"script-complet",level:3},{value:"Configurer Centreon Broker",id:"configurer-centreon-broker",level:3},{value:"D\xe9couvrez d&#39;autres Stream Connectors Centreon",id:"d\xe9couvrez-dautres-stream-connectors-centreon",level:2}],d={toc:c},m="wrapper";function f(e){var{components:t}=e,l=s(e,["components"]);return(0,r.kt)(m,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},d,l),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"vue-densemble"},"Vue d'ensemble"),(0,r.kt)("p",null,"Centreon Stream Connector est une fonction introduite dans Centreon\xa03.4.6. Elle permet d'exporter les donn\xe9es Centreon (\xe9v\xe9nements et m\xe9triques) vers un stockage ou une application externe comme ElasticSearch, Splunk, InfluxDB, des fichiers, etc."),(0,r.kt)("p",null,"Dans une plateforme Centreon, le composant qui transporte les informations entre les collecteurs distants et le serveur central Centreon est appel\xe9 Centreon Broker. Ce broker stocke les donn\xe9es re\xe7ues dans le stockage local de Centreon\xa0: MariaDB et RRDtool."),(0,r.kt)("p",null,"Le sch\xe9ma suivant explique le transfert des donn\xe9es collect\xe9es et leur insertion dans les stockages\xa0:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(91824).Z,width:"1229",height:"417"})),(0,r.kt)("p",null,"La fonctionnalit\xe9 Stream Connector est un nouvel output de Centreon Broker qui r\xe9cup\xe8re les donn\xe9es de Centreon Broker Master (\xe9galement connu sous le nom de Centreon Broker SQL) pour les agr\xe9ger et les transmettre \xe0 un stockage externe."),(0,r.kt)("p",null,"Cet output charge un script Lua appel\xe9 un Stream Connector, dont la t\xe2che consiste \xe0 traiter, agr\xe9ger et enrichir les donn\xe9es avant de les transmettre au protocole d\xe9fini\xa0:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(58333).Z,width:"716",height:"407"})),(0,r.kt)("p",null,"Comme il s'agit d'un output de Centreon Broker, le principe de la cr\xe9ation de fichiers de r\xe9tention lors de l'interruption de l'acc\xe8s au stockage externe est conserv\xe9. De la m\xeame mani\xe8re, il est possible de filtrer les entr\xe9es sur les cat\xe9gories de flux \xe0 traiter."),(0,r.kt)("h2",{id:"pr\xe9requis"},"Pr\xe9requis"),(0,r.kt)("p",null,"Pour utiliser la fonctionnalit\xe9 Centreon Stream Connector, vous devez disposer au minimum de la version\xa03.4.6 de Centreon\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Centreon Web >= 2.8.18"),(0,r.kt)("li",{parentName:"ul"},"Centreon Broker >= 3.0.13"),(0,r.kt)("li",{parentName:"ul"},"Lua >= 5.1.x")),(0,r.kt)("h2",{id:"cr\xe9ation-dun-nouveau-script-lua"},"Cr\xe9ation d'un nouveau script Lua"),(0,r.kt)("p",null,"La documentation technique compl\xe8te est disponible ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/developer/developer-broker-stream-connector"},"ici"),". Dans ce mode d'emploi, nous allons \xe9crire deux scripts\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Le premier, simple, qui explique les bases des Stream Connectors. Son objectif est d'exporter les donn\xe9es vers un fichier journal."),(0,r.kt)("li",{parentName:"ul"},"Le second est plus exigeant pour le lecteur, il exporte les donn\xe9es de performance vers la TSDB InfluxDB mais est facilement adaptable pour exporter vers une autre TSDB.")),(0,r.kt)("h2",{id:"migration-dun-stream-connector-de-bbdo2-vers-bbdo3"},"Migration d'un Stream Connector de BBDO\xa02 vers BBDO\xa03"),(0,r.kt)("p",null,"La documentation technique de la migration est disponible ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/developer/developer-broker-stream-connector-migration"},"ici"),". Ce mode d'emploi donne plusieurs conseils pour r\xe9ussir la migration et pr\xe9sente un petit exemple."),(0,r.kt)("h3",{id:"langage-de-programmation"},"Langage de programmation"),(0,r.kt)("p",null,"Centreon a choisi le langage de programmation Lua pour vous permettre de manipuler, d'agr\xe9ger et de transf\xe9rer des donn\xe9es. Lua est un langage de programmation facile \xe0 utiliser. De plus amples informations sont disponibles avec la ",(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/docs.html"},"Documentation officielle Lua"),"."),(0,r.kt)("h3",{id:"stockage-des-scripts-lua"},"Stockage des scripts Lua"),(0,r.kt)("p",null,"Les scripts Lua de Broker peuvent \xeatre stock\xe9s dans tout r\xe9pertoire lisible par l'utilisateur ",(0,r.kt)("strong",{parentName:"p"},"centreon-broker"),"."),(0,r.kt)("p",null,"Nous recommandons de les stocker dans ",(0,r.kt)("strong",{parentName:"p"},"/usr/share/centreon-broker/lua"),"."),(0,r.kt)("h3",{id:"\xe9crire-toutes-les-informations-dans-un-fichier"},"\xc9crire toutes les informations dans un fichier"),(0,r.kt)("h4",{id:"stocker-les-donn\xe9es-brutes"},"Stocker les donn\xe9es brutes"),(0,r.kt)("p",null,"Commen\xe7ons par le premier script. Notre objectif est de stocker tous les \xe9v\xe9nements donn\xe9s par Broker dans un fichier journal. Nous allons appeler notre Stream Connector ",(0,r.kt)("strong",{parentName:"p"},"bbdo2file.lua"),"."),(0,r.kt)("p",null,"Comme nous l'avons dit pr\xe9c\xe9demment, nous allons stocker ce fichier dans le r\xe9pertoire ",(0,r.kt)("strong",{parentName:"p"},"/usr/share/centreon-broker/lua")," sur le serveur central Centreon."),(0,r.kt)("p",null,"Si le r\xe9pertoire n'existe pas, en tant que root, nous pouvons le cr\xe9er avec la commande suivante\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Shell"},"mkdir -p /usr/share/centreon-broker/lua\n")),(0,r.kt)("p",null,"Centreon Broker propose plusieurs fonctions de journalisation pour \xe9crire les journaux, les avertissements ou les erreurs dans un fichier. Nous utiliserons une de ces fonctions ",(0,r.kt)("em",{parentName:"p"},"info()")," pour \xe9crire les \xe9v\xe9nements de Broker. ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/developer/developer-broker-stream-connector#lobjet-broker_log"},"Consultez la documentation technique pour plus d'informations"),"."),(0,r.kt)("p",null,"La fonction ",(0,r.kt)("em",{parentName:"p"},"info()")," fait partie de l'objet ",(0,r.kt)("em",{parentName:"p"},"broker","_","log"),". Pour l'appeler, la syntaxe est la suivante\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"broker_log:info(level, text)\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"level")," est un nombre entier de 1 (le plus important) \xe0 3 (le moins important)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"text")," est le texte \xe0 \xe9crire comme journal.")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Avez-vous remarqu\xe9 que le s\xe9parateur entre ",(0,r.kt)("strong",{parentName:"p"},"broker","_","log")," et ",(0,r.kt)("strong",{parentName:"p"},"info")," est un double point\xa0? Les fonctions des objets, aussi appel\xe9es ",(0,r.kt)("em",{parentName:"p"},"methods")," sont appel\xe9es comme ceci en Lua.")),(0,r.kt)("p",null,"Commen\xe7ons notre script. La fonction la plus importante dans un Stream Connector est la fonction ",(0,r.kt)("strong",{parentName:"p"},"write()"),". Chaque fois qu'un \xe9v\xe9nement est re\xe7u d'un collecteur via Broker, cette fonction est appel\xe9e avec l'\xe9v\xe9nement comme argument."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Vous n'aurez jamais \xe0 appeler la fonction ",(0,r.kt)("strong",{parentName:"p"},"write()")," par vous-m\xeame, c'est toujours \xe0 Broker de le faire. Et ce serait une erreur de faire un tel appel. En d'autres termes, il ne doit pas y avoir d'appel \xe0 la fonction ",(0,r.kt)("strong",{parentName:"p"},"write()")," dans votre script. ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/developer/developer-broker-stream-connector#la-fonction-write"},"Consultez la documentation technique pour plus d'informations"),".")),(0,r.kt)("p",null,"Voici la premi\xe8re version de ",(0,r.kt)("strong",{parentName:"p"},"bbdo2file.lua"),"\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'function init(conf)\n  broker_log:set_parameters(3, "/var/log/centreon-broker/bbdo2file.log")\nend\n\nfunction write(d)\n  for k,v in pairs(d) do\n    broker_log:info(3, k .. " => " .. tostring(v))\n  end\n  return true\nend\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Les informations sur l'initialisation de la fonction de journalisation du Broker et ses param\xe8tres sont donn\xe9es ici\xa0: ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/developer/developer-broker-stream-connector#lobjet-broker_log"},"consultez la documentation technique"),".")),(0,r.kt)("p",null,"Expliquons ce que nous faisons dans ce script."),(0,r.kt)("p",null,"Nous devons fournir une fonction ",(0,r.kt)("strong",{parentName:"p"},"init()"),", elle est d\xe9crite dans la ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/developer/developer-broker-stream-connector#lobjet-broker_log"},"documentation technique"),"."),(0,r.kt)("p",null,"Cette fonction est appel\xe9e pendant l'initialisation du Stream Connector. Ici, nous l'utilisons pour initialiser l'objet ",(0,r.kt)("strong",{parentName:"p"},"broker","_","log"),". Pour cela, nous appelons la m\xe9thode ",(0,r.kt)("strong",{parentName:"p"},"broker","_","log::set","_","parameters()")," qui n\xe9cessite deux param\xe8tres\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Un niveau max (de 1 \xe0 3). Si vous indiquez 2 ici, seuls les journaux des niveaux\xa01 et 2 seront retourn\xe9s."),(0,r.kt)("li",{parentName:"ul"},"Un fichier dans lequel \xe9crire les journaux. Ce fichier doit se trouver dans un r\xe9pertoire accessible en \xe9criture pour l'utilisateur ",(0,r.kt)("strong",{parentName:"li"},"centreon-broker"),".")),(0,r.kt)("p",null,"La deuxi\xe8me fonction est la fonction ",(0,r.kt)("strong",{parentName:"p"},"write()"),". Nous avons d\xe9j\xe0 dit que son argument est un \xe9v\xe9nement de Broker. Ce type d'objet est une collection de cl\xe9s/valeurs. Par exemple\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JSON"},'{\n    "check_hosts_freshness": false,\n    "active_host_checks": true,\n    "category": 1,\n    "event_handlers": true,\n    "instance_id": 1,\n    "last_command_check": 1522836592,\n    "type": 65552,\n    "global_service_event_handler": "",\n    "obsess_over_services": false,\n    "passive_service_checks": true,\n    "last_alive": 1522836593,\n    "active_service_checks": true,\n    "check_services_freshness": true,\n    "flap_detection": false,\n    "global_host_event_handler": "",\n    "notifications": true,\n    "obsess_over_hosts": false,\n    "passive_host_checks": true,\n    "element": 16\n}\n')),(0,r.kt)("p",null,"Tous les \xe9v\xe9nements comprennent les valeurs ",(0,r.kt)("em",{parentName:"p"},"category"),", ",(0,r.kt)("em",{parentName:"p"},"element")," et ",(0,r.kt)("em",{parentName:"p"},"type"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Les informations sur la ",(0,r.kt)("em",{parentName:"li"},"cat\xe9gorie")," se trouvent ",(0,r.kt)("a",{parentName:"li",href:"/centreon-documentation/pr-preview/staging/pr-2806/fr/docs/developer/developer-broker-bbdo#cat%C3%A9gories-d%C3%A9v%C3%A9nements"},"dans la documentation bbdo"),"."),(0,r.kt)("li",{parentName:"ul"},"L\u2019",(0,r.kt)("em",{parentName:"li"},"\xe9l\xe9ment")," est la ",(0,r.kt)("em",{parentName:"li"},"sous-cat\xe9gorie")," (\xe9galement appel\xe9 ",(0,r.kt)("em",{parentName:"li"},"type")," dans la documentation bbdo)."),(0,r.kt)("li",{parentName:"ul"},"Le ",(0,r.kt)("em",{parentName:"li"},"type")," est un nombre d\xe9riv\xe9 de la ",(0,r.kt)("em",{parentName:"li"},"cat\xe9gorie")," et l\u2019",(0,r.kt)("em",{parentName:"li"},"\xe9l\xe9ment")," (concat\xe9nation binaire).")),(0,r.kt)("p",null,"Dans cet exemple, la ",(0,r.kt)("em",{parentName:"p"},"cat\xe9gorie")," est 1 et l\u2019",(0,r.kt)("em",{parentName:"p"},"\xe9l\xe9ment")," est 16. Ainsi, en lisant la documentation, nous pouvons dire que cet \xe9v\xe9nement est un \xe9v\xe9nement NEB avec la sous-cat\xe9gorie ",(0,r.kt)("em",{parentName:"p"},"instance-status"),"."),(0,r.kt)("p",null,"Pour terminer avec la fonction ",(0,r.kt)("strong",{parentName:"p"},"write()"),", nous faisons une boucle sur les param\xe8tres de l'\xe9v\xe9nement ",(0,r.kt)("strong",{parentName:"p"},"d"),". Pour chaque \xe9tape, ",(0,r.kt)("em",{parentName:"p"},"k")," est une cl\xe9 et ",(0,r.kt)("em",{parentName:"p"},"v")," est la valeur correspondante. Et nous envoyons au fichier journal une cha\xeene ",(0,r.kt)("inlineCode",{parentName:"p"},'k .. " => " .. tostring(v)')," qui signifie la ",(0,r.kt)("em",{parentName:"p"},"concat\xe9nation"),"  de ",(0,r.kt)("em",{parentName:"p"},"k"),", ",(0,r.kt)("em",{parentName:"p"},"\\=>")," et ",(0,r.kt)("em",{parentName:"p"},"v"),"  convertie en une cha\xeene de caract\xe8res. Voici un exemple du r\xe9sultat ci-dessous."),(0,r.kt)("p",null,"Une autre possibilit\xe9 serait d'utiliser la fonction ",(0,r.kt)("strong",{parentName:"p"},"broker.json","_","encode(d)")," qui convertit tout objet Lua en une repr\xe9sentation de cha\xeene ",(0,r.kt)("em",{parentName:"p"},"json")," de celui-ci. Ainsi, nous pourrions \xe9crire la fonction comme ceci\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"function write(d)\n  broker_log:info(3, broker.json_encode(d))\n  return true\nend\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"On constate que ",(0,r.kt)("strong",{parentName:"p"},"broker.json","_","encode(d)")," est compos\xe9 de ",(0,r.kt)("strong",{parentName:"p"},"broker")," et ",(0,r.kt)("strong",{parentName:"p"},"json","_","encode(d)")," s\xe9par\xe9s par un ",(0,r.kt)("em",{parentName:"p"},"point")," et non un ",(0,r.kt)("em",{parentName:"p"},"double point"),". C'est parce que ",(0,r.kt)("strong",{parentName:"p"},"broker")," n'est pas un objet Lua. En fait, vous pouvez le voir comme un ensemble de fonctions fournies par ",(0,r.kt)("em",{parentName:"p"},"Centreon Broker"),".")),(0,r.kt)("p",null,"Une fois que votre fichier ",(0,r.kt)("strong",{parentName:"p"},"/usr/share/centreon-broker/lua/bbdo2file.lua")," est pr\xeat, v\xe9rifiez qu'il est lisible par l'utilisateur ",(0,r.kt)("strong",{parentName:"p"},"centreon-broker")," (ou l'utilisateur ",(0,r.kt)("strong",{parentName:"p"},"centreon-engine")," qui est le propri\xe9taire du groupe ",(0,r.kt)("strong",{parentName:"p"},"centreon-broker"),"), si ce n'est pas le cas, en tant que root vous pouvez entrer\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Shell"},"chown centreon-engine:centreon-engine /usr/share/centreon-broker/lua/bbdo2file.lua\n")),(0,r.kt)("p",null,"Ensuite, configurez le nouvel output dans l'interface Web Centreon dans ",(0,r.kt)("strong",{parentName:"p"},"Configuration > Collecteurs > Configuration de Centreon Broker > Central Broker"),". Dans l\u2019onglet ",(0,r.kt)("strong",{parentName:"p"},"Output"),", s\xe9lectionnez ",(0,r.kt)("strong",{parentName:"p"},"Generic \u2013 Stream connector"),", puis cliquez sur ",(0,r.kt)("strong",{parentName:"p"},"Ajouter")," :"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(10495).Z,width:"857",height:"256"})),(0,r.kt)("p",null,"D\xe9finissez le nom de cet output et le chemin vers le connecteur Lua\xa0:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(11616).Z,width:"1017",height:"487"})),(0,r.kt)("p",null,"Cliquez ensuite sur ",(0,r.kt)("strong",{parentName:"p"},"Sauvegarder")," et g\xe9n\xe9rez la configuration, puis red\xe9marrez ",(0,r.kt)("strong",{parentName:"p"},"cbd"),"."),(0,r.kt)("p",null,"Une fois que le Centreon Broker sera red\xe9marr\xe9 sur votre serveur central Centreon, les donn\xe9es appara\xeetront dans votre fichier journal ",(0,r.kt)("strong",{parentName:"p"},"/var/log/centreon-broker/bbdo2file.log"),"\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Shell"},"mer. 28 mars 2018 14:27:35 CEST: INFO: flap_detection => true\nmer. 28 mars 2018 14:27:35 CEST: INFO: enabled => true\nmer. 28 mars 2018 14:27:35 CEST: INFO: host_id => 102\nmer. 28 mars 2018 14:27:35 CEST: INFO: last_time_ok => 1522240053\nmer. 28 mars 2018 14:27:35 CEST: INFO: state => 0\nmer. 28 mars 2018 14:27:35 CEST: INFO: last_update => 1522240054\nmer. 28 mars 2018 14:27:35 CEST: INFO: last_check => 1522240053\nmer. 28 mars 2018 14:27:35 CEST: INFO: execution_time => 0.005025\nmer. 28 mars 2018 14:27:35 CEST: INFO: acknowledged => false\nmer. 28 mars 2018 14:27:35 CEST: INFO: service_id => 778\nmer. 28 mars 2018 14:27:35 CEST: INFO: active_checks => true\nmer. 28 mars 2018 14:27:35 CEST: INFO: notify => false\nmer. 28 mars 2018 14:27:35 CEST: INFO: max_check_attempts => 3\nmer. 28 mars 2018 14:27:35 CEST: INFO: obsess_over_service => true\nmer. 28 mars 2018 14:27:35 CEST: INFO: check_type => 0\nmer. 28 mars 2018 14:27:35 CEST: INFO: last_hard_state_change => 1522165654\nmer. 28 mars 2018 14:27:35 CEST: INFO: category => 1\nmer. 28 mars 2018 14:27:35 CEST: INFO: perfdata => used=41986296644o;48103633715;54116587930;0;60129542144 size=60129542144o\nmer. 28 mars 2018 14:27:35 CEST: INFO: check_interval => 5\nmer. 28 mars 2018 14:27:35 CEST: INFO: output => Disk /var - used : 39.10 Go - size : 56.00 Go - percent : 69 %\nmer. 28 mars 2018 14:27:35 CEST: INFO: check_command => check-bench-disk\nmer. 28 mars 2018 14:27:35 CEST: INFO: check_period => 24x7\nmer. 28 mars 2018 14:27:35 CEST: INFO: type => 65560\nmer. 28 mars 2018 14:27:35 CEST: INFO: last_hard_state => 0\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Ce fichier journal va grossir rapidement, n'oubliez pas d'ajouter une rotation du journal.")),(0,r.kt)("h4",{id:"utiliser-les-param\xe8tres"},"Utiliser les param\xe8tres"),(0,r.kt)("p",null,"Les fonctions de journalisation de Centreon Broker ne doivent \xeatre utilis\xe9es que pour la journalisation. Pour \xe9crire dans un fichier, nous devons utiliser la fonction d\xe9di\xe9e de Lua. En outre, il est possible d'utiliser des param\xe8tres pour d\xe9finir le nom du fichier journal."),(0,r.kt)("p",null,"Il est donc temps d'am\xe9liorer notre Stream Connector\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'function init(conf)\n  logFile = conf[\'logFile\']\n  broker_log:set_parameters(3, "/var/log/centreon-broker/debug.log")\nend\n\nfunction writeIntoFile(output)\n  local file,err = io.open(logFile, \'a\')\n  if file == nil then\n    broker_log:info(3, "Couldn\'t open file: " .. err)\n  else\n    file:write(output)\n    file:close()\n  end\nend\n\nfunction write(d)\n  for k,v in pairs(d) do\n    writeIntoFile(k .. " => " .. tostring(v) .. "\\n")\n  end\n  return true\nend\n')),(0,r.kt)("p",null,"Avez-vous remarqu\xe9 l'expression ",(0,r.kt)("inlineCode",{parentName:"p"},"local file,err = io.open(logFile, 'a')"),"\xa0?"),(0,r.kt)("p",null,"Lua est capable de stocker plusieurs variables en m\xeame temps. En outre, les fonctions Lua peuvent retourner plusieurs variables."),(0,r.kt)("p",null,"Par exemple, si vous voulez \xe9changer les variables ",(0,r.kt)("em",{parentName:"p"},"a")," et ",(0,r.kt)("em",{parentName:"p"},"b"),", vous pouvez entrer\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"a, b = b, a\n")),(0,r.kt)("p",null,"Un autre exemple qui illustre plusieurs valeurs retourn\xe9es\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"function fib(a, b)\n  return b, a + b\nend\n")),(0,r.kt)("p",null,"Ainsi, cet appel \xe0 ",(0,r.kt)("strong",{parentName:"p"},"io.open")," renvoie deux variables, une premi\xe8re variable ",(0,r.kt)("strong",{parentName:"p"},"file")," qui est un ",(0,r.kt)("em",{parentName:"p"},"descripteur de fichier")," utilis\xe9 pour acc\xe9der au fichier et une seconde variable pas toujours d\xe9finie qui contient l'erreur s'il y en a une ou ",(0,r.kt)("strong",{parentName:"p"},"nil")," (non d\xe9fini) sinon."),(0,r.kt)("p",null,"La fonction ",(0,r.kt)("strong",{parentName:"p"},"init()")," permet d'obtenir des param\xe8tres et de les d\xe9finir \xe0 partir de l'interface web Centreon. Consultez la documentation technique pour plus d'informations. Ici, nous ajoutons la possibilit\xe9 de choisir le nom du fichier de destination. La table ",(0,r.kt)("strong",{parentName:"p"},"conf")," poss\xe8de une cl\xe9 ",(0,r.kt)("em",{parentName:"p"},"logFile")," d\xe9finie dans l'interface web. La valeur correspondante est le nom du fichier utilis\xe9 pour stocker les \xe9v\xe9nements."),(0,r.kt)("p",null,"Modifiez votre output Broker pour d\xe9clarer ce param\xe8tre\xa0:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(46228).Z,width:"964",height:"388"})),(0,r.kt)("p",null,"Il est important que le nom du param\xe8tre dans l'interface web corresponde au nom de la cl\xe9 dans la table ",(0,r.kt)("strong",{parentName:"p"},"conf"),". Il s\u2019agit ici de ",(0,r.kt)("em",{parentName:"p"},"logFile"),"."),(0,r.kt)("p",null,"Cliquez ensuite sur ",(0,r.kt)("strong",{parentName:"p"},"Sauvegarder")," et g\xe9n\xe9rez la configuration, puis red\xe9marrez ",(0,r.kt)("strong",{parentName:"p"},"cbd"),"."),(0,r.kt)("p",null,"Les donn\xe9es sont stock\xe9es dans le fichier journal ",(0,r.kt)("strong",{parentName:"p"},"/var/log/centreon-broker/bbdo2file.log")," comme ceci\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Shell"},"name => error\ncategory => 3\ninterval => 300\nrrd_len => 3456000\nvalue => 0\nvalue_type => 0\ntype => 196612\nctime => 1522315660\nindex_id => 4880\nelement => 4\nstate => 0\ncategory => 3\ninterval => 300\nrrd_len => 3456000\nis_for_rebuild => false\nservice_id => 1056\ntype => 196609\nctime => 1522315660\nhost_id => 145\nelement => 1\nis_for_rebuild => false\nmetric_id => 11920\n")),(0,r.kt)("h4",{id:"manipuler-les-donn\xe9es"},"Manipuler les donn\xe9es"),(0,r.kt)("p",null,"Ici, nous continuons \xe0 am\xe9liorer notre Stream Connector en choisissant les \xe9v\xe9nements \xe0 exporter et aussi en am\xe9liorant les outputs."),(0,r.kt)("p",null,"Nous ne retiendrons que la cat\xe9gorie NEB et les \xe9v\xe9nements concernant le statut des h\xf4tes et des services."),(0,r.kt)("p",null,"Nous savons que NEB est la cat\xe9gorie\xa01, que le statut du service est la sous-cat\xe9gorie\xa024, et que le statut de l'h\xf4te est la sous-cat\xe9gorie\xa014."),(0,r.kt)("p",null,"Donc, seuls les \xe9v\xe9nements r\xe9pondant aux crit\xe8res suivants\xa0nous int\xe9ressent :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"cat\xe9gorie = 1"),(0,r.kt)("li",{parentName:"ul"},"\xe9l\xe9ment = 14 ou \xe9l\xe9ment = 24")),(0,r.kt)("p",null,"De plus, nous pr\xe9f\xe9rerions avoir un nom d'h\xf4te au lieu d'un ID d'h\xf4te et une description de service au lieu d'un ID de service."),(0,r.kt)("p",null,"Enfin, nous aimerions obtenir des informations sur le statut et les outputs."),(0,r.kt)("p",null,"Les \xe9v\xe9nements NEB avec les \xe9l\xe9ments\xa014 et 24 nous donnent presque toutes les informations que nous voulons sauf les noms d'h\xf4tes et les descriptions de services."),(0,r.kt)("p",null,"Pour obtenir ces deux informations, nous devrons utiliser l'objet ",(0,r.kt)("strong",{parentName:"p"},"broker","_","cache"),". Celui-ci est rempli lorsque les collecteurs sont red\xe9marr\xe9s ou recharg\xe9s. Donc, n'oubliez pas de red\xe9marrer vos collecteurs si vous voulez avoir quelque chose dans votre objet ",(0,r.kt)("strong",{parentName:"p"},"broker","_","cache"),"\xa0!"),(0,r.kt)("p",null,"Si le cache est bien rempli, il est facile d'obtenir un nom d'h\xf4te \xe0 partir de l'ID d'h\xf4te\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"broker_cache:get_hostname(host_id)\n")),(0,r.kt)("p",null,"Il est \xe9galement facile d'obtenir la description du service \xe0 partir de l'ID d'h\xf4te et de l'ID de service\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"broker_cache:get_service_description(host_id, service_id)\n")),(0,r.kt)("p",null,"Pour installer le filtre sur les \xe9v\xe9nements, il existe une fonction utile appel\xe9e ",(0,r.kt)("strong",{parentName:"p"},"filter()")," qui prend en compte deux param\xe8tres\xa0: ",(0,r.kt)("em",{parentName:"p"},"category"),", ",(0,r.kt)("em",{parentName:"p"},"element"),"."),(0,r.kt)("p",null,"Cette fonction, si elle est d\xe9finie, est appel\xe9e juste avant ",(0,r.kt)("strong",{parentName:"p"},"write()"),". Si elle retourne ",(0,r.kt)("strong",{parentName:"p"},"true"),", la fonction ",(0,r.kt)("strong",{parentName:"p"},"write()")," sera appel\xe9e, sinon, l'\xe9v\xe9nement sera rejet\xe9."),(0,r.kt)("p",null,"Compl\xe9tons notre script Lua\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'function init(conf)\n  logFile = conf[\'logFile\']\n  broker_log:set_parameters(3, "/var/log/centreon-broker/debug.log")\nend\n\nlocal function writeIntoFile(output)\n  local file,err = io.open(logFile, \'a\')\n  if file == nil then\n    broker_log:info(3, "Couldn\'t open file: " .. err)\n  else\n    file:write(output)\n    file:close()\n  end\nend\n\nfunction write(d)\n  local output = ""\n\n  local host_name = broker_cache:get_hostname(d.host_id)\n  if not host_name then\n    broker_log:info(3, "Unable to get name of host, please restart centengine")\n    host_name = d.host_id\n  end\n\n  if d.element == 14 then\n    output = "HOST:" .. host_name .. ";" .. d.host_id .. ";" .. d.state .. ";" .. d.output\n    writeIntoFile(output)\n    broker_log:info(output)\n  elseif d.element == 24 then\n    local service_description = broker_cache:get_service_description(d.host_id, d.service_id)\n    if not service_description then\n      broker_log:info(3, "Unable to get description of service, please restart centengine")\n      service_description = d.service_id\n    end\n    output = "SERVICE:" .. host_name .. ";" .. d.host_id .. ";" .. service_description .. ";" .. d.service_id .. ";" .. d.state .. ";" .. d.output\n    writeIntoFile(output)\n    broker_log:info(output)\n  end\n  return true\nend\n\nfunction filter(category, element)\n  -- Get only host status and services status from NEB category\n  if category == 1 and (element == 14 or element == 24) then\n    return true\n  end\n    return false\nend\n')),(0,r.kt)("p",null,"Juste quelques remarques sur ce nouveau script avant de montrer ce que nous obtenons."),(0,r.kt)("p",null,"Dans la fonction ",(0,r.kt)("strong",{parentName:"p"},"init()"),", nous acc\xe9dons \xe0 la cl\xe9 ",(0,r.kt)("em",{parentName:"p"},"logFile")," dans la table ",(0,r.kt)("em",{parentName:"p"},"conf")," en utilisant ",(0,r.kt)("inlineCode",{parentName:"p"},"conf['logFile']"),". Tandis que dans la fonction ",(0,r.kt)("strong",{parentName:"p"},"write()"),", nous acc\xe9dons \xe0 la cl\xe9 ",(0,r.kt)("em",{parentName:"p"},"element")," dans la table ",(0,r.kt)("em",{parentName:"p"},"d")," en utilisant ",(0,r.kt)("inlineCode",{parentName:"p"},"d.element"),"."),(0,r.kt)("p",null,"En fait, les deux syntaxes sont autoris\xe9es\xa0: ",(0,r.kt)("inlineCode",{parentName:"p"},"d.element")," est la m\xeame valeur que ",(0,r.kt)("inlineCode",{parentName:"p"},"d['element']"),"."),(0,r.kt)("p",null,"Autre remarque, dans la fonction ",(0,r.kt)("strong",{parentName:"p"},"write()"),", on peut voir quelque chose comme\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"if not host_name then\n")),(0,r.kt)("p",null,"Et dans la fonction ",(0,r.kt)("strong",{parentName:"p"},"writeIntoFile()"),", on peut voir que\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"if file == nil then\n")),(0,r.kt)("p",null,"Les deux syntaxes ont-elles la m\xeame signification\xa0? O\xf9 est la diff\xe9rence\xa0?"),(0,r.kt)("p",null,"Vous devez savoir qu'en Lua, une variable est consid\xe9r\xe9e comme ",(0,r.kt)("strong",{parentName:"p"},"true")," si elle est d\xe9finie et non ",(0,r.kt)("strong",{parentName:"p"},"false"),"\xa0:"),(0,r.kt)("p",null,"Ainsi, le code suivant"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'if foo then\n  print("Good")\nelse\n  print("Bad")\nend\n')),(0,r.kt)("p",null,"\xe9crira ",(0,r.kt)("em",{parentName:"p"},"Good")," si ",(0,r.kt)("em",{parentName:"p"},"foo")," est d\xe9fini et n'a pas une valeur ",(0,r.kt)("strong",{parentName:"p"},"false"),". Plus pr\xe9cis\xe9ment, il \xe9crira ",(0,r.kt)("em",{parentName:"p"},"Good")," dans les cas suivants\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"foo=12"),(0,r.kt)("li",{parentName:"ul"},"foo=true"),(0,r.kt)("li",{parentName:"ul"},'foo="Une cha\xeene"'),(0,r.kt)("li",{parentName:"ul"},"foo=0 (surprenant\xa0!)")),(0,r.kt)("p",null,"Il \xe9crira ",(0,r.kt)("em",{parentName:"p"},"Bad")," dans les cas suivants\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"foo=nil (par d\xe9faut, une variable est nil, ce qui signifie non d\xe9finie)"),(0,r.kt)("li",{parentName:"ul"},"foo=false")),(0,r.kt)("p",null,"Le fichier ",(0,r.kt)("strong",{parentName:"p"},"/var/log/centreon-broker/bbdo2file.log")," contiendra d\xe9sormais\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Shell"},"HOST:srv-DC-djakarta;215;0;OK - srv-DC-djakarta: rta 0.061ms, lost 0%\nSERVICE:mail-titan-gateway;92;disk-/usr;623;0;Disk /usr - used : 42.98 Go - size : 142.00 Go - percent : 30 %\nSERVICE:mail-sun-master;87;memory-stats;535;0;Memory usage (Total 13.0GB): 0.12GB [buffer:0.00GB] [cache:0.01GB] [pages_tables:0.00GB] [mapped:0.00GB] [active:0.07GB] [inactive:0.00GB] [apps:0.02GB] [unused:12.88GB]\nSERVICE:mail-saturn-frontend;86;traffic-eth1;512;0;Traffic In : 4.73 Mb/s (4.73 %), Out : 4.79 Mb/s (4.79 %) - Total RX Bits In : 396.01 Gb, Out : 393.88 Gb\nSERVICE:mail-saturn-frontend;86;memory-stats;515;0;Memory usage (Total 16.0GB): 8.89GB [buffer:0.43GB] [cache:0.95GB] [pages_tables:0.27GB] [mapped:0.15GB] [active:3.92GB] [inactive:0.29GB] [apps:2.88GB] [unused:7.11GB]\nSERVICE:mail-neptune-frontend;80;traffic-eth1;392;0;Traffic In : 4.82 Mb/s (4.82 %), Out : 6.48 Mb/s (6.48 %) - Total RX Bits In : 398.40 Gb, Out : 396.44 Gb\nHOST:srv-DC-casablanca;207;0;OK - srv-DC-casablanca: rta 2.042ms, lost 0%\nSERVICE:mail-neptune-frontend;80;memory-stats;395;0;Memory usage (Total 9.0GB): 0.54GB [buffer:0.03GB] [cache:0.00GB] [pages_tables:0.01GB] [mapped:0.00GB] [active:0.48GB] [inactive:0.00GB] [apps:0.01GB] [unused:8.46GB]\nSERVICE:mail-mercury-frontend;82;traffic-eth1;432;0;Traffic In : 8.28 Mb/s (8.28 %), Out : 1.23 Mb/s (1.23 %) - Total RX Bits In : 397.71 Gb, Out : 400.34 Gb\nSERVICE:mail-mercury-frontend;82;memory-stats;435;0;Memory usage (Total 12.0GB): 1.58GB [buffer:0.00GB] [cache:0.63GB] [pages_tables:0.00GB] [mapped:0.00GB] [active:0.75GB] [inactive:0.00GB] [apps:0.19GB] [unused:10.42GB]\nSERVICE:mail-mars-frontend;84;traffic-eth1;472;0;Traffic In : 7.24 Mb/s (7.24 %), Out : 3.36 Mb/s (3.36 %) - Total RX Bits In : 399.93 Gb, Out : 395.67 Gb\nSERVICE:mail-mars-frontend;84;memory-stats;475;0;Memory usage (Total 3.0GB): 1.19GB [buffer:0.01GB] [cache:0.59GB] [pages_tables:0.00GB] [mapped:0.00GB] [active:0.15GB] [inactive:0.04GB] [apps:0.39GB] [unused:1.81GB]\nSERVICE:mail-jupiter-frontend;85;traffic-eth1;492;0;Traffic In : 1.41 Mb/s (1.41 %), Out : 9.08 Mb/s (9.08 %) - Total RX Bits In : 388.86 Gb, Out : 394.85 Gb\nSERVICE:mail-jupiter-frontend;85;memory-stats;495;0;Memory usage (Total 12.0GB): 0.57GB [buffer:0.04GB] [cache:0.23GB] [pages_tables:0.02GB] [mapped:0.02GB] [active:0.07GB] [inactive:0.03GB] [apps:0.16GB] [unused:11.43GB]\nSERVICE:mail-io-backend;88;traffic-eth1;547;0;Traffic In : 1.51 Mb/s (1.51 %), Out : 7.12 Mb/s (7.12 %) - Total RX Bits In : 389.61 Gb, Out : 390.54 Gb\nSERVICE:mail-io-backend;88;diskio-system;551;0;Device /dev/sda: avg read 4.78 (MB/s) and write 9.08 (MB/s)\n")),(0,r.kt)("h2",{id:"exporter-les-donn\xe9es-de-performance-vers-influxdb"},"Exporter les donn\xe9es de performance vers InfluxDB"),(0,r.kt)("p",null,"Vous avez d\xe9j\xe0 appris beaucoup de choses sur les Stream Connectors. Il est temps de cr\xe9er quelque chose de plus utile\xa0!"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.influxdata.com/"},"InfluxDB")," est une base de donn\xe9es de s\xe9ries chronologiques (TSDB) Nous utiliserons ce stockage pour ins\xe9rer les donn\xe9es de performance collect\xe9es par la plateforme Centreon. Pour cet exemple, nous allons utiliser le ",(0,r.kt)("a",{parentName:"p",href:"https://hub.docker.com/_/influxdb/"},"InfluxDB Docker")," pr\xe9d\xe9fini."),(0,r.kt)("p",null,"Pour envoyer des donn\xe9es \xe0 InfluxDB, nous avons besoin de param\xe8tres pour acc\xe9der au stockage InfluxDB\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"http","_","server","_","address"),"\xa0: adresse IP du stockage"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"http","_","server","_","port"),": 8086 par d\xe9faut"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"http","_","server","_","protocol"),"\xa0: HTTP ou HTTPS"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"influx","_","database"),": nom de la base de donn\xe9es"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"influx","_","user"),"\xa0: utilisateur qui acc\xe8dera \xe0 la base de donn\xe9es si d\xe9fini"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"influx","_","password"),"\xa0: mot de passe de l'utilisateur qui acc\xe8dera \xe0 la base de donn\xe9es si d\xe9fini")),(0,r.kt)("p",null,"Afin de ne pas saturer le stockage, nous ajouterons tous les \xe9v\xe9nements dans une file d'attente et une fois que sa taille maximale sera atteinte, nous enverrons les donn\xe9es en vrac."),(0,r.kt)("p",null,"Nous devons d\xe9finir la taille de la file d'attente et le d\xe9lai maximal avant l'envoi des \xe9v\xe9nements\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"max","_","buffer","_","size"),(0,r.kt)("li",{parentName:"ul"},"max","_","buffer","_","age")),(0,r.kt)("p",null,"Pour cr\xe9er cette file d'attente, nous introduisons un code un peu plus compliqu\xe9. Nous cr\xe9ons un objet ",(0,r.kt)("strong",{parentName:"p"},"event","_","queue"),". Il est compos\xe9 de param\xe8tres tels que ",(0,r.kt)("em",{parentName:"p"},"events"),", ",(0,r.kt)("em",{parentName:"p"},"influx","_","database")," et des m\xe9thodes telles que ",(0,r.kt)("em",{parentName:"p"},"new()"),", ",(0,r.kt)("em",{parentName:"p"},"add()"),"."),(0,r.kt)("p",null,"Pour comprendre comment cr\xe9er un tel objet en Lua, nous recommandons la documentation Lua ",(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/16.1.html"},"pour les classes")," et ",(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/13.html"},"pour les m\xe9tatables"),"."),(0,r.kt)("p",null,"Pour envoyer des donn\xe9es \xe0 un serveur, nous fournissons un objet ",(0,r.kt)("strong",{parentName:"p"},"broker","_","tcp","_","socket"),"."),(0,r.kt)("p",null,"Son API est tr\xe8s simple. Ce ",(0,r.kt)("em",{parentName:"p"},"socket")," est un socket TCP, il ne prend pas en charge le chiffrement et il peut \xeatre d\xe9licat d'envoyer des donn\xe9es en HTTP. Voici un exemple\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'-- Here, we create our socket\nlocal socket = broker_tcp_socket.new()\n\n-- We establish the connection with the server\nsocket:connect(address, port)\n\n-- Now, we can send data\nsocket:write("This is a text to send")\n\n-- If, we want an answer, we also have a function to read\nlocal content = socket:read()\n\n-- When exchanges are finished, we can close the socket\nsocket:close()\n')),(0,r.kt)("p",null,"Dans notre cas, nous n'utilisons pas ",(0,r.kt)("strong",{parentName:"p"},"broker","_","tcp","_","socket")," en raison de ses limitations. Nous voulons \xeatre en mesure d'envoyer des donn\xe9es \xe0 un serveur HTTPS."),(0,r.kt)("p",null,"Un pr\xe9requis est d'installer la ",(0,r.kt)("a",{parentName:"p",href:"http://w3.impa.br/~diego/software/luasocket/"},"biblioth\xe8que lua-socket"),". Cette biblioth\xe8que fournit plusieurs fonctionnalit\xe9s, nous avons besoin de deux d'entre elles\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"socket http"),(0,r.kt)("li",{parentName:"ul"},"ltn12")),(0,r.kt)("p",null,"Pour y acc\xe9der, Lua fournit la fonction ",(0,r.kt)("strong",{parentName:"p"},"require"),"."),(0,r.kt)("p",null,"Introduisons le d\xe9but de notre nouveau Stream Connector."),(0,r.kt)("h3",{id:"les-param\xe8tres-de-la-file-dattente"},"Les param\xe8tres de la file d'attente"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'-- We declare the objects to import here\nlocal http = require("socket.http")\nlocal ltn12 = require("ltn12")\n\n-- Here are predefined queue parameters\nlocal event_queue = {\n  __internal_ts_last_flush    = nil,\n  http_server_address         = "",\n  http_server_port            = 8086,\n  http_server_protocol        = "http",\n  events                      = {},\n  influx_database             = "mydb",\n  influx_user                 = "",\n  influx_password             = "",\n  max_buffer_size             = 5000,\n  max_buffer_age              = 5\n}\n')),(0,r.kt)("p",null,"Dans ce tableau, nous donnons des valeurs par d\xe9faut aux param\xe8tres qui peuvent \xe9ventuellement \xeatre modifi\xe9s lors de l'appel ",(0,r.kt)("strong",{parentName:"p"},"init()"),". Cette table sera utilis\xe9e pour stocker des donn\xe9es importantes pour le script et est \xe9galement notre objet de file d'attente."),(0,r.kt)("h3",{id:"une-m\xe9thode-pour-cr\xe9er-la-file-dattente"},"Une m\xe9thode pour cr\xe9er la file d'attente"),(0,r.kt)("p",null,"Pour d\xe9clarer cette table comme un objet Lua, nous avons besoin d'un constructeur. Le voici\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'-- Constructor of the event_queue\nfunction event_queue:new(o, conf)\n  o = o or {}\n  setmetatable(o, self)\n  self.__index = self\n  for i,v in pairs(conf) do\n    if self[i] and i ~= "events" and string.sub(i, 1, 11) ~= "__internal_" then\n    broker_log:info(1, "event_queue:new: getting parameter " .. i .. " => " .. v)\n    self[i] = v\n    else\n    broker_log:warning(1, "event_queue:new: ignoring parameter " .. i .. " => " .. v)\n    end\n  end\n  self.__internal_ts_last_flush = os.time()\n  broker_log:info(2, "event_queue:new: setting the internal timestamp to " .. self.__internal_ts_last_flush)\n  return o\nend\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Dans cette fonction, nous utilisons une astuce Lua \xab\xa0o = o ou {}\xa0\xbb qui signifie que ",(0,r.kt)("em",{parentName:"p"},"o")," reste le m\xeame s'il est ",(0,r.kt)("strong",{parentName:"p"},"true"),", sinon il est affect\xe9 d'un tableau vide ",(0,r.kt)("inlineCode",{parentName:"p"},"{}"),"."),(0,r.kt)("p",{parentName:"blockquote"},"Un autre point \xe0 noter est l'op\xe9rateur ",(0,r.kt)("strong",{parentName:"p"},"~=")," qui signifie ",(0,r.kt)("strong",{parentName:"p"},"diff\xe9rent de"),"."),(0,r.kt)("p",{parentName:"blockquote"},"Et pour finir sur cette fonction, la variable ",(0,r.kt)("strong",{parentName:"p"},"self")," est implicitement d\xe9finie lorsque nous d\xe9clarons la m\xe9thode d'un objet. Sa signification est la m\xeame que celle de ",(0,r.kt)("strong",{parentName:"p"},"this")," en Java ou en C++. Elle repr\xe9sente l'objet sur lequel nous travaillons.")),(0,r.kt)("h3",{id:"une-m\xe9thode-pour-ajouter-un-\xe9v\xe9nement-dans-la-file-dattente"},"Une m\xe9thode pour ajouter un \xe9v\xe9nement dans la file d'attente"),(0,r.kt)("p",null,"Nous avons un objet de file d'attente. Ce serait formidable de l'utiliser comme ceci\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"-- We construct it\nlocal queue = event_queue:new(nil, conf)\n\n-- We add an event to it\nqueue:add(event)\n\n-- When the queue is full, we would like to do something like this\nqueue:flush()\n")),(0,r.kt)("p",null,"C'est parti\xa0! Ci-dessous, nous pr\xe9sentons une m\xe9thode ",(0,r.kt)("strong",{parentName:"p"},"add()")," qui r\xe9cup\xe8re un nom d'h\xf4te et une description de service dans le cache, cr\xe9e une cha\xeene \xe0 partir de l'\xe9v\xe9nement et la place sur sa pile."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'function event_queue:add(e)\n  local metric = e.name\n  -- time is a reserved word in influxDB so I rename it\n  if metric == "time" then\n    metric = "_" .. metric\n  end\n\n  -- retrieve objects names instead of IDs\n  local host_name = broker_cache:get_hostname(e.host_id)\n  local service_description = broker_cache:get_service_description(e.host_id, e.service_id)\n\n  -- what if we could not get them from cache\n  if not host_name then\n    broker_log:warning(1, "event_queue:add: host_name for id " .. e.host_id .. " not found. Restarting centengine should fix this.")\n    host_name = e.host_id\n  end\n  if not service_description then\n    broker_log:warning(1, "event_queue:add: service_description for id " .. e.host_id .. "." .. e.service_id .. " not found. Restarting centengine should fix this.")\n    service_description = e.service_id\n  else\n    service_description = service_description:gsub(" ", "_")\n  end\n\n  -- we finally append the event to the events table\n  metric = metric:gsub(" ", "_")\n  broker_log:info(3, \'event_queue:add: adding  \' .. service_description .. ",host=" .. host_name .. " " .. metric .. "=" .. e.value .. " " .. e.ctime .. \'000000000" to event list.\')\n  self.events[#self.events + 1] = service_description .. ",host=" .. host_name .. " " .. metric .. "=" .. e.value .. " " .. e.ctime .. "000000000\\n"\n\n  -- then we check whether it is time to send the events to the receiver and flush\n  if #self.events >= self.max_buffer_size then\n    broker_log:info(2, "event_queue:add: flushing because buffer size reached " .. self.max_buffer_size .. " elements.")\n    self:flush()\n    return true\n  elseif os.time() - self.__internal_ts_last_flush >= self.max_buffer_age then\n    broker_log:info(2, "event_queue:add: flushing " .. #self.events .. " elements because buffer age reached " .. (os.time() - self.__internal_ts_last_flush) .. "s and max age is " .. self.max_buffer_age .. "s.")\n    self:flush()\n    return true\n  else\n    return false\n  end\nend\n')),(0,r.kt)("h3",{id:"une-m\xe9thode-pour-vider-la-file-dattente"},"Une m\xe9thode pour vider la file d'attente"),(0,r.kt)("p",null,"Une fois les \xe9v\xe9nements ajout\xe9s dans la file d'attente et la taille maximale de la file ou le d\xe9lai d'attente atteint, les \xe9v\xe9nements seront envoy\xe9s au stockage InfluxDB."),(0,r.kt)("p",null,"Cette fonction cr\xe9e des donn\xe9es \xe0 partir de la file d'attente et les envoie au stockage. Si une erreur se produit, elle introduit une erreur dans le journal."),(0,r.kt)("p",null,"C'est ici que nous utilisons les objets ",(0,r.kt)("strong",{parentName:"p"},"http")," et ",(0,r.kt)("strong",{parentName:"p"},"ltn12")," charg\xe9s au d\xe9but du script."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'  function event_queue:flush()\n    broker_log:info(2, "event_queue:flush: Concatenating all the events as one string")\n    --  we concatenate all the events\n    local http_post_data = ""\n    local http_result_body = {}\n    for i, raw_event in ipairs(self.events) do\n      http_post_data = http_post_data .. raw_event\n    end\n    broker_log:info(2, \'event_queue:flush: HTTP POST request "\' .. self.http_server_protocol .. "://" .. self.http_server_address .. ":" .. self.http_server_port .. "/write?db=" .. self.influx_database .. \'"\')\n    broker_log:info(3, "event_queue:flush: HTTP POST data are: \'" .. http_post_data .. "\'")\n\n    -- build url\n    local influxdb_url = self.http_server_protocol .. "://" .. self.http_server_address .. ":" .. self.http_server_port .. "/write?db=" .. self.influx_database\n    -- add authentication if needed\n    if string.len(self.influx_user) >= 1 and string.len(self.influx_password) >= 1 then\n      influxdb_url = influxdb_url .. "&u=" .. self.influx_user .. "&p="..self.influx_password\n    end\n\n    local hr_result, hr_code, hr_header, hr_s = http.request{\n      url = influxdb_url,\n      method = "POST",\n      -- sink is where the request result\'s body will go\n      sink = ltn12.sink.table(http_result_body),\n      -- request body needs to be formatted as a LTN12 source\n      source = ltn12.source.string(http_post_data),\n      headers = {\n        -- mandatory for POST request with body\n        ["content-length"] = string.len(http_post_data)\n      }\n    }\n    -- Handling the return code\n    if hr_code == 204 then\n      broker_log:info(2, "event_queue:flush: HTTP POST request successful: return code is " .. hr_code)\n    else\n      broker_log:error(1, "event_queue:flush: HTTP POST request FAILED: return code is " .. hr_code)\n      for i, v in ipairs(http_result_body) do\n        broker_log:error(1, "event_queue:flush: HTTP POST request FAILED: message line " .. i .. \' is "\' .. v .. \'"\')\n      end\n    end\n\n    -- now that the data has been sent, we empty the events array\n    self.events = {}\n    -- and update the timestamp\n    self.__internal_ts_last_flush = os.time()\n  end\n')),(0,r.kt)("h3",{id:"la-fonction-init-pour-obtenir-les-param\xe8tres-et-cr\xe9er-la-file-dattente"},"La fonction init() pour obtenir les param\xe8tres et cr\xe9er la file d'attente"),(0,r.kt)("p",null,"Dans ce cas, la fonction ",(0,r.kt)("strong",{parentName:"p"},"init()")," cr\xe9e la file d'attente avec les param\xe8tres d\xe9finis par les utilisateurs dans l'interface web ou utilise les param\xe8tres par d\xe9faut d\xe9j\xe0 d\xe9finis dans la file d'attente. Cette alternative est g\xe9r\xe9e par le constructeur de la file d'attente."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'  function init(conf)\n    broker_log:set_parameters(1, "/var/log/centreon-broker/stream-connector-influxdb.log")\n    broker_log:info(2, "init: Beginning init() function")\n    queue = event_queue:new(nil, conf)\n    broker_log:info(2, "init: Ending init() function, Event queue created")\n  end\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"queue")," n'est pas d\xe9finie comme locale, ceci est important pour qu'elle soit accessible depuis toutes les fonctions.")),(0,r.kt)("h3",{id:"la-fonction-write-pour-ins\xe9rer-les-\xe9v\xe9nements-dans-la-file-dattente"},"La fonction write() pour ins\xe9rer les \xe9v\xe9nements dans la file d'attente"),(0,r.kt)("p",null,"La fonction ",(0,r.kt)("strong",{parentName:"p"},"write()")," est uniquement utilis\xe9e pour ins\xe9rer des \xe9v\xe9nements filtr\xe9s dans la file d'attente\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'  function write(e)\n    broker_log:info(3, "write: Beginning write() function")\n    queue:add(e)\n    broker_log:info(3, "write: Ending write() function\\n")\n    return true\n  end\n')),(0,r.kt)("h3",{id:"la-fonction-filter-pour-s\xe9lectionner-uniquement-les-\xe9v\xe9nements-de-donn\xe9es-de-performance"},"La fonction filter() pour s\xe9lectionner uniquement les \xe9v\xe9nements de donn\xe9es de performance"),(0,r.kt)("p",null,"Pour s\xe9lectionner uniquement les donn\xe9es de performance, nous devons s\xe9lectionner la cat\xe9gorie\xa03 (\xab\xa0Storage\xa0\xbb) et l'",(0,r.kt)("em",{parentName:"p"},"element"),"\xa01 pour ",(0,r.kt)("em",{parentName:"p"},"metric")," :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"  function filter(category, element)\n    if category == 3 and element == 1 then\n      return true\n    end\n    return false\n  end\n")),(0,r.kt)("h3",{id:"script-complet"},"Script complet"),(0,r.kt)("p",null,"Le script complet peut \xeatre t\xe9l\xe9charg\xe9 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/centreon/centreon-stream-connector-scripts/blob/master/centreon-certified/influxdb/influxdb-metrics-apiv1.lua"},"ici"),"."),(0,r.kt)("h3",{id:"configurer-centreon-broker"},"Configurer Centreon Broker"),(0,r.kt)("p",null,"Configurez le nouvel output dans l'interface Web Centreon dans ",(0,r.kt)("strong",{parentName:"p"},"Configuration > Collecteurs > Configuration de Centreon Broker > Central Broker"),". Dans l\u2019onglet ",(0,r.kt)("strong",{parentName:"p"},"Output"),", s\xe9lectionnez ",(0,r.kt)("strong",{parentName:"p"},"Generic \u2013 Stream connector"),", puis cliquez sur ",(0,r.kt)("strong",{parentName:"p"},"Ajouter")," :"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(10495).Z,width:"857",height:"256"})),(0,r.kt)("p",null,"D\xe9finissez le nom de cet output et le chemin vers le connecteur Lua\xa0:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(83739).Z,width:"1886",height:"1358"})),(0,r.kt)("p",null,"Cliquez ensuite sur ",(0,r.kt)("strong",{parentName:"p"},"Sauvegarder")," et g\xe9n\xe9rez la configuration, puis red\xe9marrez ",(0,r.kt)("strong",{parentName:"p"},"cbd"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"N'oubliez pas de red\xe9marrer \xe9galement \xab\xa0centengine\xa0\xbb pour cr\xe9er le cache de Centreon Broker.")),(0,r.kt)("p",null,"Si vous installez le tableau de bord ",(0,r.kt)("a",{parentName:"p",href:"https://grafana.com/"},"Grafana"),", vous pouvez visualiser les donn\xe9es stock\xe9es\xa0:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(21477).Z,width:"1833",height:"748"})),(0,r.kt)("h2",{id:"d\xe9couvrez-dautres-stream-connectors-centreon"},"D\xe9couvrez d'autres Stream Connectors Centreon"),(0,r.kt)("p",null,"Centreon fournit un d\xe9p\xf4t Github pour h\xe9berger les scripts Lua d\xe9velopp\xe9s par Centreon et la communaut\xe9. Rendez-vous sur le ",(0,r.kt)("a",{parentName:"p",href:"http://github.com/centreon/centreon-stream-connector-scripts"},"Github d\xe9di\xe9"),"."),(0,r.kt)("p",null,"Vous avez besoin d'aide pour d\xe9velopper votre Stream Connector\xa0? Vous voulez partager votre exp\xe9rience avec la communaut\xe9\xa0? Rejoignez le ",(0,r.kt)("a",{parentName:"p",href:"https://centreon.github.io/"},"canal Slack de la communaut\xe9 Centreon"),"."))}f.isMDXComponent=!0},46228:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/add_parameter-8c1830a70f2c5ade64633b80306ad8c3.png"},10495:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/add_stream_connector-9dbda93bfb72888e2127dfe5b44af843.png"},58333:(e,t,n)=>{n.d(t,{Z:()=>r});const r="data:image/png;base64,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"},91824:(e,t,n)=>{n.d(t,{Z:()=>r});const r="data:image/png;base64,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"},83739:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/broker_influxdb_output-a3dd2f65fbef135148c1d4b342d082f7.png"},11616:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/describe_output-55b0682c8a216a183d11f3acb92bf2f8.png"},21477:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/visualize_data_grafana-12b2002b7e81b8405edbd0f679609731.png"}}]);