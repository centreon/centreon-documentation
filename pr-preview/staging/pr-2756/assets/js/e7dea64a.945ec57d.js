"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[48031],{43473:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>u,toc:()=>p});n(67294);var r=n(3905);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const s={id:"developer-stream-connector",title:"How to write a Stream Connector"},l=void 0,u={unversionedId:"developer/developer-stream-connector",id:"version-23.10/developer/developer-stream-connector",title:"How to write a Stream Connector",description:"Overview",source:"@site/versioned_docs/version-23.10/developer/developer-stream-connector.md",sourceDirName:"developer",slug:"/developer/developer-stream-connector",permalink:"/centreon-documentation/pr-preview/staging/pr-2756/docs/developer/developer-stream-connector",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/versioned_docs/version-23.10/developer/developer-stream-connector.md",tags:[],version:"23.10",lastUpdatedAt:1699891870,formattedLastUpdatedAt:"Nov 13, 2023",frontMatter:{id:"developer-stream-connector",title:"How to write a Stream Connector"},sidebar:"version-23.10/docs",previous:{title:"How to write a module",permalink:"/centreon-documentation/pr-preview/staging/pr-2756/docs/developer/developer-module"},next:{title:"Stream connector migration to BBDO 3.0.0",permalink:"/centreon-documentation/pr-preview/staging/pr-2756/docs/developer/developer-broker-stream-connector-migration"}},c={},p=[{value:"Overview",id:"overview",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Creating a new Lua script",id:"creating-a-new-lua-script",level:2},{value:"Migrating a stream connector from BBDO 2 to BBDO 3",id:"migrating-a-stream-connector-from-bbdo-2-to-bbdo-3",level:2},{value:"Programming language",id:"programming-language",level:3},{value:"Storage of Lua scripts",id:"storage-of-lua-scripts",level:3},{value:"Write all information into a file",id:"write-all-information-into-a-file",level:3},{value:"Store raw data",id:"store-raw-data",level:4},{value:"Use parameters",id:"use-parameters",level:4},{value:"Manipulate data",id:"manipulate-data",level:4},{value:"Export performance data to InfluxDB",id:"export-performance-data-to-influxdb",level:2},{value:"The queue parameters",id:"the-queue-parameters",level:3},{value:"A method to create the queue",id:"a-method-to-create-the-queue",level:3},{value:"A method to add an event to a queue",id:"a-method-to-add-an-event-to-a-queue",level:3},{value:"A method to flush the queue",id:"a-method-to-flush-the-queue",level:3},{value:"The init() function to get parameters and create the queue",id:"the-init-function-to-get-parameters-and-create-the-queue",level:3},{value:"The write() function to insert events in the queue",id:"the-write-function-to-insert-events-in-the-queue",level:3},{value:"The filter() function to select only performance data events",id:"the-filter-function-to-select-only-performance-data-events",level:3},{value:"Complete script",id:"complete-script",level:3},{value:"Configure Centreon Broker",id:"configure-centreon-broker",level:3},{value:"Discover other Centreon Stream Connectors",id:"discover-other-centreon-stream-connectors",level:2}],m={toc:p},d="wrapper";function h(e){var{components:t}=e,s=i(e,["components"]);return(0,r.kt)(d,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},m,s),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"Centreon Stream Connector is a feature introduced in Centreon 3.4.6. It lets you export Centreon data (events and\nmetrics) to an external storage or application such as ElasticSearch, Splunk, InfluxDB, files, etc."),(0,r.kt)("p",null,"In a Centreon platform, the component that carries information between the remote pollers and the Centreon central\nserver is called Centreon Broker. This broker stores received data in the Centreon local storage: MariaDB and RRDtool."),(0,r.kt)("p",null,"The following diagram explains the transfer of collected data and insertion into storage:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(78767).Z,width:"1229",height:"417"})),(0,r.kt)("p",null,"The Stream Connector feature is a new Centreon Broker output getting data from Centreon Broker Master (also known\nas Centreon Broker SQL) to aggregate and forward it to external storage."),(0,r.kt)("p",null,"This output loads a Lua script called a Stream Connector, whose job is to handle, aggregate and enrich the data before\nforwarding it to the defined protocol:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(93324).Z,width:"716",height:"407"})),(0,r.kt)("p",null,"Because it is an output of Centreon Broker, the principle of creating retention files upon interrupting external storage\naccess is retained. In the same way, it is possible to filter input on the categories of flow to handle."),(0,r.kt)("h2",{id:"requirements"},"Requirements"),(0,r.kt)("p",null,"To use the Centreon Stream connector feature, you need at least Centreon version 3.4.6:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Centreon Web >= 2.8.18"),(0,r.kt)("li",{parentName:"ul"},"Centreon Broker >= 3.0.13"),(0,r.kt)("li",{parentName:"ul"},"Lua >= 5.1.x")),(0,r.kt)("h2",{id:"creating-a-new-lua-script"},"Creating a new Lua script"),(0,r.kt)("p",null,"The complete technical documentation is available ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2756/docs/developer/developer-broker-stream-connector"},"here"),".\nIn this how-to, we will write two scripts:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The first one, easy, that explains the basics of Stream Connectors. Its goal is to export data to a log file."),(0,r.kt)("li",{parentName:"ul"},"The second one is more challenging for the reader; it exports performance data to the TSDB InfluxDB, but is easily\nadaptable to export to another TSDB.")),(0,r.kt)("h2",{id:"migrating-a-stream-connector-from-bbdo-2-to-bbdo-3"},"Migrating a stream connector from BBDO 2 to BBDO 3"),(0,r.kt)("p",null,"The technical migration documentation is available ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2756/docs/developer/developer-broker-stream-connector-migration"},"here"),".\nThis how-to gives several tips to succeed with the migration and presents a little example."),(0,r.kt)("h3",{id:"programming-language"},"Programming language"),(0,r.kt)("p",null,"Centreon chose the Lua programming language to let you handle, aggregate and transfer data. Lua is a programming language\nthat is easy to use. You can find more information in the ",(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/docs.html"},"Lua official documentation"),"."),(0,r.kt)("h3",{id:"storage-of-lua-scripts"},"Storage of Lua scripts"),(0,r.kt)("p",null,"Broker's Lua scripts can be stored in any directory readable by the ",(0,r.kt)("strong",{parentName:"p"},"centreon-broker")," user."),(0,r.kt)("p",null,"We recommend storing them in ",(0,r.kt)("strong",{parentName:"p"},"/usr/share/centreon-broker/lua"),"."),(0,r.kt)("h3",{id:"write-all-information-into-a-file"},"Write all information into a file"),(0,r.kt)("h4",{id:"store-raw-data"},"Store raw data"),(0,r.kt)("p",null,"Let's start with the first script. Our goal is to store all events given by Broker in a log file. We will call our\nstream connector ",(0,r.kt)("strong",{parentName:"p"},"bbdo2file.lua"),"."),(0,r.kt)("p",null,"As we said previously, we will store this file in the ",(0,r.kt)("strong",{parentName:"p"},"/usr/share/centreon-broker/lua")," directory on the Centreon\ncentral server."),(0,r.kt)("p",null,"If the directory does not exist, as root, we can create it with the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Shell"},"mkdir -p /usr/share/centreon-broker/lua\n")),(0,r.kt)("p",null,"Centreon Broker provides several log functions to write logs, warnings or errors into a file. We will use one of these\n",(0,r.kt)("em",{parentName:"p"},"info()")," functions to write Broker events. ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2756/docs/developer/developer-broker-stream-connector#the-broker_log-object"},"See technical documentation for more information")),(0,r.kt)("p",null,"The ",(0,r.kt)("em",{parentName:"p"},"info()")," function is part of the ",(0,r.kt)("em",{parentName:"p"},"broker_log")," object. To call it, the syntax is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"broker_log:info(level, text)\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"level")," is an integer from 1 (most important) to 3 (least important)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"text")," is the text to write as log.")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Did you notice the separator between ",(0,r.kt)("strong",{parentName:"p"},"broker_log")," and ",(0,r.kt)("strong",{parentName:"p"},"info"),"? Yes, it is a colon! This is how object functions, also called\n",(0,r.kt)("em",{parentName:"p"},"methods"),", are called in Lua.")),(0,r.kt)("p",null,"Let's start our script. The more important function in a stream connector is the ",(0,r.kt)("strong",{parentName:"p"},"write()")," function. Each time an\nevent is received from a poller through Broker, this function is called with the event as an argument."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"You will never have to call the ",(0,r.kt)("strong",{parentName:"p"},"write()")," function yourself; it is always Broker's job to do this. In fact, it would\nbe an error to make such a call. In other words, there should not be any call to the ",(0,r.kt)("strong",{parentName:"p"},"write()")," function in your script.\n",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2756/docs/developer/developer-broker-stream-connector#the-write-function"},"See technical documentation for more information"))),(0,r.kt)("p",null,"Here is the first version of ",(0,r.kt)("strong",{parentName:"p"},"bbdo2file.lua"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'function init(conf)\n  broker_log:set_parameters(3, "/var/log/centreon-broker/bbdo2file.log")\nend\n\nfunction write(d)\n  for k,v in pairs(d) do\n    broker_log:info(3, k .. " => " .. tostring(v))\n  end\n  return true\nend\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Information about the initialization of the Broker's log function and its parameters are given here\n",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2756/docs/developer/developer-broker-stream-connector#the-broker_log-object"},"see technical documentation"),".")),(0,r.kt)("p",null,"Let's explain what we are doing in this script."),(0,r.kt)("p",null,"We must provide an ",(0,r.kt)("strong",{parentName:"p"},"init()")," function. This is described in the ",(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/staging/pr-2756/docs/developer/developer-broker-stream-connector#the-init-function"},"technical documentation")),(0,r.kt)("p",null,"This function is called during stream connector initialization. Here, we use it to initialize the ",(0,r.kt)("strong",{parentName:"p"},"broker_log"),"\nobject. To achieve this, we call the ",(0,r.kt)("strong",{parentName:"p"},"broker_log::set_parameters()")," method, which needs two parameters:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A max level (from 1 to 3). If you enter 2 here, only logs of levels 1 and 2 will be returned."),(0,r.kt)("li",{parentName:"ul"},"A file to write the logs in. This file must be in a writable directory for the ",(0,r.kt)("strong",{parentName:"li"},"centreon-broker")," user.")),(0,r.kt)("p",null,"The second function is the ",(0,r.kt)("strong",{parentName:"p"},"write()")," function. As already stated, its argument is a Broker event. This type of object\nis a collection of keys/values. For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JSON"},'{\n    "check_hosts_freshness": false,\n    "active_host_checks": true,\n    "category": 1,\n    "event_handlers": true,\n    "instance_id": 1,\n    "last_command_check": 1522836592,\n    "type": 65552,\n    "global_service_event_handler": "",\n    "obsess_over_services": false,\n    "passive_service_checks": true,\n    "last_alive": 1522836593,\n    "active_service_checks": true,\n    "check_services_freshness": true,\n    "flap_detection": false,\n    "global_host_event_handler": "",\n    "notifications": true,\n    "obsess_over_hosts": false,\n    "passive_host_checks": true,\n    "element": 16\n}\n')),(0,r.kt)("p",null,"In all events, you will find ",(0,r.kt)("em",{parentName:"p"},"category"),", ",(0,r.kt)("em",{parentName:"p"},"element")," and ",(0,r.kt)("em",{parentName:"p"},"type"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Information about the ",(0,r.kt)("em",{parentName:"li"},"category")," can be found ",(0,r.kt)("a",{parentName:"li",href:"/centreon-documentation/pr-preview/staging/pr-2756/docs/developer/developer-broker-bbdo#event-categories"},"here in the bbdo documentation")),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("em",{parentName:"li"},"element")," is the ",(0,r.kt)("em",{parentName:"li"},"sub-category")," (also called ",(0,r.kt)("em",{parentName:"li"},"type")," in the bbdo documentation)."),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("em",{parentName:"li"},"type")," is a number built from the ",(0,r.kt)("em",{parentName:"li"},"category")," and the ",(0,r.kt)("em",{parentName:"li"},"element")," (binary concatenation).")),(0,r.kt)("p",null,"In this example, the ",(0,r.kt)("em",{parentName:"p"},"category")," is 1 and the ",(0,r.kt)("em",{parentName:"p"},"element")," is 16. So, by reading the documentation, we can say that this event\nis a NEB event with sub-category ",(0,r.kt)("em",{parentName:"p"},"instance-status"),"."),(0,r.kt)("p",null,"To finish with the ",(0,r.kt)("strong",{parentName:"p"},"write()")," function, we make a loop on the ",(0,r.kt)("strong",{parentName:"p"},"d")," event parameters. For each step, ",(0,r.kt)("em",{parentName:"p"},"k")," is a key and\n",(0,r.kt)("em",{parentName:"p"},"v")," is the corresponding value. And we send the following string to the log file: ",(0,r.kt)("inlineCode",{parentName:"p"},'k .. " => " .. tostring(v)'),". That means the\n",(0,r.kt)("em",{parentName:"p"},"concatenation")," of ",(0,r.kt)("em",{parentName:"p"},"k"),", ",(0,r.kt)("em",{parentName:"p"},"=>")," and ",(0,r.kt)("em",{parentName:"p"},"v")," converted into a string. You will see an example of the result below."),(0,r.kt)("p",null,"Another possibility would be to use the ",(0,r.kt)("strong",{parentName:"p"},"broker.json_encode(d)")," function that converts any Lua object to a ",(0,r.kt)("em",{parentName:"p"},"json"),"\nstring representation of it. So, we could write the function like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"function write(d)\n  broker_log:info(3, broker.json_encode(d))\n  return true\nend\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"You can notice that ",(0,r.kt)("strong",{parentName:"p"},"broker.json_encode(d)")," is made of ",(0,r.kt)("strong",{parentName:"p"},"broker")," and ",(0,r.kt)("strong",{parentName:"p"},"json_encode(d)")," separated by a ",(0,r.kt)("em",{parentName:"p"},"dot")," and\nnot a ",(0,r.kt)("em",{parentName:"p"},"colon"),". This is because ",(0,r.kt)("strong",{parentName:"p"},"broker")," is not a Lua object. In fact, you can see it as a function set provided\nby ",(0,r.kt)("em",{parentName:"p"},"Centreon Broker"),".")),(0,r.kt)("p",null,"Once your file ",(0,r.kt)("strong",{parentName:"p"},"/usr/share/centreon-broker/lua/bbdo2file.lua")," is ready, check that it is readable by the\n",(0,r.kt)("strong",{parentName:"p"},"centreon-broker")," user (or the ",(0,r.kt)("strong",{parentName:"p"},"centreon-engine")," user who is the owner of the ",(0,r.kt)("strong",{parentName:"p"},"centreon-broker")," group). If it is not,\nas root you can enter:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Shell"},"chown centreon-engine:centreon-engine /usr/share/centreon-broker/lua/bbdo2file.lua\n")),(0,r.kt)("p",null,"Then configure the new output in the Centreon Web interface in ",(0,r.kt)("strong",{parentName:"p"},"Configuration > Pollers > Broker configuration > Central Broker"),".\nIn the ",(0,r.kt)("strong",{parentName:"p"},"Output")," tab, select ",(0,r.kt)("strong",{parentName:"p"},"Generic \u2013 Stream connector")," and click ",(0,r.kt)("strong",{parentName:"p"},"Add"),":"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(58526).Z,width:"857",height:"256"})),(0,r.kt)("p",null,"Define the name of this output and the path to the Lua connector:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(95188).Z,width:"1017",height:"487"})),(0,r.kt)("p",null,"Then click ",(0,r.kt)("strong",{parentName:"p"},"Save")," and proceed to generate the configuration and restart ",(0,r.kt)("strong",{parentName:"p"},"cbd"),"."),(0,r.kt)("p",null,"Once the Centreon Broker is restarted on your Centreon central server, data will appear in your\n",(0,r.kt)("strong",{parentName:"p"},"/var/log/centreon-broker/bbdo2file.log")," log file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Shell"},"mer. 28 mars 2018 14:27:35 CEST: INFO: flap_detection => true\nmer. 28 mars 2018 14:27:35 CEST: INFO: enabled => true\nmer. 28 mars 2018 14:27:35 CEST: INFO: host_id => 102\nmer. 28 mars 2018 14:27:35 CEST: INFO: last_time_ok => 1522240053\nmer. 28 mars 2018 14:27:35 CEST: INFO: state => 0\nmer. 28 mars 2018 14:27:35 CEST: INFO: last_update => 1522240054\nmer. 28 mars 2018 14:27:35 CEST: INFO: last_check => 1522240053\nmer. 28 mars 2018 14:27:35 CEST: INFO: execution_time => 0.005025\nmer. 28 mars 2018 14:27:35 CEST: INFO: acknowledged => false\nmer. 28 mars 2018 14:27:35 CEST: INFO: service_id => 778\nmer. 28 mars 2018 14:27:35 CEST: INFO: active_checks => true\nmer. 28 mars 2018 14:27:35 CEST: INFO: notify => false\nmer. 28 mars 2018 14:27:35 CEST: INFO: max_check_attempts => 3\nmer. 28 mars 2018 14:27:35 CEST: INFO: obsess_over_service => true\nmer. 28 mars 2018 14:27:35 CEST: INFO: check_type => 0\nmer. 28 mars 2018 14:27:35 CEST: INFO: last_hard_state_change => 1522165654\nmer. 28 mars 2018 14:27:35 CEST: INFO: category => 1\nmer. 28 mars 2018 14:27:35 CEST: INFO: perfdata => used=41986296644o;48103633715;54116587930;0;60129542144 size=60129542144o\nmer. 28 mars 2018 14:27:35 CEST: INFO: check_interval => 5\nmer. 28 mars 2018 14:27:35 CEST: INFO: output => Disk /var - used : 39.10 Go - size : 56.00 Go - percent : 69 %\nmer. 28 mars 2018 14:27:35 CEST: INFO: check_command => check-bench-disk\nmer. 28 mars 2018 14:27:35 CEST: INFO: check_period => 24x7\nmer. 28 mars 2018 14:27:35 CEST: INFO: type => 65560\nmer. 28 mars 2018 14:27:35 CEST: INFO: last_hard_state => 0\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"This log file will grow quickly, so remember to add a log rotate.")),(0,r.kt)("h4",{id:"use-parameters"},"Use parameters"),(0,r.kt)("p",null,"The Centreon Broker log functions should be used for log only. To write into a file, we must use the Lua dedicated\nfunction. Moreover, it is possible to use parameters to define the name of the log file."),(0,r.kt)("p",null,"So let's improve our Stream Connector:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'function init(conf)\n  logFile = conf[\'logFile\']\n  broker_log:set_parameters(3, "/var/log/centreon-broker/debug.log")\nend\n\nfunction writeIntoFile(output)\n  local file,err = io.open(logFile, \'a\')\n  if file == nil then\n    broker_log:info(3, "Couldn\'t open file: " .. err)\n  else\n    file:write(output)\n    file:close()\n  end\nend\n\nfunction write(d)\n  for k,v in pairs(d) do\n    writeIntoFile(k .. " => " .. tostring(v) .. "\\n")\n  end\n  return true\nend\n')),(0,r.kt)("p",null,"Did you notice the expression ",(0,r.kt)("inlineCode",{parentName:"p"},"local file,err = io.open(logFile, 'a')"),"?"),(0,r.kt)("p",null,"Lua is able to store several variables at the same time. Also, Lua functions can return several variables!"),(0,r.kt)("p",null,"For example, if you want to swap variables ",(0,r.kt)("em",{parentName:"p"},"a")," and ",(0,r.kt)("em",{parentName:"p"},"b"),", you can enter:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"a, b = b, a\n")),(0,r.kt)("p",null,"Here is another example that illustrates several values returned:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"function fib(a, b)\n  return b, a + b\nend\n")),(0,r.kt)("p",null,"So, this call to ",(0,r.kt)("strong",{parentName:"p"},"io.open")," returns two variables: a first variable ",(0,r.kt)("strong",{parentName:"p"},"file")," that is a ",(0,r.kt)("em",{parentName:"p"},"file descriptor")," used to access\nthe file, and a second variable, not always defined, which contains the error if one occurs or ",(0,r.kt)("strong",{parentName:"p"},"nil")," (not defined) otherwise."),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"init()")," function can get parameters and define these from Centreon web interface. Refer to the technical\ndocumentation for more information. Here, we add the possibility to choose the destination file name. The ",(0,r.kt)("strong",{parentName:"p"},"conf")," table\nhas a key ",(0,r.kt)("em",{parentName:"p"},"logFile")," defined in the web interface. The corresponding value is the file name used to store events."),(0,r.kt)("p",null,"Edit your Broker output to declare this parameter:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(33040).Z,width:"964",height:"388"})),(0,r.kt)("p",null,"It is important that the name of the parameter in the web interface should match the key name in the ",(0,r.kt)("strong",{parentName:"p"},"conf")," table. Here,\nit is ",(0,r.kt)("em",{parentName:"p"},"logFile"),"."),(0,r.kt)("p",null,"Then click ",(0,r.kt)("strong",{parentName:"p"},"Save")," and proceed to generate the configuration and restart ",(0,r.kt)("strong",{parentName:"p"},"cbd"),"."),(0,r.kt)("p",null,"Data are stored in the ",(0,r.kt)("strong",{parentName:"p"},"/var/log/centreon-broker/bbdo2file.log")," log file as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Shell"},"name => error\ncategory => 3\ninterval => 300\nrrd_len => 3456000\nvalue => 0\nvalue_type => 0\ntype => 196612\nctime => 1522315660\nindex_id => 4880\nelement => 4\nstate => 0\ncategory => 3\ninterval => 300\nrrd_len => 3456000\nis_for_rebuild => false\nservice_id => 1056\ntype => 196609\nctime => 1522315660\nhost_id => 145\nelement => 1\nis_for_rebuild => false\nmetric_id => 11920\n")),(0,r.kt)("h4",{id:"manipulate-data"},"Manipulate data"),(0,r.kt)("p",null,"Here, we continue to improve our stream connector by choosing which events to export and also by improving outputs."),(0,r.kt)("p",null,"We will select only the NEB category and events concerning the status of hosts and services."),(0,r.kt)("p",null,"We know that NEB is category 1, and service status is sub-category 24, whereas host status is sub-category 14."),(0,r.kt)("p",null,"So, only events with the following criteria:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"category = 1"),(0,r.kt)("li",{parentName:"ul"},"element = 14 or element = 24")),(0,r.kt)("p",null,"are of interest to us."),(0,r.kt)("p",null,"Moreover, we would prefer to have a host name instead of a host id and a service description instead of a service id."),(0,r.kt)("p",null,"Finally, we would be interested in obtaining status information and outputs."),(0,r.kt)("p",null,"NEB Events with elements 14 and 24 provide almost everything we want except host names and service descriptions."),(0,r.kt)("p",null,"To get those two pieces of information, we will have to use the ",(0,r.kt)("strong",{parentName:"p"},"broker_cache")," object. This object is filled when pollers are\nrestarted or reloaded. So, remember to restart your pollers if you want something in your ",(0,r.kt)("strong",{parentName:"p"},"broker_cache")," object!"),(0,r.kt)("p",null,"If the cache is well filled, it is easy to get a host name from the host id:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"broker_cache:get_hostname(host_id)\n")),(0,r.kt)("p",null,"And it is also easy to get the service description from the host id and service id:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"broker_cache:get_service_description(host_id, service_id)\n")),(0,r.kt)("p",null,"To install the filter on events, there is a useful function called ",(0,r.kt)("strong",{parentName:"p"},"filter()")," that takes two parameters into account:\n",(0,r.kt)("em",{parentName:"p"},"category"),", ",(0,r.kt)("em",{parentName:"p"},"element"),"."),(0,r.kt)("p",null,"This function, if defined, is called just before ",(0,r.kt)("strong",{parentName:"p"},"write()"),". If it returns ",(0,r.kt)("strong",{parentName:"p"},"true"),", the ",(0,r.kt)("strong",{parentName:"p"},"write()")," function will be\ncalled. Otherwise, the event will be discarded."),(0,r.kt)("p",null,"Let's complete our Lua script:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'function init(conf)\n  logFile = conf[\'logFile\']\n  broker_log:set_parameters(3, "/var/log/centreon-broker/debug.log")\nend\n\nlocal function writeIntoFile(output)\n  local file,err = io.open(logFile, \'a\')\n  if file == nil then\n    broker_log:info(3, "Couldn\'t open file: " .. err)\n  else\n    file:write(output)\n    file:close()\n  end\nend\n\nfunction write(d)\n  local output = ""\n\n  local host_name = broker_cache:get_hostname(d.host_id)\n  if not host_name then\n    broker_log:info(3, "Unable to get name of host, please restart centengine")\n    host_name = d.host_id\n  end\n\n  if d.element == 14 then\n    output = "HOST:" .. host_name .. ";" .. d.host_id .. ";" .. d.state .. ";" .. d.output\n    writeIntoFile(output)\n    broker_log:info(output)\n  elseif d.element == 24 then\n    local service_description = broker_cache:get_service_description(d.host_id, d.service_id)\n    if not service_description then\n      broker_log:info(3, "Unable to get description of service, please restart centengine")\n      service_description = d.service_id\n    end\n    output = "SERVICE:" .. host_name .. ";" .. d.host_id .. ";" .. service_description .. ";" .. d.service_id .. ";" .. d.state .. ";" .. d.output\n    writeIntoFile(output)\n    broker_log:info(output)\n  end\n  return true\nend\n\nfunction filter(category, element)\n  -- Get only host status and services status from NEB category\n  if category == 1 and (element == 14 or element == 24) then\n    return true\n  end\n    return false\nend\n')),(0,r.kt)("p",null,"Let us make a few comments on this new script before showing what we get."),(0,r.kt)("p",null,"In the ",(0,r.kt)("strong",{parentName:"p"},"init()")," function, we access the ",(0,r.kt)("em",{parentName:"p"},"logFile")," key in the ",(0,r.kt)("em",{parentName:"p"},"conf")," table by using ",(0,r.kt)("inlineCode",{parentName:"p"},"conf['logFile']"),". On the other hand, in the\n",(0,r.kt)("strong",{parentName:"p"},"write()")," function, we access the ",(0,r.kt)("em",{parentName:"p"},"element")," key in the ",(0,r.kt)("em",{parentName:"p"},"d")," table by using ",(0,r.kt)("inlineCode",{parentName:"p"},"d.element"),"..."),(0,r.kt)("p",null,"In fact, both syntaxes are allowed: ",(0,r.kt)("inlineCode",{parentName:"p"},"d.element")," is the same value as ",(0,r.kt)("inlineCode",{parentName:"p"},"d['element']"),"."),(0,r.kt)("p",null,"Another observation: in the ",(0,r.kt)("strong",{parentName:"p"},"write()")," function, we can see something like::"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"if not host_name then\n")),(0,r.kt)("p",null,"And in the ",(0,r.kt)("strong",{parentName:"p"},"writeIntoFile()")," function, we can see that::"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"if file == nil then\n")),(0,r.kt)("p",null,"Do they mean the same thing? What is the difference?"),(0,r.kt)("p",null,"In Lua, a variable is considered to be ",(0,r.kt)("strong",{parentName:"p"},"true")," if it is defined and not ",(0,r.kt)("strong",{parentName:"p"},"false"),":"),(0,r.kt)("p",null,"so, the following code"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'if foo then\n  print("Good")\nelse\n  print("Bad")\nend\n')),(0,r.kt)("p",null,"will write ",(0,r.kt)("em",{parentName:"p"},"Good")," if ",(0,r.kt)("em",{parentName:"p"},"foo")," is defined and not ",(0,r.kt)("strong",{parentName:"p"},"false"),". More precisely, it will write ",(0,r.kt)("em",{parentName:"p"},"Good")," in the following cases:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"foo=12"),(0,r.kt)("li",{parentName:"ul"},"foo=true"),(0,r.kt)("li",{parentName:"ul"},'foo="A string"'),(0,r.kt)("li",{parentName:"ul"},"foo=0 (surprising!)")),(0,r.kt)("p",null,"It will write ",(0,r.kt)("em",{parentName:"p"},"Bad")," in these cases:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"foo=nil (by default a variable is nil, which means not defined)"),(0,r.kt)("li",{parentName:"ul"},"foo=false")),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"/var/log/centreon-broker/bbdo2file.log")," file will now contain:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Shell"},"HOST:srv-DC-djakarta;215;0;OK - srv-DC-djakarta: rta 0.061ms, lost 0%\nSERVICE:mail-titan-gateway;92;disk-/usr;623;0;Disk /usr - used : 42.98 Go - size : 142.00 Go - percent : 30 %\nSERVICE:mail-sun-master;87;memory-stats;535;0;Memory usage (Total 13.0GB): 0.12GB [buffer:0.00GB] [cache:0.01GB] [pages_tables:0.00GB] [mapped:0.00GB] [active:0.07GB] [inactive:0.00GB] [apps:0.02GB] [unused:12.88GB]\nSERVICE:mail-saturn-frontend;86;traffic-eth1;512;0;Traffic In : 4.73 Mb/s (4.73 %), Out : 4.79 Mb/s (4.79 %) - Total RX Bits In : 396.01 Gb, Out : 393.88 Gb\nSERVICE:mail-saturn-frontend;86;memory-stats;515;0;Memory usage (Total 16.0GB): 8.89GB [buffer:0.43GB] [cache:0.95GB] [pages_tables:0.27GB] [mapped:0.15GB] [active:3.92GB] [inactive:0.29GB] [apps:2.88GB] [unused:7.11GB]\nSERVICE:mail-neptune-frontend;80;traffic-eth1;392;0;Traffic In : 4.82 Mb/s (4.82 %), Out : 6.48 Mb/s (6.48 %) - Total RX Bits In : 398.40 Gb, Out : 396.44 Gb\nHOST:srv-DC-casablanca;207;0;OK - srv-DC-casablanca: rta 2.042ms, lost 0%\nSERVICE:mail-neptune-frontend;80;memory-stats;395;0;Memory usage (Total 9.0GB): 0.54GB [buffer:0.03GB] [cache:0.00GB] [pages_tables:0.01GB] [mapped:0.00GB] [active:0.48GB] [inactive:0.00GB] [apps:0.01GB] [unused:8.46GB]\nSERVICE:mail-mercury-frontend;82;traffic-eth1;432;0;Traffic In : 8.28 Mb/s (8.28 %), Out : 1.23 Mb/s (1.23 %) - Total RX Bits In : 397.71 Gb, Out : 400.34 Gb\nSERVICE:mail-mercury-frontend;82;memory-stats;435;0;Memory usage (Total 12.0GB): 1.58GB [buffer:0.00GB] [cache:0.63GB] [pages_tables:0.00GB] [mapped:0.00GB] [active:0.75GB] [inactive:0.00GB] [apps:0.19GB] [unused:10.42GB]\nSERVICE:mail-mars-frontend;84;traffic-eth1;472;0;Traffic In : 7.24 Mb/s (7.24 %), Out : 3.36 Mb/s (3.36 %) - Total RX Bits In : 399.93 Gb, Out : 395.67 Gb\nSERVICE:mail-mars-frontend;84;memory-stats;475;0;Memory usage (Total 3.0GB): 1.19GB [buffer:0.01GB] [cache:0.59GB] [pages_tables:0.00GB] [mapped:0.00GB] [active:0.15GB] [inactive:0.04GB] [apps:0.39GB] [unused:1.81GB]\nSERVICE:mail-jupiter-frontend;85;traffic-eth1;492;0;Traffic In : 1.41 Mb/s (1.41 %), Out : 9.08 Mb/s (9.08 %) - Total RX Bits In : 388.86 Gb, Out : 394.85 Gb\nSERVICE:mail-jupiter-frontend;85;memory-stats;495;0;Memory usage (Total 12.0GB): 0.57GB [buffer:0.04GB] [cache:0.23GB] [pages_tables:0.02GB] [mapped:0.02GB] [active:0.07GB] [inactive:0.03GB] [apps:0.16GB] [unused:11.43GB]\nSERVICE:mail-io-backend;88;traffic-eth1;547;0;Traffic In : 1.51 Mb/s (1.51 %), Out : 7.12 Mb/s (7.12 %) - Total RX Bits In : 389.61 Gb, Out : 390.54 Gb\nSERVICE:mail-io-backend;88;diskio-system;551;0;Device /dev/sda: avg read 4.78 (MB/s) and write 9.08 (MB/s)\n")),(0,r.kt)("h2",{id:"export-performance-data-to-influxdb"},"Export performance data to InfluxDB"),(0,r.kt)("p",null,"Now, you have already seen much discussion about stream connectors. It is time to create something more useful!"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.influxdata.com/"},"InfluxDB")," is a Time Series database. We will use this storage to insert performance data\ncollected by the Centreon platform. For this example, we will use the predefined ",(0,r.kt)("a",{parentName:"p",href:"https://hub.docker.com/_/influxdb/"},"InfluxDB Docker"),"."),(0,r.kt)("p",null,"To send data to InfluxDB, we need parameters to access the InfluxDB storage:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"http_server_address"),": IP address of the storage"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"http_server_port"),": 8086 by default"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"http_server_protocol"),": http or https"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"influx_database"),": name of database"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"influx_user"),": user to access database if defined"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"influx_password"),": password of user to access database if defined")),(0,r.kt)("p",null,"To avoid saturating the storage, we will add all events to a queue and once its maximum size is reached, we will send\ndata in bulk."),(0,r.kt)("p",null,"We need to define the size of the queue and the maximum delay before sending events:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"max_buffer_size"),(0,r.kt)("li",{parentName:"ul"},"max_buffer_age")),(0,r.kt)("p",null,"To create this queue, we introduce a slightly more complicated code. We construct an ",(0,r.kt)("strong",{parentName:"p"},"event_queue")," object. It is\ncomposed of parameters such as ",(0,r.kt)("em",{parentName:"p"},"events"),", ",(0,r.kt)("em",{parentName:"p"},"influx_database")," and methods like ",(0,r.kt)("em",{parentName:"p"},"new()"),", ",(0,r.kt)("em",{parentName:"p"},"add()"),"."),(0,r.kt)("p",null,"To understand how to create such an object in Lua, we recommend the Lua documentation\n",(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/16.1.html"},"here for classes")," and ",(0,r.kt)("a",{parentName:"p",href:"https://www.lua.org/pil/13.html"},"there for metatables")),(0,r.kt)("p",null,"To send data to a server, we provide a ",(0,r.kt)("strong",{parentName:"p"},"broker_tcp_socket")," object."),(0,r.kt)("p",null,"Its API is very simple (too simple?). This ",(0,r.kt)("em",{parentName:"p"},"socket")," is a TCP socket, so it does not support encryption and it can be\ntricky to send data in http. Here is an example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'-- Here, we create our socket\nlocal socket = broker_tcp_socket.new()\n\n-- We establish the connection with the server\nsocket:connect(address, port)\n\n-- Now, we can send data\nsocket:write("This is a text to send")\n\n-- If, we want an answer, we also have a function to read\nlocal content = socket:read()\n\n-- When exchanges are finished, we can close the socket\nsocket:close()\n')),(0,r.kt)("p",null,"For our purpose, we do not use ",(0,r.kt)("strong",{parentName:"p"},"broker_tcp_socket")," because of its limitations. We want to be able to send data to an\nhttps server."),(0,r.kt)("p",null,"A prerequisite is to install the ",(0,r.kt)("a",{parentName:"p",href:"http://w3.impa.br/~diego/software/luasocket/"},"lua-socket library"),". This library\nprovides several features, and we need two of them:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"http socket"),(0,r.kt)("li",{parentName:"ul"},"ltn12")),(0,r.kt)("p",null,"To access them, Lua provides the ",(0,r.kt)("strong",{parentName:"p"},"require")," function."),(0,r.kt)("p",null,"Let's introduce the beginning of our new Stream Connector."),(0,r.kt)("h3",{id:"the-queue-parameters"},"The queue parameters"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'-- We declare the objects to import here\nlocal http = require("socket.http")\nlocal ltn12 = require("ltn12")\n\n-- Here are predefined queue parameters\nlocal event_queue = {\n  __internal_ts_last_flush    = nil,\n  http_server_address         = "",\n  http_server_port            = 8086,\n  http_server_protocol        = "http",\n  events                      = {},\n  influx_database             = "mydb",\n  influx_user                 = "",\n  influx_password             = "",\n  max_buffer_size             = 5000,\n  max_buffer_age              = 5\n}\n')),(0,r.kt)("p",null,"In this table, we give default values to parameters that can possibly be changed during the ",(0,r.kt)("strong",{parentName:"p"},"init()")," call. This table\nwill be used to store important data for the script and is also our queue object."),(0,r.kt)("h3",{id:"a-method-to-create-the-queue"},"A method to create the queue"),(0,r.kt)("p",null,"To declare this table as a Lua object, we need a constructor. So, here it is:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'-- Constructor of the event_queue\nfunction event_queue:new(o, conf)\n  o = o or {}\n  setmetatable(o, self)\n  self.__index = self\n  for i,v in pairs(conf) do\n    if self[i] and i ~= "events" and string.sub(i, 1, 11) ~= "__internal_" then\n    broker_log:info(1, "event_queue:new: getting parameter " .. i .. " => " .. v)\n    self[i] = v\n    else\n    broker_log:warning(1, "event_queue:new: ignoring parameter " .. i .. " => " .. v)\n    end\n  end\n  self.__internal_ts_last_flush = os.time()\n  broker_log:info(2, "event_queue:new: setting the internal timestamp to " .. self.__internal_ts_last_flush)\n  return o\nend\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},'In this function, we use a Lua sugar "o = o or {}" that means ',(0,r.kt)("em",{parentName:"p"},"o")," stays the same if it is ",(0,r.kt)("strong",{parentName:"p"},"true"),", otherwise it is\naffected with an empty table ",(0,r.kt)("inlineCode",{parentName:"p"},"{}"),"."),(0,r.kt)("p",{parentName:"blockquote"},"Another point to notice is the ",(0,r.kt)("strong",{parentName:"p"},"~=")," operator that means ",(0,r.kt)("strong",{parentName:"p"},"different from"),"."),(0,r.kt)("p",{parentName:"blockquote"},"And to finish on this function, the variable ",(0,r.kt)("strong",{parentName:"p"},"self")," is implicitly defined when we declare an object's method. Its\nmeaning is the same as ",(0,r.kt)("strong",{parentName:"p"},"this")," in Java or in C++. It represents the object we are working on.")),(0,r.kt)("h3",{id:"a-method-to-add-an-event-to-a-queue"},"A method to add an event to a queue"),(0,r.kt)("p",null,"We have a queue object. It would be great to use it like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"-- We construct it\nlocal queue = event_queue:new(nil, conf)\n\n-- We add an event to it\nqueue:add(event)\n\n-- When the queue is full, we would like to do something like this\nqueue:flush()\n")),(0,r.kt)("p",null,"Let's do it! Below, we present an ",(0,r.kt)("strong",{parentName:"p"},"add()")," method that retrieves a host name and service description from the cache,\nbuilds a string from the event and pushes it on its stack."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'function event_queue:add(e)\n  local metric = e.name\n  -- time is a reserved word in influxDB so I rename it\n  if metric == "time" then\n    metric = "_" .. metric\n  end\n\n  -- retrieve objects names instead of IDs\n  local host_name = broker_cache:get_hostname(e.host_id)\n  local service_description = broker_cache:get_service_description(e.host_id, e.service_id)\n\n  -- what if we could not get them from cache\n  if not host_name then\n    broker_log:warning(1, "event_queue:add: host_name for id " .. e.host_id .. " not found. Restarting centengine should fix this.")\n    host_name = e.host_id\n  end\n  if not service_description then\n    broker_log:warning(1, "event_queue:add: service_description for id " .. e.host_id .. "." .. e.service_id .. " not found. Restarting centengine should fix this.")\n    service_description = e.service_id\n  else\n    service_description = service_description:gsub(" ", "_")\n  end\n\n  -- we finally append the event to the events table\n  metric = metric:gsub(" ", "_")\n  broker_log:info(3, \'event_queue:add: adding  \' .. service_description .. ",host=" .. host_name .. " " .. metric .. "=" .. e.value .. " " .. e.ctime .. \'000000000" to event list.\')\n  self.events[#self.events + 1] = service_description .. ",host=" .. host_name .. " " .. metric .. "=" .. e.value .. " " .. e.ctime .. "000000000\\n"\n\n  -- then we check whether it is time to send the events to the receiver and flush\n  if #self.events >= self.max_buffer_size then\n    broker_log:info(2, "event_queue:add: flushing because buffer size reached " .. self.max_buffer_size .. " elements.")\n    self:flush()\n    return true\n  elseif os.time() - self.__internal_ts_last_flush >= self.max_buffer_age then\n    broker_log:info(2, "event_queue:add: flushing " .. #self.events .. " elements because buffer age reached " .. (os.time() - self.__internal_ts_last_flush) .. "s and max age is " .. self.max_buffer_age .. "s.")\n    self:flush()\n    return true\n  else\n    return false\n  end\nend\n')),(0,r.kt)("h3",{id:"a-method-to-flush-the-queue"},"A method to flush the queue"),(0,r.kt)("p",null,"Once the events are added to the queue and the maximum size of the queue or the timeout is reached, events will be sent to\nthe InfluxDB storage."),(0,r.kt)("p",null,"This function builds data from the queue and sends them to the storage. If an error occurs, it dumps a log error."),(0,r.kt)("p",null,"It is here that we use the ",(0,r.kt)("strong",{parentName:"p"},"http")," and ",(0,r.kt)("strong",{parentName:"p"},"ltn12")," objects loaded at the beginning of the script."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'  function event_queue:flush()\n    broker_log:info(2, "event_queue:flush: Concatenating all the events as one string")\n    --  we concatenate all the events\n    local http_post_data = ""\n    local http_result_body = {}\n    for i, raw_event in ipairs(self.events) do\n      http_post_data = http_post_data .. raw_event\n    end\n    broker_log:info(2, \'event_queue:flush: HTTP POST request "\' .. self.http_server_protocol .. "://" .. self.http_server_address .. ":" .. self.http_server_port .. "/write?db=" .. self.influx_database .. \'"\')\n    broker_log:info(3, "event_queue:flush: HTTP POST data are: \'" .. http_post_data .. "\'")\n\n    -- build url\n    local influxdb_url = self.http_server_protocol .. "://" .. self.http_server_address .. ":" .. self.http_server_port .. "/write?db=" .. self.influx_database\n    -- add authentication if needed\n    if string.len(self.influx_user) >= 1 and string.len(self.influx_password) >= 1 then\n      influxdb_url = influxdb_url .. "&u=" .. self.influx_user .. "&p="..self.influx_password\n    end\n\n    local hr_result, hr_code, hr_header, hr_s = http.request{\n      url = influxdb_url,\n      method = "POST",\n      -- sink is where the request result\'s body will go\n      sink = ltn12.sink.table(http_result_body),\n      -- request body needs to be formatted as a LTN12 source\n      source = ltn12.source.string(http_post_data),\n      headers = {\n        -- mandatory for POST request with body\n        ["content-length"] = string.len(http_post_data)\n      }\n    }\n    -- Handling the return code\n    if hr_code == 204 then\n      broker_log:info(2, "event_queue:flush: HTTP POST request successful: return code is " .. hr_code)\n    else\n      broker_log:error(1, "event_queue:flush: HTTP POST request FAILED: return code is " .. hr_code)\n      for i, v in ipairs(http_result_body) do\n        broker_log:error(1, "event_queue:flush: HTTP POST request FAILED: message line " .. i .. \' is "\' .. v .. \'"\')\n      end\n    end\n\n    -- now that the data has been sent, we empty the events array\n    self.events = {}\n    -- and update the timestamp\n    self.__internal_ts_last_flush = os.time()\n  end\n')),(0,r.kt)("h3",{id:"the-init-function-to-get-parameters-and-create-the-queue"},"The init() function to get parameters and create the queue"),(0,r.kt)("p",null,"In this case, the ",(0,r.kt)("strong",{parentName:"p"},"init()")," function creates the queue with parameters defined by users in the web interface or uses\ndefault parameters already defined in the queue. This alternative is managed by the queue constructor."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'  function init(conf)\n    broker_log:set_parameters(1, "/var/log/centreon-broker/stream-connector-influxdb.log")\n    broker_log:info(2, "init: Beginning init() function")\n    queue = event_queue:new(nil, conf)\n    broker_log:info(2, "init: Ending init() function, Event queue created")\n  end\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"queue")," is not defined as local. This is important so that it is accessible from all the functions.")),(0,r.kt)("h3",{id:"the-write-function-to-insert-events-in-the-queue"},"The write() function to insert events in the queue"),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"write()")," function is only used to insert filtered events into the queue:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},'  function write(e)\n    broker_log:info(3, "write: Beginning write() function")\n    queue:add(e)\n    broker_log:info(3, "write: Ending write() function\\n")\n    return true\n  end\n')),(0,r.kt)("h3",{id:"the-filter-function-to-select-only-performance-data-events"},"The filter() function to select only performance data events"),(0,r.kt)("p",null,"To select only performance data, we need to select ",(0,r.kt)("em",{parentName:"p"},"category")," 3 (\u201cStorage\u201d) and ",(0,r.kt)("em",{parentName:"p"},"element")," 1 for ",(0,r.kt)("em",{parentName:"p"},"metric"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-LUA"},"  function filter(category, element)\n    if category == 3 and element == 1 then\n      return true\n    end\n    return false\n  end\n")),(0,r.kt)("h3",{id:"complete-script"},"Complete script"),(0,r.kt)("p",null,"The complete script can be downloaded ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/centreon/centreon-stream-connector-scripts/blob/master/centreon-certified/influxdb/influxdb-metrics-apiv1.lua"},"here"),"."),(0,r.kt)("h3",{id:"configure-centreon-broker"},"Configure Centreon Broker"),(0,r.kt)("p",null,"Configure the new output into Centreon Web interface in ",(0,r.kt)("strong",{parentName:"p"},"Configuration > Pollers > Broker configuration > Central\nBroker"),". In the ",(0,r.kt)("strong",{parentName:"p"},"Output")," tab, select ",(0,r.kt)("strong",{parentName:"p"},"Generic \u2013 Stream connector")," and click ",(0,r.kt)("strong",{parentName:"p"},"Add"),":"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(58526).Z,width:"857",height:"256"})),(0,r.kt)("p",null,"Define the name of this output and the path to the Lua connector:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(80918).Z,width:"1886",height:"1358"})),(0,r.kt)("p",null,"Then click ",(0,r.kt)("strong",{parentName:"p"},"Save")," and proceed to generate the configuration and restart ",(0,r.kt)("strong",{parentName:"p"},"cbd"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Remember to restart \u201ccentengine\u201d too to create the Centreon Broker cache.")),(0,r.kt)("p",null,"If you install the ",(0,r.kt)("a",{parentName:"p",href:"https://grafana.com/"},"Grafana")," dashboard, you can view the stored data:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:n(2492).Z,width:"1833",height:"748"})),(0,r.kt)("h2",{id:"discover-other-centreon-stream-connectors"},"Discover other Centreon Stream Connectors"),(0,r.kt)("p",null,"Centreon provides a Github repository to host Lua scripts developed by Centreon\nand the community. Please go to the ",(0,r.kt)("a",{parentName:"p",href:"http://github.com/centreon/centreon-stream-connector-scripts"},"Dedicated Github"),"."),(0,r.kt)("p",null,"Need help to develop your Stream connector? Do you want to share your experience with\nthe community? Join the ",(0,r.kt)("a",{parentName:"p",href:"https://centreon.github.io/"},"Centreon community Slack channel"),"."))}h.isMDXComponent=!0},33040:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/add_parameter-8c1830a70f2c5ade64633b80306ad8c3.png"},58526:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/add_stream_connector-9dbda93bfb72888e2127dfe5b44af843.png"},93324:(e,t,n)=>{n.d(t,{Z:()=>r});const r="data:image/png;base64,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"},78767:(e,t,n)=>{n.d(t,{Z:()=>r});const r="data:image/png;base64,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"},80918:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/broker_influxdb_output-a3dd2f65fbef135148c1d4b342d082f7.png"},95188:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/describe_output-55b0682c8a216a183d11f3acb92bf2f8.png"},2492:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/visualize_data_grafana-12b2002b7e81b8405edbd0f679609731.png"}}]);