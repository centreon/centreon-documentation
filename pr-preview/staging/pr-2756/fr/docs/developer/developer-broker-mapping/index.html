<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper docs-doc-page docs-version-23.10 plugin-docs plugin-id-default docs-doc-id-developer/developer-broker-mapping" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Mapping d’évènements Centreon Broker | Centreon Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.centreon.com/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-broker-mapping/"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="23.10"><meta data-rh="true" name="docusaurus_tag" content="docs-default-23.10"><meta data-rh="true" name="docsearch:version" content="23.10"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-23.10"><meta data-rh="true" property="og:title" content="Mapping d’évènements Centreon Broker | Centreon Documentation"><meta data-rh="true" name="description" content="Centreon Broker utilise des tables de correspondance globales pour les évènements qui peuvent être échangés. Cette page répertorie les propriétés disponibles pour chaque type d’évènement."><meta data-rh="true" property="og:description" content="Centreon Broker utilise des tables de correspondance globales pour les évènements qui peuvent être échangés. Cette page répertorie les propriétés disponibles pour chaque type d’évènement."><link data-rh="true" rel="icon" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.centreon.com/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-broker-mapping/"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/staging/pr-2756/docs/developer/developer-broker-mapping/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-broker-mapping/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/staging/pr-2756/docs/developer/developer-broker-mapping/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://3WEC6XPLDB-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-8418698-13","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BGL69N5GPJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BGL69N5GPJ",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Centreon Documentation" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/opensearch.xml"><link rel="stylesheet" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/assets/css/styles.5b1707c7.css">
<link rel="preload" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/assets/js/runtime~main.23100e02.js" as="script">
<link rel="preload" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/assets/js/main.42ea2a6f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/"><div class="navbar__logo"><img src="/centreon-documentation/pr-preview/staging/pr-2756/fr/img/logo_centreon_dark.png" alt="Logo Centreon Docs" class="themedImage_ToTc themedImage--light_HNdA"><img src="/centreon-documentation/pr-preview/staging/pr-2756/fr/img/logo_centreon.png" alt="Logo Centreon Docs" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/getting-started/welcome/">Centreon OnPrem</a><a class="navbar__item navbar__link" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/pp/integrations/plugin-packs/getting-started/introduction/">Connecteurs de supervision</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Chercher"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Chercher</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/getting-started/welcome/">⭐ 23.10</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-broker-mapping/">⭐ 23.10</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-archived-versions"><b>Versions archivées</b></li><li><a href="https://archives-docs.centreon.com/21.04/" target="_blank" rel="noopener noreferrer" class="dropdown__link">21.04<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://archives-docs.centreon.com/20.10/" target="_blank" rel="noopener noreferrer" class="dropdown__link">20.10<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://archives-docs.centreon.com/20.04/" target="_blank" rel="noopener noreferrer" class="dropdown__link">20.04<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://docs-older.centreon.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">Older<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>🇫🇷 Français</a><ul class="dropdown__menu"><li><a href="/centreon-documentation/pr-preview/staging/pr-2756/docs/developer/developer-broker-mapping/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">🇬🇧 English</a></li><li><a href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-broker-mapping/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">🇫🇷 Français</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Revenez en haut" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/getting-started/welcome/">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/installation/introduction/">Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/administration/secure-platform/">Sécuriser la plateforme</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/monitoring/about/">Superviser des ressources</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/alerts-notifications/concepts/">Gérer évènements et alertes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/monitoring/basic-objects/contacts/">Gérer les utilisateurs de Centreon</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/metrology/chart-management/">Graphiques de performance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/service-mapping/introduction/">Service Mapping</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/category/graphical-views/">Vues graphiques</a><button aria-label="Toggle the collapsible sidebar category &#x27;Vues graphiques&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/reporting/introduction/">Reporting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/administration/parameters/centreon-ui/">Administrer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/update/update-centreon-platform/">Mettre à jour, monter de version et migrer</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/pp/integrations/plugin-packs/getting-started/introduction/">Connecteurs de supervision</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/integrations/introduction-integrations/">Intégrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/mobile/introduction/">Centreon mobile</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/category/developer-resources/">Ressources développeur</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ressources développeur&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-module/">Comment écrire un module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-stream-connector/">Comment écrire un Stream Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-broker-stream-connector-migration/">Migration des Stream Connectors vers BBDO 3.0.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-translate-centreon/">Comment traduire Centreon</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-widget/">Comment écrire un widget</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-broker-stream-connector/">Centreon Broker</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-broker-stream-connector/">Stream Connectors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-broker-bbdo/">Le protocole BBDO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-broker-mapping/">Mapping d’évènements Centreon Broker</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-gorgone-client-server-communication/">Centreon Gorgone</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/api/introduction/">API</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/installation/installation-of-centreon-ha/overview/">Centreon HA</a><button aria-label="Toggle the collapsible sidebar category &#x27;Centreon HA&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/health/centreon-agent/">Superviser la plateforme</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/releases/introduction/">Releases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/security/">Sécurité</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/resources/known-issues/">Ressources</a></div></li></ul></nav><button type="button" title="Réduire le menu latéral" aria-label="Réduire le menu latéral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><header><h1>Mapping d’évènements Centreon Broker</h1></header><p>Centreon Broker utilise des tables de correspondance globales pour les évènements qui peuvent être échangés. Cette page répertorie les propriétés disponibles pour chaque type d’évènement.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="neb">NEB<a href="#neb" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="acknowledgement">Acknowledgement<a href="#acknowledgement" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Lorsqu&#x27;un incident est acquitté, cela signifie que le problème a été pris en compte par un utilisateur de la supervision. Quand l&#x27;utilisateur acquitte le problème, Centreon Engine émet un évènement <strong>acknowledgement</strong>. Cet évènement est différent en BBDO v2 et en BBDO v3.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebacknowledgement">NEB::Acknowledgement<a href="#nebacknowledgement" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>65537</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>acknowledgement<!-- -->_<!-- -->type</td><td>entier court</td><td>Acquittement de l’hôte quand 0, acquittement du service quand 1.</td></tr><tr><td>author</td><td>chaîne</td><td>Auteur de l’acquittement.</td></tr><tr><td>comment</td><td>chaîne</td><td>Commentaire associé à l’acquittement.</td></tr><tr><td>deletion<!-- -->_<!-- -->time</td><td>temps</td><td>Heure à laquelle l’acquittement a été supprimé. Si 0, il n’a pas été supprimé.</td></tr><tr><td>entry<!-- -->_<!-- -->time</td><td>temps</td><td>Heure à laquelle l’acquittement a été créé.</td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’hôte.</td></tr><tr><td>instance<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’instance.</td></tr><tr><td>is<!-- -->_<!-- -->sticky</td><td>booléen</td><td>Indicateur &quot;Persistant (non-OK)&quot;.</td></tr><tr><td>notify<!-- -->_<!-- -->contacts</td><td>booléen</td><td>Indicateur de notification.</td></tr><tr><td>persistent<!-- -->_<!-- -->comment</td><td>booléen</td><td>True si le commentaire est persistant.</td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de service. 0 pour un acquittement de l’hôte.</td></tr><tr><td>state</td><td>entier court</td><td>État de l’hôte / du service.</td></tr><tr><td>notify<!-- -->_<!-- -->only<!-- -->_<!-- -->if<!-- -->_<!-- -->not<!-- -->_<!-- -->already<!-- -->_<!-- -->acknowledged</td><td>booléen</td><td>Une notification ne doit être envoyée qu’en cas de non acquittement.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbacknowledgement">NEB::PbAcknowledgement<a href="#nebpbacknowledgement" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>45</td><td>65581</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::Acknowledgement</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbAcknowledgement</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message Acknowledgement </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service, ou 0 pour un acquittement d&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 instance_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;instance.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">ResourceType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HOST </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SERVICE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ResourceType type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Type de la ressource.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string author </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Auteur de l&#x27;acquittement</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string comment_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Commentaire associé à  l&#x27;acquittement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> sticky </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Indicateur &quot;Persistant&quot;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify_contacts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Indicateur de notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 entry_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Heure à laquelle l&#x27;acquittement a été créé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 deletion_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Heure à laquelle l&#x27;acquittement a été supprimé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> persistent_comment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// True si le commentaire est persistant.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// L&#x27;état de l&#x27;hôte/du service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="comment">Comment<a href="#comment" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Dans certaines situations, l&#x27;utilisateur doit saisir un commentaire dans l&#x27;interface Centreon. Quand le commentaire est validé, Centreon Engine émet un évènement <strong>comment</strong>. Cet évènement est différent en BBDO v2 et en BBDO v3.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebcomment">NEB::Comment<a href="#nebcomment" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>2</td><td>65538</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>author</td><td>chaîne</td><td>Auteur du commentaire.</td></tr><tr><td>comment<!-- -->_<!-- -->type</td><td>entier court</td><td>1 pour un commentaire pour un hôte, 2 pour un commentaire pour un service.</td></tr><tr><td>data</td><td>chaîne</td><td>Données du commentaire (texte).</td></tr><tr><td>deletion<!-- -->_<!-- -->time</td><td>temps</td><td>Heure à laquelle le commentaire a été supprimé. 0 si le commentaire n’a pas (encore) été supprimé.</td></tr><tr><td>entry<!-- -->_<!-- -->time</td><td>temps</td><td>Heure à laquelle le commentaire a été créé.</td></tr><tr><td>entry<!-- -->_<!-- -->type</td><td>entier court</td><td>1 pour un commentaire de l’utilisateur (par commande externe), 2 pour un commentaire d’arrêt, 3 pour un commentaire de bagotement et 4 pour un commentaire d’acquittement.</td></tr><tr><td>expire<!-- -->_<!-- -->time</td><td>temps</td><td>Délai d’expiration des commentaires. 0 si aucun délai d’expiration.</td></tr><tr><td>expires</td><td>bool</td><td>True si le commentaire expire.</td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’hôte.</td></tr><tr><td>internal<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID du moteur de supervision interne du commentaire.</td></tr><tr><td>persistent</td><td>booléen</td><td>True si le commentaire est persistant.</td></tr><tr><td>instance<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’instance.</td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de service. 0 si c’est un commentaire de l’hôte.</td></tr><tr><td>source</td><td>entier court</td><td>0 lorsque le commentaire provient du moteur de supervision (interne) ou 1 lorsque le commentaire provient d’une autre source (externe).</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbcomment">NEB::PbComment<a href="#nebpbcomment" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>35</td><td>65571</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::Comment</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbComment</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message BBDOHeader </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 conf_version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Un nombre interne, non utilisé actuellement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message Comment </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  BBDOHeader header </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// Non utilisé actuellement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">Src</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    INTERNAL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Le commentaire provient du moteur de supervision.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EXTERNAL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Le commentaire provient d&#x27;une autre source.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">Type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NO_TYPE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HOST </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SERVICE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">EntryType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NO_ENTRY_TYPE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    USER </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DOWNTIME </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FLAPPING </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ACKNOWLEDGMENT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string author </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Auteur du commentaire.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Type type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Type du commentaire, suivant l&#x27;enum Type.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Le contenu du commentaire.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 deletion_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Heure à laquelle le commentaire a été supprimé, ou 0 si le commentaire n&#x27;a pas (encore) été supprimé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 entry_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// Heure à laquelle le commentaire a été créé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  EntryType entry_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Type d&#x27;entrée, suivant l&#x27;enum EntryType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 expire_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Heure d&#x27;expiration du commentaire, ou 0 si le commentaire n&#x27;a pas d&#x27;heure d&#x27;expiration.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> expires </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// True si le commentaire a expiré.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 internal_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// ID interne du moteur de supervision pour le commentaire.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> persistent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// True si le commentaire est persistant.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 instance_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;instance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service, ou 0 pour un commentaire sur un hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Src source </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Source du commentaire, suivant l&#x27;enum Src.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-variable">Custom variable<a href="#custom-variable" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Une variable personnalisée consiste en une variable ayant un nom et une valeur. Elle provient souvent de macros Centreon Engine.
Pour que Centreon fonctionne correctement, ces variables personnalisées doivent être envoyées à Centreon Broker. Elles sont envoyées via un évènement <strong>custom variable</strong>. Cet évènement est différent en BBDO v2 et en BBDO v3.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebcustomvariable">NEB::CustomVariable<a href="#nebcustomvariable" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>3</td><td>65539</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>enabled</td><td>booléen</td><td>True si la variable personnalisée est activée.</td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’hôte.</td></tr><tr><td>modified</td><td>booléen</td><td>True si la variable a été modifiée.</td></tr><tr><td>name</td><td>chaîne</td><td>Nom de la variable.</td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de service. 0 si c’est une variable d’hôte personnalisée.</td></tr><tr><td>update<!-- -->_<!-- -->time</td><td>temps</td><td>Dernière heure à laquelle la variable a été mise à jour.</td></tr><tr><td>var<!-- -->_<!-- -->type</td><td>entier court</td><td>0 pour une variable d’hôte personnalisée, 1 pour une variable de service personnalisée.</td></tr><tr><td>value</td><td>chaîne</td><td>Valeur variable.</td></tr><tr><td>default<!-- -->_<!-- -->value</td><td>chaîne</td><td>La valeur par défaut de la variable personnalisée.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbcustomvariable">NEB::PbCustomVariable<a href="#nebpbcustomvariable" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>37</td><td>65573</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::CustomVariable</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbCustomVariable</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message BBDOHeader </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 conf_version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Un nombre interne, non utilisé actuellement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message CustomVariable </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">VarType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HOST </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SERVICE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  BBDOHeader header </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// Non utilisé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service, ou 0 pour une variable personnalisée pour un hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> modified </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// True si la variable a été modifiée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de la variable.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 update_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Dernière heure à laquelle la variable a été mise à jour.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur de la variable.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string default_value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// La valeur par défaut de la variable personnalisée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// True si la variable personnalisée est activée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// True si la valeur doit être masquée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  VarType type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Une des valeurs de l&#x27;enum VarType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-variable-status">Custom variable status<a href="#custom-variable-status" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Les évènements <strong>Custom variable status</strong> sont générés lorsqu’une variable personnalisée doit être mise à jour.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebcustomvariablestatus">NEB::CustomVariableStatus<a href="#nebcustomvariablestatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>4</td><td>65540</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’hôte.</td></tr><tr><td>modified</td><td>booléen</td><td>True si la variable a été modifiée.</td></tr><tr><td>name</td><td>chaîne</td><td>Nom de la variable.</td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de service. 0 si c’est une variable d’hôte personnalisée.</td></tr><tr><td>update<!-- -->_<!-- -->time</td><td>temps</td><td>Dernière heure à laquelle la variable a été mise à jour.</td></tr><tr><td>value</td><td>chaîne</td><td>Valeur variable.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbcustomvariablestatus">NEB::PbCustomVariableStatus<a href="#nebpbcustomvariablestatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>38</td><td>65574</td></tr></tbody></table><p>Le message Protobuf pour <strong>PbCustomVariableStatus</strong> est le même que celui pour <strong>PbCustomVariable</strong>,
excepté que certains des champs peuvent ne pas être renseignés.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message BBDOHeader </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 conf_version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Un nombre interne, non utilisé actuellement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message CustomVariable </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">VarType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HOST </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SERVICE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  BBDOHeader header </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// Non utilisé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service, ou 0 pour une variable personnalisée pour un hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> modified </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// True si la variable a été modifiée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de la variable.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 update_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Dernière heure à laquelle la variable a été mise à jour.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur de la variable.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string default_value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// La valeur par défaut de la variable personnalisée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// True si la variable personnalisée est activée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// True si la valeur doit être masquée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  VarType type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Une des valeurs de l&#x27;enum VarType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="downtime">Downtime<a href="#downtime" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est émis par Centreon Engine lorsqu&#x27;une plage de maintenance est définie sur une ressource.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebdowntime">NEB::Downtime<a href="#nebdowntime" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>5</td><td>65541</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>actual<!-- -->_<!-- -->end<!-- -->_<!-- -->time</td><td>temps</td><td>Heure réelle à laquelle le temps d’arrêt s’est terminé.</td></tr><tr><td>actual<!-- -->_<!-- -->start<!-- -->_<!-- -->time</td><td>temps</td><td>Heure réelle à laquelle le temps d’arrêt a commencé.</td></tr><tr><td>author</td><td>chaîne</td><td>Créateur du temps d’arrêt.</td></tr><tr><td>downtime<!-- -->_<!-- -->type</td><td>entier court</td><td>1 pour un arrêt de service, 2 pour un arrêt d’hôte.</td></tr><tr><td>deletion<!-- -->_<!-- -->time</td><td>temps</td><td>Heure à laquelle le temps d’arrêt a été supprimé.</td></tr><tr><td>duration</td><td>temps</td><td>Durée du temps d’arrêt.</td></tr><tr><td>end<!-- -->_<!-- -->time</td><td>temps</td><td>Heure de fin du temps d’arrêt programmé.</td></tr><tr><td>entry<!-- -->_<!-- -->time</td><td>temps</td><td>Heure à laquelle le temps d’arrêt a été créé.</td></tr><tr><td>fixed</td><td>booléen</td><td>True si le temps d’arrêt est fixe, False s’il est flexible.</td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’hôte.</td></tr><tr><td>instance<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’instance.</td></tr><tr><td>internal<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID du moteur de supervision interne.</td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de service. 0 s’il s’agit d’un arrêt de l’hôte.</td></tr><tr><td>start<!-- -->_<!-- -->time</td><td>temps</td><td>Heure de début de l’arrêt programmé.</td></tr><tr><td>triggered<!-- -->_<!-- -->by</td><td>entier non signé</td><td>ID interne du temps d’arrêt qui a déclenché ce temps d’arrêt.</td></tr><tr><td>was<!-- -->_<!-- -->cancelled</td><td>booléen</td><td>True si le temps d’arrêt a été annulé.</td></tr><tr><td>was<!-- -->_<!-- -->started</td><td>booléen</td><td>True si le temps d’arrêt a été démarré.</td></tr><tr><td>comment</td><td>chaîne</td><td>Commentaire sur le temps d’arrêt.</td></tr><tr><td>is<!-- -->_<!-- -->recurring</td><td>booléen</td><td>True si ce temps d’arrêt est récurrent.</td></tr><tr><td>recurring<!-- -->_<!-- -->tp</td><td>chaîne</td><td>La période de temps récurrente du temps d’arrêt récurrent.</td></tr><tr><td>come<!-- -->_<!-- -->from</td><td>court</td><td>Id du temps d’arrêt récurrent parent pour les temps d’arrêt engendrés.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbdowntime">NEB::PbDowntime<a href="#nebpbdowntime" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>36</td><td>65572</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::Downtime</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbDowntime</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message Downtime </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">DowntimeType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NOT_USED </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SERVICE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// La plage de maintenance est positionnée sur un service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HOST </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// La plage de maintenance est positionnée sur un hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ANY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur gardée pour des raisons de rétrocompatibilité (non utilisée).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// ID interne au moteur de supervision.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 instance_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;instance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service, ou 0 s&#x27;il s&#x27;agit d&#x27;une plage de maintenance sur un hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string author </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Utilisateur ayant défini la place de maintenance.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string comment_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Commentaire associé à la plage de maintenance.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  DowntimeType type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Une valeur de la précédente énumération.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 duration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Durée de la plage de maintenance.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 triggered_by </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// ID interne de la plage de maintenance ayant déclenché cette plage de maintenance.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 entry_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Heure à  laquelle la plage de maintenance a été créée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 actual_start_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Heure à laquelle la plage de maintenance a réellement démarré.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 actual_end_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Heure à laquelle la plage de maintenance a réellement terminé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 start_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Heure de départ programmée de la plage de maintenance.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 deletion_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Heure à laquelle la plage de maintenance a été supprimée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 end_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Heure de fin programmée de la plage de maintenance.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> started </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// True si la plage de maintenance a démarré.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> cancelled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// True si la plage de maintenance a été annulée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> fixed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// True si la plage de maintenance est fixe, false si elle est flexible.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-handler">Event handler<a href="#event-handler" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Les <strong>Event handlers</strong> sont des commandes système optionnelles (scripts ou exécutables) qui sont exécutées lorsqu&#x27;un changment de statut se produit pour une ressource. Lorsqu&#x27;une commande de ce type est configurée, un évènement <strong>event handler</strong> est émis par Centreon Engine. Ces évènements BBDO sont généralement envoyés lorsque Centreon Engine est redémarré ou rechargé.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebeventhandler">NEB::EventHandler<a href="#nebeventhandler" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>6</td><td>65542</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>early<!-- -->_<!-- -->timeout</td><td>booléen</td><td>True si le gestionnaire d’évènements a été interrompu.</td></tr><tr><td>end<!-- -->_<!-- -->time</td><td>temps</td><td>Heure à laquelle l’exécution du gestionnaire d’évènements s’est terminée.</td></tr><tr><td>execution<!-- -->_<!-- -->time</td><td>réel</td><td>Temps d’exécution en secondes.</td></tr><tr><td>handler<!-- -->_<!-- -->type</td><td>entier court</td><td>0 pour le gestionnaire d’évènements spécifiques à l’hôte, 1 pour le gestionnaire d’évènements spécifiques au service, 2 pour le gestionnaire d’évènements global pour les hôtes et 3 pour le gestionnaire d’évènements global pour les services.</td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’hôte.</td></tr><tr><td>return<!-- -->_<!-- -->code</td><td>entier court</td><td>Valeur renvoyée par le gestionnaire d’évènements.</td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de service. 0 si c’est un gestionnaire d’évènements d’hôte.</td></tr><tr><td>start<!-- -->_<!-- -->time</td><td>temps</td><td>Heure à laquelle le gestionnaire d’évènements a démarré.</td></tr><tr><td>state</td><td>entier court</td><td>État de l’hôte / du service.</td></tr><tr><td>state<!-- -->_<!-- -->type</td><td>entier court</td><td>0 pour SOFT, 1 pour HARD.</td></tr><tr><td>timeout</td><td>entier court</td><td>Délai d’attente du gestionnaire d’évènements en secondes.</td></tr><tr><td>command<!-- -->_<!-- -->args</td><td>chaîne</td><td>Arguments du gestionnaire d’évènements.</td></tr><tr><td>command<!-- -->_<!-- -->line</td><td>chaîne</td><td>Ligne de commande du gestionnaire d’évènements.</td></tr><tr><td>output</td><td>chaîne</td><td>Output retourné par le gestionnaire d’évènements.</td></tr><tr><td>source<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’id de l’instance source de cet évènement.</td></tr><tr><td>destination<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’id de l’instance de destination de cet évènement.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Cet évènement est le même qu&#x27;en BBDO v2. Il n&#x27;existe pas d&#x27;évènement Protobuf.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="flapping-status">Flapping status<a href="#flapping-status" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Lorsque le statut d&#x27;une ressource est instable, Centreon Engine le marque comme en bagotage (<strong>flapping</strong>). Historiquement, un évènement <strong>flapping status</strong> était émis dans ces cas-là. Cela n&#x27;est plus d&#x27;actualité. L&#x27;évènement <strong>flapping status</strong> n&#x27;existe plus.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tag">Tag<a href="#tag" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>L&#x27;évènement <strong>tag</strong> est un nouvel évènement de configuration, actuellement utilisé pour les catégories et les groupes.</p><p>En ce moment il est utilisé (entre autres) en parallèle avec les évènements <strong>group</strong>, mais devrait devenir plus global dans le futur.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>L&#x27;évènement <strong>tag</strong> n&#x27;existe pas en BBDO v2.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbtag">NEB::PbTag<a href="#nebpbtag" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>34</td><td>65570</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3.  Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::Tag</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbTag</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">TagType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SERVICEGROUP </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Tag représentant un groupe de services</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  HOSTGROUP </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Tag représentant un groupe d&#x27;hôtes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SERVICECATEGORY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Tag représentant une catégorie de services</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  HOSTCATEGORY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Tag représentant une catégorie d&#x27;hôtes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message Tag </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// ID du tag (l&#x27;unicité est obtenue en l&#x27;associant au type)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">Action</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ADD </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Par cette action, l&#x27;évènement crée un nouveau tag.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DELETE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Par cette action, l&#x27;évènement supprime un tag.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MODIFY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Par cette action, l&#x27;évènement modifie un tag.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Action action </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// L&#x27;action courante pour cet évènement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TagType type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Le type du tag.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Nom du tag.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 poller_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ID du collecteur.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="host">Host<a href="#host" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est émis chaque fois que la configuration d&#x27;un hôte est modifiée et la configuration déployée.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebhost">NEB::Host<a href="#nebhost" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>12</td><td>65548</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>acknowledged</td><td>booléen</td><td></td><td></td></tr><tr><td>acknowledgement<!-- -->_<!-- -->type</td><td>entier court</td><td></td><td></td></tr><tr><td>action<!-- -->_<!-- -->url</td><td>chaîne</td><td></td><td></td></tr><tr><td>active<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>address</td><td>chaîne</td><td></td><td></td></tr><tr><td>alias</td><td>chaîne</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->freshness</td><td>booléen</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->interval</td><td>réel</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->period</td><td>chaîne</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->type</td><td>entier court</td><td></td><td></td></tr><tr><td>current<!-- -->_<!-- -->check<!-- -->_<!-- -->attempt</td><td>entier court</td><td></td><td></td></tr><tr><td>current<!-- -->_<!-- -->state</td><td>entier court</td><td></td><td></td></tr><tr><td>default<!-- -->_<!-- -->active<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>default<!-- -->_<!-- -->event<!-- -->_<!-- -->handler<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>default<!-- -->_<!-- -->flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>default<!-- -->_<!-- -->notifications<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>default<!-- -->_<!-- -->passive<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>downtime<!-- -->_<!-- -->depth</td><td>entier court</td><td></td><td></td></tr><tr><td>display<!-- -->_<!-- -->name</td><td>chaîne</td><td></td><td></td></tr><tr><td>enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>event<!-- -->_<!-- -->handler</td><td>chaîne</td><td></td><td></td></tr><tr><td>event<!-- -->_<!-- -->handler<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>execution<!-- -->_<!-- -->time</td><td>réel</td><td></td><td></td></tr><tr><td>first<!-- -->_<!-- -->notification<!-- -->_<!-- -->delay</td><td>réel</td><td></td><td></td></tr><tr><td>flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->on<!-- -->_<!-- -->down</td><td>booléen</td><td></td><td></td></tr><tr><td>flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->on<!-- -->_<!-- -->unreachable</td><td>booléen</td><td></td><td></td></tr><tr><td>flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->on<!-- -->_<!-- -->up</td><td>booléen</td><td></td><td></td></tr><tr><td>freshness<!-- -->_<!-- -->threshold</td><td>réel</td><td></td><td></td></tr><tr><td>has<!-- -->_<!-- -->been<!-- -->_<!-- -->checked</td><td>booléen</td><td></td><td></td></tr><tr><td>high<!-- -->_<!-- -->flap<!-- -->_<!-- -->threshold</td><td>réel</td><td></td><td></td></tr><tr><td>host<!-- -->_<!-- -->name</td><td>chaîne</td><td></td><td></td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>icon<!-- -->_<!-- -->image</td><td>chaîne</td><td></td><td></td></tr><tr><td>icon<!-- -->_<!-- -->image<!-- -->_<!-- -->alt</td><td>chaîne</td><td></td><td></td></tr><tr><td>instance<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>is<!-- -->_<!-- -->flapping</td><td>booléen</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->check</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->hard<!-- -->_<!-- -->state</td><td>entier court</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->hard<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->notification</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->down</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->unreachable</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->up</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->update</td><td>temps</td><td></td><td></td></tr><tr><td>latency</td><td>réel</td><td></td><td></td></tr><tr><td>low<!-- -->_<!-- -->flap<!-- -->_<!-- -->threshold</td><td>réel</td><td></td><td></td></tr><tr><td>max<!-- -->_<!-- -->check<!-- -->_<!-- -->attempts</td><td>entier court</td><td></td><td></td></tr><tr><td>next<!-- -->_<!-- -->check</td><td>temps</td><td></td><td></td></tr><tr><td>next<!-- -->_<!-- -->notification</td><td>temps</td><td></td><td></td></tr><tr><td>no<!-- -->_<!-- -->more<!-- -->_<!-- -->notifications</td><td>booléen</td><td></td><td></td></tr><tr><td>notes</td><td>chaîne</td><td></td><td></td></tr><tr><td>notes<!-- -->_<!-- -->url</td><td>chaîne</td><td></td><td></td></tr><tr><td>notification<!-- -->_<!-- -->interval</td><td>réel</td><td></td><td></td></tr><tr><td>notification<!-- -->_<!-- -->number</td><td>entier court</td><td></td><td></td></tr><tr><td>notification<!-- -->_<!-- -->period</td><td>chaîne</td><td></td><td></td></tr><tr><td>notifications<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>notify<!-- -->_<!-- -->on<!-- -->_<!-- -->down</td><td>booléen</td><td></td><td></td></tr><tr><td>notify<!-- -->_<!-- -->on<!-- -->_<!-- -->downtime</td><td>booléen</td><td></td><td></td></tr><tr><td>notify<!-- -->_<!-- -->on<!-- -->_<!-- -->flapping</td><td>booléen</td><td></td><td></td></tr><tr><td>notify<!-- -->_<!-- -->on<!-- -->_<!-- -->recovery</td><td>booléen</td><td></td><td></td></tr><tr><td>notify<!-- -->_<!-- -->on<!-- -->_<!-- -->unreachable</td><td>booléen</td><td></td><td></td></tr><tr><td>obsess<!-- -->_<!-- -->over</td><td>booléen</td><td></td><td></td></tr><tr><td>passive<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>percent<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>réel</td><td></td><td></td></tr><tr><td>retry<!-- -->_<!-- -->interval</td><td>réel</td><td></td><td></td></tr><tr><td>should<!-- -->_<!-- -->be<!-- -->_<!-- -->scheduled</td><td>booléen</td><td></td><td></td></tr><tr><td>stalk<!-- -->_<!-- -->on<!-- -->_<!-- -->down</td><td>booléen</td><td></td><td></td></tr><tr><td>stalk<!-- -->_<!-- -->on<!-- -->_<!-- -->unreachable</td><td>booléen</td><td></td><td></td></tr><tr><td>stalk<!-- -->_<!-- -->on<!-- -->_<!-- -->up</td><td>booléen</td><td></td><td></td></tr><tr><td>statusmap<!-- -->_<!-- -->image</td><td>chaîne</td><td></td><td></td></tr><tr><td>state<!-- -->_<!-- -->type</td><td>entier court</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->command</td><td>chaîne</td><td></td><td></td></tr><tr><td>output</td><td>chaîne</td><td></td><td></td></tr><tr><td>perf<!-- -->_<!-- -->data</td><td>chaîne</td><td></td><td></td></tr><tr><td>retain<!-- -->_<!-- -->nonstatus<!-- -->_<!-- -->information</td><td>booléen</td><td></td><td></td></tr><tr><td>retain<!-- -->_<!-- -->status<!-- -->_<!-- -->information</td><td>booléen</td><td></td><td></td></tr><tr><td>timezone</td><td>chaîne</td><td></td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbhost">NEB::PbHost<a href="#nebpbhost" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>30</td><td>65566</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::Host</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbHost</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">AckType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NONE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NORMAL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  STICKY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message TagInfo </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TagType type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message Host </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> acknowledged </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// True si l&#x27;alerte a été acquittée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AckType acknowledgement_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Type d&#x27;acquittement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> active_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// True si les contrôles actifs sont activés.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                       </span><span class="token comment" style="color:#999988;font-style:italic">// True si cet hôte est activé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 scheduled_downtime_depth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de plages de maintenance actives.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string check_command </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Commande de contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 check_interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Intervalle en unités (en général 60s) entre 2 contrôles.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string check_period </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Période de temps durant laquelle les contrôles sont autorisés</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">CheckType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ACTIVE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PASSIVE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CheckType check_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Type du dernier contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 check_attempt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de contrôles non OK.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">State</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UP </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DOWN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UNREACHABLE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  State state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                       </span><span class="token comment" style="color:#999988;font-style:italic">// État courant.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> event_handler_enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// True si un event handler est configuré sur cet hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string event_handler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Commande exécutée quand l&#x27;état change.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> execution_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Durée du dernier contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flap_detection </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// True si la détection du bagotement est activée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> checked </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// La ressource a été contrôlée au moins une fois.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flapping </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// True si l&#x27;hôte est en bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_check </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  State last_hard_state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Dernier état hard.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_hard_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">21</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier passage à l&#x27;état hard.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_notification </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de la dernière notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 notification_number </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Numéro de la notification courante, ou 0 en l&#x27;absence de notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier changement d&#x27;état.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_down </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier contrôle non OK.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_unreachable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">26</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier contrôle non OK avec tous les hôtes parents au statut non OK.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_up </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier contôle OK.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_update </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">28</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier message créé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> latency </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">29</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// Délai entre l&#x27;heure programmée d&#x27;un contrôle et celle de son exécution.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 max_check_attempts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de contrôles non OK après lesquels l&#x27;hôte rentre dans un état non OK hard.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 next_check </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">31</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du prochain contrôle programmé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 next_host_notification </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de la prochaine renotification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> no_more_notifications </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">33</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Si true, aucune autre notification ne sera envoyée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">34</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                       </span><span class="token comment" style="color:#999988;font-style:italic">// Notifications autorisées</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string output </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">35</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// Output de la commande de contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> passive_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">36</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Les contrôles passsifs sont activés.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> percent_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">37</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Utilisé par le bagotement, et comparé aux seuils hauts et bas de bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string perfdata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">38</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Données de performance extraites de l&#x27;output de la commande.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> retry_interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">39</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Interval entre deux contrôles quand l&#x27;hôte n&#x27;est pas dans un statut disponible et que le type de l&#x27;état est soft.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> should_be_scheduled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">40</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// True si le prochain contrôle devrait être programmé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> obsess_over_host </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">41</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// True si une commande OCSP est exécutée après un contôle ou une commande de notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">StateType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SOFT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                             </span><span class="token comment" style="color:#999988;font-style:italic">// État pas encore confirmé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HARD </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                             </span><span class="token comment" style="color:#999988;font-style:italic">// État confirmé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  StateType state_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Type d&#x27;état.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string action_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">43</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// URL optionnelle disponible dans l&#x27;interface, associée à cet hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string address </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">44</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// Adresse</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string alias </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">45</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// Alias de cet hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> check_freshness </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">46</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Contrôle de fraîcheur passif activé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> default_active_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">47</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Identique à active_checks, mais valeur par défaut.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> default_event_handler_enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">48</span><span class="token punctuation" style="color:#393A34">;</span><span class="token comment" style="color:#999988;font-style:italic">// Identique à event_handler, mais valeur par défaut.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> default_flap_detection </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">49</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Identique à flap_detection, mais valeur par défaut.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> default_notify </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Identique à notify, mais valeur par défaut.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> default_passive_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">51</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Identique à passive checks, mais valeur par défaut.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string display_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">52</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Nom affiché dans l&#x27;interface</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> first_notification_delay </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">53</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Délai entre deux notifications, en unités (généralement 60s).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flap_detection_on_down </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">54</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Le statut indsponible est pris en compte pour la détection du bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flap_detection_on_unreachable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">55</span><span class="token punctuation" style="color:#393A34">;</span><span class="token comment" style="color:#999988;font-style:italic">// Le statut injoignable est pris en compte pour la détection du bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flap_detection_on_up </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">56</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Le statut OK est pris en compte pour la détection du bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> freshness_threshold </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">57</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Délai après lequel le résultat du contrôle n&#x27;est plus considéré comme frais.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> high_flap_threshold </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">58</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Si le pourcentage de changement de statut dépasse ce seuil, l&#x27;hôte est considéré en bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">59</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                       </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string icon_image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Icône affichée dans l&#x27;interface pour cet hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string icon_image_alt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">61</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Text alternatif pour icon_image.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 instance_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">62</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;instance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> low_flap_threshold </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">63</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Si le pourcentage de changement de statut est plus bas que ce seuil, l&#x27;hôte n&#x27;est pas considéré en bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string notes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">64</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// Infobulle dans la page Statut des Ressources.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string notes_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">65</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// URL cliquable dans la page Statut des Ressources.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> notification_interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">66</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Intervalle entre deux notifications.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string notification_period </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">67</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Période de temps pendant laquelle les notifications sont autorisées.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify_on_down </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">68</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Les utilisateurs sont notifiés si l&#x27;hôte devient indisponible.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify_on_downtime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">69</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Les utilisateurs sont notifiés si l&#x27;hôte entre en plage de maintenance.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify_on_flapping </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">70</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Les utilisateurs sont notifiés si l&#x27;hôte est en bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify_on_recovery </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">71</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Les utilisateurs sont notifiés si l&#x27;hôte devient disponible.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify_on_unreachable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">72</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Les utilisateurs sont notifiés si l&#x27;hôte devient injoignable.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> stalk_on_down </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">73</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Inscrit dans le log le changement d&#x27;output si le statut passe à indisponible.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> stalk_on_unreachable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">74</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Inscrit dans le log le changement d&#x27;output si le statut passe à injoignable.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> stalk_on_up </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">75</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// Inscrit dans le log le changement d&#x27;output si le statut passe à disponible.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string statusmap_image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">76</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Image affichée sur une carte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> retain_nonstatus_information </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">77</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Non utilisé</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> retain_status_information </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">78</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Non utilisé</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string timezone </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">79</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Fuseau horaire de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 severity_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la sévérité.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  repeated TagInfo tags </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">81</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Tags associés à cet hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 icon_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">82</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;icône.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="host-check">Host check<a href="#host-check" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Ce type d&#x27;évènement est émis par Centreon Engine lorsqu&#x27;un contrôle est exécuté sur un hôte.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebhostcheck">NEB::HostCheck<a href="#nebhostcheck" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>8</td><td>65544</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>active<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td>True si les contrôles actifs sont activés sur l’hôte.</td><td></td></tr><tr><td>check<!-- -->_<!-- -->type</td><td>entier court</td><td></td><td></td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’hôte.</td><td></td></tr><tr><td>next<!-- -->_<!-- -->check</td><td>temps</td><td>Heure à laquelle le prochain contrôle est prévu.</td><td></td></tr><tr><td>command<!-- -->_<!-- -->line</td><td>chaîne</td><td>Ligne de commande du contrôle.</td><td></td></tr><tr><td>source<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de l’instance source de cet évènement.</td><td></td></tr><tr><td>destination<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de l’instance de destination de cet évènement.</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbhostcheck">NEB::PbHostCheck<a href="#nebpbhostcheck" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>39</td><td>65575</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::HostCheck</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbHostCheck</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message BBDOHeader </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 conf_version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Un nombre interne, non utilisé actuellement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">CheckType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CheckActive </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CheckPassive </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message Check </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BBDOHeader header </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> active_checks_enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// True si les contôle actifs sont activés sur l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CheckType check_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// L&#x27;une des valeurs de CheckType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string command_line </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Ligne de commande de contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64 next_check </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du prochain contrôle programmé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service, ou 0 pour un contrôle sur un hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="host-dependency">Host dependency<a href="#host-dependency" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est émis lorsqu&#x27;une dépendance entre hôtes est définie, et que la configuration est déployée.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebhostdependency">NEB::HostDependency<a href="#nebhostdependency" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>9</td><td>65545</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>dependency<!-- -->_<!-- -->period</td><td>chaîne</td><td></td><td></td></tr><tr><td>dependent<!-- -->_<!-- -->host<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>execution<!-- -->_<!-- -->failure<!-- -->_<!-- -->options</td><td>chaîne</td><td></td><td></td></tr><tr><td>inherits<!-- -->_<!-- -->parent</td><td>booléen</td><td></td><td></td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>notification<!-- -->_<!-- -->failure<!-- -->_<!-- -->options</td><td>chaîne</td><td></td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Cet évènement est le même qu&#x27;en BBDO v2. Il n&#x27;existe pas d&#x27;évènement Protobuf.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="host-group">Host group<a href="#host-group" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est émis lorsqu&#x27;un groupe d&#x27;hôtes est créé.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebhostgroup">NEB::HostGroup<a href="#nebhostgroup" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>10</td><td>65546</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>host<!-- -->_<!-- -->group<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>name</td><td>chaîne</td><td>Nom du groupe.</td><td></td></tr><tr><td>enabled</td><td>booléen</td><td>True si le groupe est activé, False s’il ne l’est pas (suppression).</td><td></td></tr><tr><td>poller<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Cet évènement est le même qu&#x27;en BBDO v2. Il n&#x27;existe pas d&#x27;évènement Protobuf.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="host-group-member">Host group member<a href="#host-group-member" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Ceci est un évènement de configuration. Il est envoyé juste après un évènement <strong>hostgroup</strong> afin de détailler les membres du groupe à configurer. En BBDO v3, la version BBDO v2 de cet évènement est toujours utilisée.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebhostgroupmember">NEB::HostGroupMember<a href="#nebhostgroupmember" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>11</td><td>65547</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>enabled</td><td>booléen</td><td>True si l&#x27;hôte est membre du groupe, False s&#x27;il ne l’est pas (suppression).</td><td></td></tr><tr><td>group</td><td>chaîne</td><td>Nom du groupe.</td><td></td></tr><tr><td>instance<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’instance.</td><td></td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’hôte.</td><td></td></tr><tr><td>source<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de l’instance source de cet évènement.</td><td></td></tr><tr><td>destination<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de l’instance de destination de cet évènement.</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Cet évènement est le même qu&#x27;en BBDO v2. Il n&#x27;existe pas d&#x27;évènement Protobuf.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="host-parent">Host parent<a href="#host-parent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Ceci est un évènement de configuration envoyé lorsqu&#x27;un hôte parent est défini. En BBDO v3, la version BBDO v2 de cet évènement est toujours utilisée.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebhostparent">NEB::HostParent<a href="#nebhostparent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>13</td><td>65549</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>enabled</td><td>booléen</td><td>True si la fonction parent est activée, False si elle ne l’est pas (suppression).</td><td></td></tr><tr><td>child<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID d’hôte enfant.</td><td></td></tr><tr><td>parent<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID d’hôte parent.</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Cet évènement est le même qu&#x27;en BBDO v2. Il n&#x27;existe pas d&#x27;évènement Protobuf.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="host-status">Host status<a href="#host-status" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Ceci est un évènement émis par Centreon Engine lorsqu&#x27;une modification en temps réel est appliquée à un hôte (statut, output, métriques...).</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebhoststatus">NEB::HostStatus<a href="#nebhoststatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>14</td><td>65550</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>acknowledged</td><td>booléen</td><td></td><td></td></tr><tr><td>acknowledgement<!-- -->_<!-- -->type</td><td>entier court</td><td></td><td></td></tr><tr><td>active<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->interval</td><td>réel</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->period</td><td>chaîne</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->type</td><td>entier court</td><td></td><td></td></tr><tr><td>current<!-- -->_<!-- -->check<!-- -->_<!-- -->attempt</td><td>entier court</td><td></td><td></td></tr><tr><td>current<!-- -->_<!-- -->state</td><td>entier court</td><td></td><td></td></tr><tr><td>downtime<!-- -->_<!-- -->depth</td><td>entier court</td><td></td><td></td></tr><tr><td>enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>event<!-- -->_<!-- -->handler</td><td>chaîne</td><td></td><td></td></tr><tr><td>event<!-- -->_<!-- -->handler<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>execution<!-- -->_<!-- -->time</td><td>réel</td><td></td><td></td></tr><tr><td>flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>has<!-- -->_<!-- -->been<!-- -->_<!-- -->checked</td><td>booléen</td><td></td><td></td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>is<!-- -->_<!-- -->flapping</td><td>booléen</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->check</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->hard<!-- -->_<!-- -->state</td><td>entier court</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->hard<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->notification</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->down</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->unreachable</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->up</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->update</td><td>temps</td><td></td><td></td></tr><tr><td>latency</td><td>réel</td><td></td><td></td></tr><tr><td>max<!-- -->_<!-- -->check<!-- -->_<!-- -->attempts</td><td>entier court</td><td></td><td></td></tr><tr><td>next<!-- -->_<!-- -->check</td><td>temps</td><td></td><td></td></tr><tr><td>next<!-- -->_<!-- -->host<!-- -->_<!-- -->notification</td><td>temps</td><td></td><td></td></tr><tr><td>no<!-- -->_<!-- -->more<!-- -->_<!-- -->notifications</td><td>booléen</td><td></td><td></td></tr><tr><td>notification<!-- -->_<!-- -->number</td><td>entier court</td><td></td><td></td></tr><tr><td>notifications<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>obsess<!-- -->_<!-- -->over</td><td>booléen</td><td></td><td></td></tr><tr><td>passive<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>percent<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>réel</td><td></td><td></td></tr><tr><td>retry<!-- -->_<!-- -->interval</td><td>réel</td><td></td><td></td></tr><tr><td>should<!-- -->_<!-- -->be<!-- -->_<!-- -->scheduled</td><td>booléen</td><td></td><td></td></tr><tr><td>state<!-- -->_<!-- -->type</td><td>entier court</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->command</td><td>chaîne</td><td></td><td></td></tr><tr><td>output</td><td>chaîne</td><td></td><td></td></tr><tr><td>perf<!-- -->_<!-- -->data</td><td>chaîne</td><td></td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbhoststatus">NEB::PbHostStatus<a href="#nebpbhoststatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>32</td><td>65538</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::HostStatus</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbHostStatus</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">AckType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NONE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NORMAL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  STICKY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message HostStatus </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> checked </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// True si l&#x27;hôte est contrôlé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">CheckType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ACTIVE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PASSIVE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CheckType check_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Type du dernier contrôle (ACTIVE/PASSIVE).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">State</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UP </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DOWN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UNREACHABLE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  State state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// État courant de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">StateType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SOFT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HARD </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  StateType state_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// État confirmé ou non (HARD/SOFT).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier changement d&#x27;état.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  State last_hard_state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Dernier état hard.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_hard_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier état hard.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_up </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier statut disponible.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_down </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier statut indisponible.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_unreachable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier statut injoignable.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string output </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Output du contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string long_output </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Output long du contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string perfdata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Données de performance.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flapping </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// True si l&#x27;hôte est en bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> percent_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Utilisé par le bagotement, et comparé aux seuils hauts et bas de bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> latency </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Délai entre l&#x27;heure où le contrôle est programmé et celle où il est exécuté.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> execution_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Durée du dernier contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_check </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 next_check </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du moment ou le prochain contrpole est programmé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> should_be_scheduled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">21</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// True si le prochain contrôle devrait être programmé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 check_attempt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de contrôles non OK.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 notification_number </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de notifications envoyées depuis le début de l&#x27;alerte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> no_more_notifications </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Aucune autre notification ne sera envoyée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_notification </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de la dernière notification envoyée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 next_host_notification </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">26</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de la prochaine renotification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AckType acknowledgement_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Une valeur de l&#x27;énumération AckType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 scheduled_downtime_depth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">28</span><span class="token punctuation" style="color:#393A34">;</span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de plages de maintenance actives.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="instance">Instance<a href="#instance" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est émis par Centreon Engine lorsqu&#x27;Engine commence à envoyer sa configuration, ou bien lorqu&#x27;Engine s&#x27;arrête.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebinstance">NEB::Instance<a href="#nebinstance" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>15</td><td>65551</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>engine</td><td>chaîne</td><td>Nom du moteur de supervision utilisé sur cette instance.</td><td></td></tr><tr><td>id</td><td>entier non signé</td><td>ID de l’instance.</td><td></td></tr><tr><td>name</td><td>chaîne</td><td>Nom de l’instance.</td><td></td></tr><tr><td>is<!-- -->_<!-- -->running</td><td>booléen</td><td>Si cette instance est en cours d’exécution ou non.</td><td></td></tr><tr><td>pid</td><td>entier non signé</td><td>Supervision du PID du moteur.</td><td></td></tr><tr><td>program<!-- -->_<!-- -->end</td><td>temps</td><td>Heure à laquelle l’instance s’est arrêtée.</td><td></td></tr><tr><td>program<!-- -->_<!-- -->start</td><td>temps</td><td>Heure à laquelle l’instance a démarré.</td><td></td></tr><tr><td>version</td><td>chaîne</td><td>Version du moteur de supervision utilisé sur cette instance.</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbinstance">NEB::PbInstance<a href="#nebpbinstance" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>44</td><td>65580</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::Instance</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbInstance</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message BBDOHeader </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 conf_version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Un nombre interne, non utilisé actuellement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message Instance </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  BBDOHeader header </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string engine </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Nom du moteur de supervision utilisé sur cette instance.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> running </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Si l&#x27;instance fonctionne ou pas.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de l&#x27;instance.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 pid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// PID du moteur de supervision.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 instance_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;instance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 end_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp auquel l&#x27;instance s&#x27;éteint.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 start_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp auquel l&#x27;instance s&#x27;allume.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Version de l&#x27;émetteur de ce message.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="instance-status">Instance status<a href="#instance-status" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est émis régulièrement par Centreon Engine en tant que watchdog. Cet évènement informe Broker que le collecteur est toujours vivant (en même temps que diverses autres informations).</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebinstancestatus">NEB::InstanceStatus<a href="#nebinstancestatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>16</td><td>65552</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>active<!-- -->_<!-- -->host<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td>Si les contrôles d’hôtes actifs sont activés ou non de manière globale.</td><td></td></tr><tr><td>active<!-- -->_<!-- -->service<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td>Si les contrôles de services actifs sont activés ou non de manière globale.</td><td></td></tr><tr><td>check<!-- -->_<!-- -->hosts<!-- -->_<!-- -->freshness</td><td>booléen</td><td>Si le contrôle de la fraîcheur des hôtes est activé ou non de manière globale.</td><td></td></tr><tr><td>check<!-- -->_<!-- -->services<!-- -->_<!-- -->freshness</td><td>booléen</td><td>Si le contrôle de la fraîcheur des services est activé ou non de manière globale.</td><td></td></tr><tr><td>event<!-- -->_<!-- -->handler<!-- -->_<!-- -->enabled</td><td>booléen</td><td>Si les gestionnaires d’évènements sont activés ou non de manière globale.</td><td></td></tr><tr><td>flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->enabled</td><td>booléen</td><td>Si la détection des bagotements est activée ou non de manière globale.</td><td></td></tr><tr><td>id</td><td>entier non signé</td><td>ID de l’instance.</td><td></td></tr><tr><td>last<!-- -->_<!-- -->alive</td><td>temps</td><td>La dernière fois que l’instance a été identifiée comme étant vivante.</td><td></td></tr><tr><td>last<!-- -->_<!-- -->command<!-- -->_<!-- -->check</td><td>temps</td><td>Dernière fois qu’une commande de contrôle a été exécutée.</td><td></td></tr><tr><td>notifications<!-- -->_<!-- -->enabled</td><td>booléen</td><td>Si les notifications sont activées ou non de manière globale.</td><td></td></tr><tr><td>obsess<!-- -->_<!-- -->over<!-- -->_<!-- -->hosts</td><td>booléen</td><td>Si oui ou non le moteur de supervision remontera les résultats de contrôles des hôtes.</td><td></td></tr><tr><td>obsess<!-- -->_<!-- -->over<!-- -->_<!-- -->services</td><td>booléen</td><td>Si oui ou non le moteur de supervision remontera les résultats de contrôles des services.</td><td></td></tr><tr><td>passive<!-- -->_<!-- -->host<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td>Si les contrôles passifs d’hôtes sont activés ou non de manière globale.</td><td></td></tr><tr><td>passive<!-- -->_<!-- -->service<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td>Si les contrôles passifs de services sont activés ou non de manière globale.</td><td></td></tr><tr><td>global<!-- -->_<!-- -->host<!-- -->_<!-- -->event<!-- -->_<!-- -->handler</td><td>chaîne</td><td>Gestionnaire d’évènements global pour les hôtes.</td><td></td></tr><tr><td>global<!-- -->_<!-- -->service<!-- -->_<!-- -->event<!-- -->_<!-- -->handler</td><td>chaîne</td><td>Gestionnaire d’évènements global pour les services.</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbinstancestatus">NEB::PbInstanceStatus<a href="#nebpbinstancestatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>42</td><td>65578</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::InstanceStatus</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbInstanceStatus</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message BBDOHeader </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 conf_version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Un nombre interne, non utilisé actuellement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message InstanceStatus </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  BBDOHeader header </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> event_handlers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// Si les event handlers sont activés globalement, ou non.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flap_detection </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// Si la détection du bagotement est activée globalement, ou non.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notifications </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// Si les notifications sont activées globalement, ou non.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> active_host_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Si les contrôles actifs sur les hôtes sont activés globalement, ou non.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> active_service_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Si les contrôles actifs sur les services sont activés globalement, ou non.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> check_hosts_freshness </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Si le contrôle de la fraîcheur des hôtes est activé globalement, ou non.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> check_services_freshness </span><span class="token operator" style="color:#393A34">=</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Si le contrôle de la fraîcheur des services est activé globalement, ou non.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string global_host_event_handler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Event handler global sur les hôtes.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string global_service_event_handler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Event handler global sur les services.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 last_alive </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// Dernière fois que l&#x27;instance était vivante.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_command_check </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Dernière fois qu&#x27;une commande de vérification a été exécutée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> obsess_over_hosts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Si le moteur de supervision doit porcéder à des contôles supplémentaires sur les hôtes, ou non.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> obsess_over_services </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Si le moteur de supervision doit porcéder à des contôles supplémentaires sur les services, ou non.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> passive_host_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Si les contôles passifs sur les hôtes sont activés globalement, ou non.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> passive_service_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Si les contôles passifs sur les services sont activés globalement, ou non.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 instance_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;instance.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="log-entry">Log entry<a href="#log-entry" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Centreon Engine génère beaucoup de logs. Certains sont envoyés à Centreon Broker
afin d&#x27;être stockés dans la base de données. Ces logs sont envoyés via des évènements <strong>log entry</strong>.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="neblogentry">NEB::LogEntry<a href="#neblogentry" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>17</td><td>65553</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>c<!-- -->_<!-- -->time</td><td>temps</td><td>Temps de connexion.</td><td></td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’hôte. 0 si l’entrée du journal ne fait pas référence à un hôte ou un service spécifique.</td><td></td></tr><tr><td>host<!-- -->_<!-- -->name</td><td>chaîne</td><td>Nom de l’hôte. Peut être vide si l’entrée du journal ne fait pas référence à un hôte ou un service spécifique.</td><td></td></tr><tr><td>instance<!-- -->_<!-- -->name</td><td>chaîne</td><td>Nom de l’instance.</td><td></td></tr><tr><td>log<!-- -->_<!-- -->type</td><td>entier court</td><td>0 pour SOFT, 1 pour HARD.</td><td></td></tr><tr><td>msg<!-- -->_<!-- -->type</td><td>entier court</td><td>0 pour SERVICE ALERT (envoyé lors du changement d’état du service), 1 pour HOST ALERT (envoyé lors du changement d’état de l’hôte), 2 pour SERVICE NOTIFICATION (notification envoyée pour un service), 3 pour HOST NOTIFICATION (notification envoyée pour un hôte), 4 pour Warning (avertissement de Centreon Engine), 5 pour EXTERNAL COMMAND (commande externe reçue), 6 pour CURRENT SERVICE STATE (état actuel du service supervisé, généralement envoyé lors du rechargement de la configuration), 7 pour CURRENT HOST STATE (état actuel de l’hôte supervisé, (état actuel de l’hôte supervisé, généralement envoyé lors du rechargement de la configuration), 8 pour INITIAL SERVICE STATE (état initial du service, après traitement de rétention, envoyé au début du processus), 9 pour INITIAL HOST STATE (état initial de l’hôte surveillé, après traitement de rétention, envoyé au début du processus), 10 pour la commande externe ACKNOWLEDGE<!-- -->_<!-- -->SVC<!-- -->_<!-- -->PROBLEM (cas particulier de EXTERNAL COMMAND pour l’acquittement du service), 11 pour la commande externe ACKNOWLEDGE<!-- -->_<!-- -->HOST<!-- -->_<!-- -->PROBLEM (cas particulier de EXTERNAL COMMAND pour l’acquittement de l’hôte).</td><td></td></tr><tr><td>notification<!-- -->_<!-- -->cmd</td><td>chaîne</td><td>Commande de notification.</td><td></td></tr><tr><td>notification<!-- -->_<!-- -->contact</td><td>chaîne</td><td>Contact pour la notification.</td><td></td></tr><tr><td>retry</td><td>entier</td><td>Tentative de contrôle actuelle.</td><td></td></tr><tr><td>service<!-- -->_<!-- -->description</td><td>chaîne</td><td>Description du service. Vide si l’entrée du journal ne fait pas référence à un service spécifique.</td><td></td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de service. 0 si l’entrée du journal ne fait pas référence à un service spécifique.</td><td></td></tr><tr><td>status</td><td>entier court</td><td>Statut de l’hôte / du service.</td><td></td></tr><tr><td>output</td><td>chaîne</td><td>Output.</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpblogentry">NEB::PbLogEntry<a href="#nebpblogentry" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>41</td><td>65577</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::LogEntry</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbLogEntry</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message LogEntry </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">LogType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SOFT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HARD </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">MsgType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SERVICE_ALERT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HOST_ALERT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SERVICE_NOTIFICATION </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HOST_NOTIFICATION </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WARNING </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OTHER </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SERVICE_INITIAL_STATE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HOST_INITIAL_STATE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SERVICE_ACKNOWLEDGE_PROBLEM </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HOST_ACKNOWLEDGE_PROBLEM </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SERVICE_EVENT_HANDLER </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HOST_EVENT_HANDLER </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GLOBAL_SERVICE_EVENT_HANDLER </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GLOBAL_HOST_EVENT_HANDLER </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 ctime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du log.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string instance_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de l&#x27;instance.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string output </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// Output.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service, ou 0 si l&#x27;entrée de log ne se rapporte pas à un service spécifique.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string host_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string service_description </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Description du service, ou vide si l&#x27;entrée de log ne se rapporte pas à un service spécifique.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string notification_contact </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Contact de notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string notification_cmd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Commande de notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  LogType type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// Une valeur de LogType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MsgType msg_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Une valeur de MsgType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// Statut de l&#x27;hôte/ du service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 retry </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// Tentative de contrôle courante.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="module">Module<a href="#module" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Les évènements relatifs aux modules sont générés lors du chargement ou du déchargement des modules de Centreon Broker. Ils sont peu utiles car les seuls modules disponibles dans Engine sont les modules obligatoires <strong>external command</strong> et <strong>cbmod</strong>.</p><p>L&#x27;évènement <strong>Module</strong> devrait être supprimé dans un futur proche.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebmodule">NEB::Module<a href="#nebmodule" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>18</td><td>65554</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>args</td><td>chaîne</td><td>Arguments du module.</td><td></td></tr><tr><td>enabled</td><td>booléen</td><td>Si ce module est activé ou non.</td><td></td></tr><tr><td>filename</td><td>chaîne</td><td>Chemin d’accès au fichier du module.</td><td></td></tr><tr><td>instance<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’instance.</td><td></td></tr><tr><td>loaded</td><td>booléen</td><td>Si ce module est chargé ou non.</td><td></td></tr><tr><td>should<!-- -->_<!-- -->be<!-- -->_<!-- -->loaded</td><td>booléen</td><td>Si ce module doit être (aurait dû être) chargé ou non.</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Cet évènement est le même qu&#x27;en BBDO v2. Il n&#x27;existe pas d&#x27;évènement Protobuf.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="service">Service<a href="#service" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Ceci est un évènement de configuration. Il est émis par Centreon Engine lorsque la configuration d&#x27;un service est modifiée, et que la configuration est déployée.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebservice">NEB::Service<a href="#nebservice" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>23</td><td>65559</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>acknowledged</td><td>booléen</td><td></td><td></td></tr><tr><td>acknowledged<!-- -->_<!-- -->type</td><td>entier court</td><td></td><td></td></tr><tr><td>action<!-- -->_<!-- -->url</td><td>chaîne</td><td></td><td></td></tr><tr><td>active<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->freshness</td><td>booléen</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->interval</td><td>réel</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->period</td><td>chaîne</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->type</td><td>entier court</td><td></td><td></td></tr><tr><td>current<!-- -->_<!-- -->check<!-- -->_<!-- -->attempt</td><td>entier court</td><td></td><td></td></tr><tr><td>current<!-- -->_<!-- -->state</td><td>entier court</td><td></td><td></td></tr><tr><td>default<!-- -->_<!-- -->active<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>default<!-- -->_<!-- -->event<!-- -->_<!-- -->handler<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>default<!-- -->_<!-- -->flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>default<!-- -->_<!-- -->notifications<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>default<!-- -->_<!-- -->passive<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>dowtine<!-- -->_<!-- -->depth</td><td>entier court</td><td></td><td></td></tr><tr><td>display<!-- -->_<!-- -->name</td><td>chaîne</td><td></td><td></td></tr><tr><td>enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>event<!-- -->_<!-- -->handler</td><td>chaîne</td><td></td><td></td></tr><tr><td>event<!-- -->_<!-- -->handler<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>execution<!-- -->_<!-- -->time</td><td>réel</td><td></td><td></td></tr><tr><td>first<!-- -->_<!-- -->notification<!-- -->_<!-- -->delay</td><td>réel</td><td></td><td></td></tr><tr><td>flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->on<!-- -->_<!-- -->critical</td><td>booléen</td><td></td><td></td></tr><tr><td>flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->on<!-- -->_<!-- -->ok</td><td>booléen</td><td></td><td></td></tr><tr><td>flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->on<!-- -->_<!-- -->unknown</td><td>booléen</td><td></td><td></td></tr><tr><td>flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->on<!-- -->_<!-- -->warning</td><td>booléen</td><td></td><td></td></tr><tr><td>freshness<!-- -->_<!-- -->threshold</td><td>réel</td><td></td><td></td></tr><tr><td>has<!-- -->_<!-- -->been<!-- -->_<!-- -->checked</td><td>booléen</td><td></td><td></td></tr><tr><td>high<!-- -->_<!-- -->flap<!-- -->_<!-- -->threshold</td><td>réel</td><td></td><td></td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>host<!-- -->_<!-- -->name</td><td>chaîne</td><td></td><td></td></tr><tr><td>icon<!-- -->_<!-- -->image</td><td>chaîne</td><td></td><td></td></tr><tr><td>icon<!-- -->_<!-- -->image<!-- -->_<!-- -->alt</td><td>chaîne</td><td></td><td></td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>is<!-- -->_<!-- -->flapping</td><td>booléen</td><td></td><td></td></tr><tr><td>is<!-- -->_<!-- -->volatile</td><td>booléen</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->check</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->hard<!-- -->_<!-- -->state</td><td>entier court</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->hard<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->notification</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->critical</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->ok</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->unknown</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->warning</td><td>temps</td><td></td><td></td></tr><tr><td>last<!-- -->_<!-- -->update</td><td>temps</td><td></td><td></td></tr><tr><td>latency</td><td>réel</td><td></td><td></td></tr><tr><td>low<!-- -->_<!-- -->flap<!-- -->_<!-- -->threshold</td><td>réel</td><td></td><td></td></tr><tr><td>max<!-- -->_<!-- -->check<!-- -->_<!-- -->attempts</td><td>entier court</td><td></td><td></td></tr><tr><td>next<!-- -->_<!-- -->check</td><td>temps</td><td></td><td></td></tr><tr><td>next<!-- -->_<!-- -->notification</td><td>temps</td><td></td><td></td></tr><tr><td>no<!-- -->_<!-- -->more<!-- -->_<!-- -->notifications</td><td>booléen</td><td></td><td></td></tr><tr><td>notes</td><td>chaîne</td><td></td><td></td></tr><tr><td>notes<!-- -->_<!-- -->url</td><td>chaîne</td><td></td><td></td></tr><tr><td>notification<!-- -->_<!-- -->interval</td><td>réel</td><td></td><td></td></tr><tr><td>notification<!-- -->_<!-- -->number</td><td>entier court</td><td></td><td></td></tr><tr><td>notification<!-- -->_<!-- -->period</td><td>chaîne</td><td></td><td></td></tr><tr><td>notifications<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>notify<!-- -->_<!-- -->on<!-- -->_<!-- -->critical</td><td>booléen</td><td></td><td></td></tr><tr><td>notify<!-- -->_<!-- -->on<!-- -->_<!-- -->downtime</td><td>booléen</td><td></td><td></td></tr><tr><td>notify<!-- -->_<!-- -->on<!-- -->_<!-- -->flapping</td><td>booléen</td><td></td><td></td></tr><tr><td>notify<!-- -->_<!-- -->on<!-- -->_<!-- -->recovery</td><td>booléen</td><td></td><td></td></tr><tr><td>notify<!-- -->_<!-- -->on<!-- -->_<!-- -->unknown</td><td>booléen</td><td></td><td></td></tr><tr><td>notify<!-- -->_<!-- -->on<!-- -->_<!-- -->warning</td><td>booléen</td><td></td><td></td></tr><tr><td>obsess<!-- -->_<!-- -->over</td><td>booléen</td><td></td><td></td></tr><tr><td>passive<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>percent<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>réel</td><td></td><td></td></tr><tr><td>retry<!-- -->_<!-- -->interval</td><td>réel</td><td></td><td></td></tr><tr><td>scheduled<!-- -->_<!-- -->downtime<!-- -->_<!-- -->depth</td><td>entier court</td><td></td><td></td></tr><tr><td>service<!-- -->_<!-- -->description</td><td>chaîne</td><td></td><td></td></tr><tr><td>should<!-- -->_<!-- -->be<!-- -->_<!-- -->scheduled</td><td>booléen</td><td></td><td></td></tr><tr><td>stalk<!-- -->_<!-- -->on<!-- -->_<!-- -->critical</td><td>booléen</td><td></td><td></td></tr><tr><td>stalk<!-- -->_<!-- -->on<!-- -->_<!-- -->ok</td><td>booléen</td><td></td><td></td></tr><tr><td>stalk<!-- -->_<!-- -->on<!-- -->_<!-- -->unknown</td><td>booléen</td><td></td><td></td></tr><tr><td>stalk<!-- -->_<!-- -->on<!-- -->_<!-- -->warning</td><td>booléen</td><td></td><td></td></tr><tr><td>state<!-- -->_<!-- -->type</td><td>entier court</td><td></td><td></td></tr><tr><td>check<!-- -->_<!-- -->command</td><td>chaîne</td><td></td><td></td></tr><tr><td>output</td><td>chaîne</td><td></td><td></td></tr><tr><td>perf<!-- -->_<!-- -->data</td><td>chaîne</td><td></td><td></td></tr><tr><td>retain<!-- -->_<!-- -->nonstatus<!-- -->_<!-- -->information</td><td>booléen</td><td></td><td></td></tr><tr><td>retain<!-- -->_<!-- -->status<!-- -->_<!-- -->information</td><td>booléen</td><td></td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbservice">NEB::PbService<a href="#nebpbservice" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>27</td><td>65563</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::Service</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbService</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">ServiceType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SERVICE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  METASERVICE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  BA </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ANOMALY_DETECTION </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">AckType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NONE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NORMAL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  STICKY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message Service </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                         </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> acknowledged </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// Actuellement acquitté?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AckType acknowledgement_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur de AckType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> active_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// Les contrôles actifs sont-ils activés?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                           </span><span class="token comment" style="color:#999988;font-style:italic">// Ce service est-il actif?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 scheduled_downtime_depth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de plages de maintenance actives.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string check_command </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Commande exécutée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 check_interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// Intervalle en unités (généralement 60s) entre 2 contrôles.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string check_period </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Période de temps durant laquelle les contrôles sont autorisés.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">CheckType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ACTIVE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PASSIVE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CheckType check_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur de CheckType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 check_attempt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de contrôles non OK.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">State</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OK </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WARNING </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CRITICAL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UNKNOWN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PENDING </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  State state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                           </span><span class="token comment" style="color:#999988;font-style:italic">// État courant du service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> event_handler_enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Event handler activé?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string event_handler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// Commande exécutée lors d&#x27;un changement d&#x27;état.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> execution_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Durée du dernier contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flap_detection </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// La détaction du bagotement est-elle activée ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> checked </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                          </span><span class="token comment" style="color:#999988;font-style:italic">// Le service a-t-il été contrôlé ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flapping </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                         </span><span class="token comment" style="color:#999988;font-style:italic">// Le service est-il en état de bagotement ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_check </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  State last_hard_state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">21</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Dernier état hard.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_hard_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier changement d&#x27;état hard.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_notification </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de la dernière notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 notification_number </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de notifications envoyées depuis le début de l&#x27;alerte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier changement de statut.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_ok </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">26</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier code retour check OK.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_warning </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier code retour check WARNING.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_critical </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">28</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier code retour check CRITICAL.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_unknown </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">29</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier code retour check UNKNOWN.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_update </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de la création de cet évènement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> latency </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">31</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                        </span><span class="token comment" style="color:#999988;font-style:italic">// Délai entre l&#x27;heure de contrôle programmée et celle de l&#x27;exécution du contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 max_check_attempts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de contrôles non OK après lesquels le service entre dans un état non OK hard.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 next_check </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">33</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du prochain contrôle programmé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 next_notification </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">34</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de la prochaine notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> no_more_notifications </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">35</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Aucune autre notification ne sera envoyée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">36</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                           </span><span class="token comment" style="color:#999988;font-style:italic">// Les notifications sont-elles activées sur ce service?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string output </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">37</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                         </span><span class="token comment" style="color:#999988;font-style:italic">// Output de la commande de contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string long_output </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">38</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// Output long de la commande de contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> passive_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">39</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Les contrôles passifs sont-ils activés?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> percent_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">40</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Utilisé par le bagotement, et comparé aux seuils hauts et bas de bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string perfdata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">41</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                       </span><span class="token comment" style="color:#999988;font-style:italic">// Données de performance extraites de l&#x27;output de la commande.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> retry_interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Intervalle entre deux contrôles lorsque le service n&#x27;est pas dans un statut OK et que le type d&#x27;état est SOFT.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string host_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">43</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de l&#x27;hôte pour ce service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string description </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">44</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// Description de ce service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> should_be_scheduled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">45</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Un prochain contrôle est-il programmé ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> obsess_over_service </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">46</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// True si une commande OCSP est exécutée après un contrôle ou une commande de notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">StateType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SOFT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HARD </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  StateType state_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">47</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur de StateType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string action_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">48</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// URL permettant d&#x27;obtenir des informations sur ce service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> check_freshness </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">49</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// Contrôle de fraîcheur passive activé?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> default_active_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur par défaut pour active_checks.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> default_event_handler_enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">51</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur par défaut pour event_handler_enabled.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> default_flap_detection </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">52</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur par défaut pour flap detection.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> default_notify </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">53</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur par défaut pour notify.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> default_passive_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">54</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur par défaut pour passive checks.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string display_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">55</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Non affiché dans l&#x27;interface.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> first_notification_delay </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">56</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Délai avant de notifier, en unités (généralement 60s).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flap_detection_on_critical </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">57</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Le statut critique est pris en compte pour la détection du bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flap_detection_on_ok </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">58</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Le statut ok est pris en compte pour la détection du bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flap_detection_on_unknown </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">59</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Le statut inconnu est pris en compte pour la détection du bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flap_detection_on_warning </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Le statut alerte est pris en compte pour la détection du bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> freshness_threshold </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">61</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Délai après lequel le résultat du contrôle n&#x27;est plus considéré comme frais.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> high_flap_threshold </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">62</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Si le pourcentage de changement est plus élevé que ce nombre, le service est considéré comme en état de bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string icon_image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">63</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// Icône affichée dans l&#x27;interface pour ce service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string icon_image_alt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">64</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Texte alternatif pour icon_image.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> is_volatile </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">65</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// Le service est-il volatile?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> low_flap_threshold </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">66</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Si le pourcentage de changement est moins élevé que ce nombre, le service n&#x27;est pas considéré comme en état de bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string notes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">67</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                          </span><span class="token comment" style="color:#999988;font-style:italic">// Infobulle dans la page Statut des ressources.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string notes_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">68</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// URL cliquable dans la page Statut des ressources.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> notification_interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">69</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Intervalle entre deux notifications.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string notification_period </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">70</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Période de temps pendant laquelle les notifications sont autorisées.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify_on_critical </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">71</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Les utilisateurs sont notifiés si le statut du service devient critique.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify_on_downtime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">72</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Les utilisateurs sont notifiés si une plage de maintenance est appliquée au service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify_on_flapping </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">73</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Les utilisateurs sont notifiés si le service est en état de bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify_on_recovery </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">74</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Les utilisateurs sont notifiés si le statut du service devient Disponible.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify_on_unknown </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">75</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Les utilisateurs sont notifiés si le statut du service devient inconnu.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify_on_warning </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">76</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Les utilisateurs sont notifiés si le statut du service devient alerte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> stalk_on_critical </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">77</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Les utilisateurs sont notifiés si le statut du service devient critique.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> stalk_on_ok </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">78</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// Inscrit dans le log le changement d&#x27;output si le statut passe à disponible.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> stalk_on_unknown </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">79</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Inscrit dans le log le changement d&#x27;output si le statut passe à inconnu.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> stalk_on_warning </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Inscrit dans le log le changement d&#x27;output si le statut passe à alerte</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> retain_nonstatus_information </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">81</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// Non utilisé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> retain_status_information </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">82</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Non utilisé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 severity_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">83</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la sévérité, ou 0.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  repeated TagInfo tags </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">84</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// IDs des tags.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ServiceType type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">85</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// De quel type de service s&#x27;agit-il?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/* Les métaservices et les BA ont un ID interne. Il est stocké ici. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 internal_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">86</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// ID du métaservice ou de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 icon_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">87</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                        </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;icône.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-check">Service check<a href="#service-check" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est émis par Centreon Engine lorsqu&#x27;un contrôle est effectué sur un service.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebservicecheck">NEB::ServiceCheck<a href="#nebservicecheck" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>19</td><td>65555</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>active<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td>True si les contrôles actifs sont activés sur le service.</td><td></td></tr><tr><td>check<!-- -->_<!-- -->type</td><td>court</td><td></td><td></td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’hôte.</td><td></td></tr><tr><td>next<!-- -->_<!-- -->check</td><td>temps</td><td>Heure à laquelle le prochain contrôle est prévu.</td><td></td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de service.</td><td></td></tr><tr><td>command<!-- -->_<!-- -->line</td><td>chaîne</td><td>Ligne de commande du contrôle.</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbservicecheck">NEB::PbServiceCheck<a href="#nebpbservicecheck" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>40</td><td>65576</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::ServiceCheck</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbServiceCheck</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message BBDOHeader </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 conf_version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Un nombre interne, non utilisé actuellement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">CheckType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CheckActive </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CheckPassive </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message Check </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BBDOHeader header </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> active_checks_enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// True si les contrôles actifs sont activés sur l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CheckType check_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// L&#x27;une des valeurs de CheckType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string command_line </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Commande de contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64 next_check </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp pour lequel le prochain contrôle est programmé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service, ou 0 pour un contrôle sur un hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-dependency">Service dependency<a href="#service-dependency" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Ceci est un évènement de configuration envoyé lorsqu&#x27;une dépendance entre services est définie.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebservicedependency">NEB::ServiceDependency<a href="#nebservicedependency" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>20</td><td>65556</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>dependency<!-- -->_<!-- -->period</td><td>chaîne</td><td></td><td></td></tr><tr><td>dependent<!-- -->_<!-- -->host<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>dependent<!-- -->_<!-- -->service<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>enabled</td><td>booléen</td><td></td><td></td></tr><tr><td>execution<!-- -->_<!-- -->failure<!-- -->_<!-- -->options</td><td>chaîne</td><td></td><td></td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>inherits<!-- -->_<!-- -->parent</td><td>booléen</td><td></td><td></td></tr><tr><td>notification<!-- -->_<!-- -->failure<!-- -->_<!-- -->options</td><td>chaîne</td><td></td><td></td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Cet évènement est le même qu&#x27;en BBDO v2. Il n&#x27;existe pas d&#x27;évènement Protobuf.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-group">Service group<a href="#service-group" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement de configuration est émis lorsqu&#x27;un groupe de services est créé.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebservicegroup">NEB::ServiceGroup<a href="#nebservicegroup" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>21</td><td>65557</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>name</td><td>chaîne</td><td>Nom du groupe.</td><td></td></tr><tr><td>enabled</td><td>enabled</td><td>True si le groupe est activé, faux s’il ne l’est pas (suppression).</td><td></td></tr><tr><td>poller<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Cet évènement est le même qu&#x27;en BBDO v2. Il n&#x27;existe pas d&#x27;évènement Protobuf.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-group-member">Service group member<a href="#service-group-member" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Ceci est un évènement de configuration. Il est envoyé juste après un évènement <strong>servicegroup</strong> afin de détailler les membres du groupe à configurer. En BBDO v3, la version BBDO v2 de l&#x27;évènement est toujours utilisée.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebservicegroupmember">NEB::ServiceGroupMember<a href="#nebservicegroupmember" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>22</td><td>65558</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr><tr><td>enabled</td><td>enabled</td><td>True si le groupe est activé, faux s’il ne l’est pas (suppression).</td><td></td></tr><tr><td>group<!-- -->_<!-- -->name</td><td>chaîne</td><td>Nom du groupe.</td><td></td></tr><tr><td>poller<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Cet évènement est le même qu&#x27;en BBDO v2. Il n&#x27;existe pas d&#x27;évènement Protobuf.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-status">Service status<a href="#service-status" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est émis par Centreon Engine losque des modifications en temps réel sont apportées à un service.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebservicestatus">NEB::ServiceStatus<a href="#nebservicestatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>24</td><td>65560</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>acknowledged</td><td>booléen</td><td></td></tr><tr><td>acknowledgement<!-- -->_<!-- -->type</td><td>entier court</td><td></td></tr><tr><td>active<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td></tr><tr><td>check<!-- -->_<!-- -->interval</td><td>réel</td><td></td></tr><tr><td>check<!-- -->_<!-- -->period</td><td>chaîne</td><td></td></tr><tr><td>check<!-- -->_<!-- -->type</td><td>entier court</td><td></td></tr><tr><td>current<!-- -->_<!-- -->check<!-- -->_<!-- -->attempt</td><td>entier court</td><td></td></tr><tr><td>current<!-- -->_<!-- -->state</td><td>entier court</td><td></td></tr><tr><td>downtime<!-- -->_<!-- -->depth</td><td>entier court</td><td></td></tr><tr><td>enabled</td><td>booléen</td><td></td></tr><tr><td>event<!-- -->_<!-- -->handler</td><td>chaîne</td><td></td></tr><tr><td>event<!-- -->_<!-- -->handler<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td></tr><tr><td>execution<!-- -->_<!-- -->time</td><td>réel</td><td></td></tr><tr><td>flap<!-- -->_<!-- -->detection<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td></tr><tr><td>has<!-- -->_<!-- -->been<!-- -->_<!-- -->checked</td><td>booléen</td><td></td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td></tr><tr><td>host<!-- -->_<!-- -->name</td><td>chaîne</td><td></td></tr><tr><td>is<!-- -->_<!-- -->flapping</td><td>booléen</td><td></td></tr><tr><td>last<!-- -->_<!-- -->check</td><td>temps</td><td></td></tr><tr><td>last<!-- -->_<!-- -->hard<!-- -->_<!-- -->state</td><td>entier court</td><td></td></tr><tr><td>last<!-- -->_<!-- -->hard<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>temps</td><td></td></tr><tr><td>last<!-- -->_<!-- -->notification</td><td>temps</td><td></td></tr><tr><td>last<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>temps</td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->critical</td><td>temps</td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->ok</td><td>temps</td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->unknown</td><td>temps</td><td></td></tr><tr><td>last<!-- -->_<!-- -->time<!-- -->_<!-- -->warning</td><td>temps</td><td></td></tr><tr><td>last<!-- -->_<!-- -->update</td><td>temps</td><td></td></tr><tr><td>latency</td><td>réel</td><td></td></tr><tr><td>max<!-- -->_<!-- -->check<!-- -->_<!-- -->attempts</td><td>entier court</td><td></td></tr><tr><td>modified<!-- -->_<!-- -->attributes</td><td>entier non signé</td><td></td></tr><tr><td>next<!-- -->_<!-- -->check</td><td>temps</td><td></td></tr><tr><td>next<!-- -->_<!-- -->notification</td><td>temps</td><td></td></tr><tr><td>no<!-- -->_<!-- -->more<!-- -->_<!-- -->notifications</td><td>booléen</td><td></td></tr><tr><td>notification<!-- -->_<!-- -->number</td><td>entier court</td><td></td></tr><tr><td>notifications<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td></tr><tr><td>obsess<!-- -->_<!-- -->over</td><td>booléen</td><td></td></tr><tr><td>passive<!-- -->_<!-- -->checks<!-- -->_<!-- -->enabled</td><td>booléen</td><td></td></tr><tr><td>percent<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>réel</td><td></td></tr><tr><td>retry<!-- -->_<!-- -->interval</td><td>réel</td><td></td></tr><tr><td>service<!-- -->_<!-- -->description</td><td>chaîne</td><td></td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td></td></tr><tr><td>should<!-- -->_<!-- -->be<!-- -->_<!-- -->scheduled</td><td>booléen</td><td></td></tr><tr><td>state<!-- -->_<!-- -->type</td><td>entier court</td><td></td></tr><tr><td>check<!-- -->_<!-- -->command</td><td>chaîne</td><td></td></tr><tr><td>output</td><td>chaîne</td><td></td></tr><tr><td>perf<!-- -->_<!-- -->data</td><td>chaîne</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbservicestatus">NEB::PbServiceStatus<a href="#nebpbservicestatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>29</td><td>65565</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::ServiceStatus</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbServiceStatus</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message ServiceStatus </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                         </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> checked </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                          </span><span class="token comment" style="color:#999988;font-style:italic">// Le service est-il contrôlé?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">CheckType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ACTIVE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PASSIVE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CheckType check_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur de CheckType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">State</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OK </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WARNING </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CRITICAL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UNKNOWN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PENDING </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  State state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                           </span><span class="token comment" style="color:#999988;font-style:italic">// État courant du service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">StateType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SOFT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HARD </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  StateType state_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur de StateType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier changement d&#x27;état.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  State last_hard_state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Dernier état hard.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_hard_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier changement d&#x27;état hard.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_ok </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier code retour OK.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_warning </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier code retour WARNING.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_critical </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp  du dernier code retour CRITICAL.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_time_unknown </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp  du dernier code retour UNKNOWN.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string output </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                        </span><span class="token comment" style="color:#999988;font-style:italic">// Output de la commande de contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string long_output </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Output long de la commande de contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string perfdata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// Données de performance extraites de l&#x27;output de la commande.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flapping </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                        </span><span class="token comment" style="color:#999988;font-style:italic">// Le service est-il en état de bagotement ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> percent_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Utilisé par le bagotement, et comparé aux seuils hauts et bas de bagotement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> latency </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                       </span><span class="token comment" style="color:#999988;font-style:italic">// Délai entre l&#x27;heure de contrôle programmée et celle à laquelle le contrôle a été exécuté.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> execution_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Durée du dernier contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_check </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">21</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier contrôle.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 next_check </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du prochain contrôle programmé.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> should_be_scheduled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Un prochain contrôle est-il programmé?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 check_attempt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de contrôles non OK après lesquels un service entre dans un état non OK hard.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 notification_number </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de notifications envoyées depuis le début de l&#x27;alerte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> no_more_notifications </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">26</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Aucune autre notification ne sera envoyée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 last_notification </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de la dernière notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 next_notification </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">28</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de la prochaine notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AckType acknowledgement_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">29</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur de AckType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 scheduled_downtime_depth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de plages de maintenance actives.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ServiceType type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">31</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// De quel type de service s&#x27;agit-il ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/* Les métaservices et les BA ont un ID interne. Il est stocké ici. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 internal_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// ID du métaservice ou de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="instance-configuration">Instance configuration<a href="#instance-configuration" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Ceci est un évènement de configuration annonçant tous les évènements de configuration qui seront envoyés par un collecteur.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebinstanceconfiguration">NEB::InstanceConfiguration<a href="#nebinstanceconfiguration" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>25</td><td>65561</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>loaded</td><td>booléen</td><td>True si l’instance s’est chargée avec succès.</td><td></td></tr><tr><td>poller<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID du collecteur qui a reçu une demande de mise à jour de la configuration (reload).</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Cet évènement est le même qu&#x27;en BBDO v2. Il n&#x27;existe pas d&#x27;évènement Protobuf.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="responsive-instance">Responsive instance<a href="#responsive-instance" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est émis par cbd. Il indique si un collecteur répond ou non.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebresponsiveinstance">NEB::ResponsiveInstance<a href="#nebresponsiveinstance" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>26</td><td>65562</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la manière suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th><th>Version</th></tr></thead><tbody><tr><td>poller<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID du collecteur qui a reçu une demande de mise à jour de la configuration (reload).</td><td></td></tr><tr><td>responsive</td><td>booléen</td><td>Un booléen indiquant si le collecteur ayant l’ID <strong>poller_id</strong> répond ou non.</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbresponsiveinstance">NEB::PbResponsiveInstance<a href="#nebpbresponsiveinstance" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>46</td><td>65582</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::ResponsiveInstance</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbResponsiveInstance</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message BBDOHeader </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 conf_version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Un nombre interne, non utilisé actuellement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message ResponsiveInstance </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  BBDOHeader header </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 poller_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// ID du collecteur.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> responsive </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Le collecteur répond-il?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adaptive-service">Adaptive service<a href="#adaptive-service" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement a été introduit en BBDO v3. Il est émis lorsque la configuration d&#x27;un service est mise à jour à chaud (par exemple à l&#x27;aide d&#x27;une commande externe).</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p><strong>Adaptive service</strong> n&#x27;est pas disponible en BBDO v2.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbadaptiveservice">NEB::PbAdaptiveService<a href="#nebpbadaptiveservice" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>41</td><td>65577</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::AdaptiveService</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbAdaptiveService</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message AdaptiveService </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                         </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Les notifications sont-elles activées sur ce service?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> active_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Les contrôles actifs sont-ils activés ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> should_be_scheduled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Un prochain contrôle est-il programmé ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> passive_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Les contrôles passifs sont-ils activés ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> event_handler_enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Event handler est-il activé ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flap_detection_enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// La détection du bagotement est-elle activée ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> obsess_over_service </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// True si une commande OCSP est exécutée après un contôle ou une commande de notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional string event_handler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Commande exécutée quand le statut change.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional string check_command </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Command exécutée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional uint32 check_interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Intervalle en unités (généralement 60s) entre 2 contrôles.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional uint32 retry_interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Intervalle entre deux contrôles lorsque le service n&#x27;est pas dans un statut OK et que le type d&#x27;état est SOFT.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional uint32 max_check_attempts  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de contrôles non OK après lesquels un service entre dans un état non OK hard.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> check_freshness </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Le contrôle passif de fraîcheur est-il activé ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional string check_period </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Période de temps pendant laquelle les contrôles sont autorisés.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional string notification_period </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Période de temps pendant laquelle les notifications sont autorisées.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adaptive-host">Adaptive host<a href="#adaptive-host" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement a été introduit en BBDO v3. Il est émis lorsque la configuration d&#x27;un hôte est mise à jour à chaud (par exemple à l&#x27;aide d&#x27;une commande externe).</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p><strong>Adaptive host</strong> n&#x27;est pas disponible en BBDO v2.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbadaptivehost">NEB::PbAdaptiveHost<a href="#nebpbadaptivehost" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>31</td><td>65567</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, de sorte que les éléments ne sont pas sérialisés comme dans les évènements précédents, mais en utilisant le mécanisme de sérialisation Protobuf 3. Lorsque la version BBDO 3 est utilisée, plus aucun message <strong>NEB::AdaptiveHost</strong> ne devrait être envoyé, vous devriez voir des évènements <strong>NEB::PbAdaptiveHost</strong> à la place.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message AdaptiveHost </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                         </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> notify </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Les notifications sont-elles activées sur ce service ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> active_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Les contrôles actifs sont-ils activés ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> should_be_scheduled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Un prochain contrôle est-il programmé ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> passive_checks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Les contrôles passifs sont-ils activés ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> event_handler_enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Event handler est-il activé ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> flap_detection </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// La détection du bagotement est-elle activée ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> obsess_over_host </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// True si une commande OCSP est exécutée après un contôle ou une commande de notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional string event_handler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Commande exécutée quand le statut change.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional string check_command  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Commande exécutée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional uint32 check_interval  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Intervalle en unités (généralement 60s) entre 2 contrôles.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional uint32 retry_interval  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Intervalle entre deux contrôles lorsque le service n&#x27;est pas dans un statut OK et que le type d&#x27;état est SOFT.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional uint32 max_check_attempts  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Nombre de contrôles non OK après lesquels un service entre dans un état non OK hard.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> check_freshness </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Le contrôle passif de fraîcheur est-il activé ?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional string check_period  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Période de temps pendant laquelle les contrôles sont autorisés.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional string notification_period  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Période de temps pendant laquelle les notifications sont autorisées.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="severity">Severity<a href="#severity" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Ceci est un évènement de configuration. il définit une sévérité. Cet évènement a été introduit en BBDO v3.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>IL n&#x27;y a pas de version BBDO v2 de cet évènement.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpbseverity">NEB::PbSeverity<a href="#nebpbseverity" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>1</td><td>33</td><td>65569</td></tr></tbody></table><p>Cet évènement est compris dans BBDO 3. Il contient la sévérité d’une ressource.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message Severity {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 id = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  enum Action {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ADD = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DELETE = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MODIFY = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Action action = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 level = 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 icon_id = 4;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string name = 5;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  enum Type {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SERVICE = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HOST = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Type type = 6;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 poller_id = 7;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="storage">Storage<a href="#storage" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="metric">Metric<a href="#metric" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est généré par un point de terminaison Storage pour notifier qu’un graphique de métriques RRD doit être mis à jour.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="storagemetric">Storage::Metric<a href="#storagemetric" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>3</td><td>1</td><td>196609</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>ctime</td><td>temps</td><td>Heure à laquelle la valeur métrique a été générée.</td></tr><tr><td>interval</td><td>entier non signé</td><td>Intervalle de contrôle du service normal en secondes.</td></tr><tr><td>metric<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de la métrique (à partir du tableau des métriques).</td></tr><tr><td>name</td><td>chaîne</td><td>Nom de la métrique.</td></tr><tr><td>rrd<!-- -->_<!-- -->len</td><td>entier</td><td>Durée de rétention des données RRD en secondes.</td></tr><tr><td>value</td><td>réel</td><td>Valeur de la métrique.</td></tr><tr><td>value<!-- -->_<!-- -->type</td><td>entier court</td><td>Type de métrique (1 =3D compteur, 2 =3D dérive, 3 =3D absolu, autre =3D jauge).</td></tr><tr><td>is<!-- -->_<!-- -->for<!-- -->_<!-- -->rebuild</td><td>booléen</td><td>Défini sur True quand un graphique est en cours de reconstruction (voir l’évènement rebuild).</td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’hôte auquel cette métrique est attachée.</td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID du service auquel cette métrique est attachée.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="storagepbmetric">Storage::PbMetric<a href="#storagepbmetric" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>3</td><td>9</td><td>196617</td></tr></tbody></table><p>Cet événement est un événement Protobuf, ainsi son contenu n&#x27;est pas sérialisé
comme pour les événements en BBDO v2 mais plutôt en utilisant le mécanisme de
sérialisation Protobuf 3. Lorsque BBDO v3 est utilisé, les événements
<strong>Storage::Metric</strong> ne devraient plus être émis, vous devriez voir à la place
des événements <strong>Storage::PbMetric</strong>.</p><p>Voici la définition de cet événement <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">protobuf</a></p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message Metric </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">ValueType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GAUGE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    COUNTER </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DERIVE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ABSOLUTE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AUTOMATIC </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 metric_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la métrique.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 rrd_len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Longueur en secondes de la rétention RRD.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Intervalle de check de service normal en secondes.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ValueType value_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Une valeur de ValueType.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp à laquelle la valeur de la métrique a été générée.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Valeur de la métrique.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  string name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de la métrique.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rebuild">Rebuild<a href="#rebuild" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Les évènements de reconstruction sont générés lorsqu’un point de terminaison Storage détecte qu’un graphique doit être reconstruit. Il envoie d’abord un évènement de début de reconstruction (end <code>false</code>),
puis des valeurs métriques (évènement métrique avec is<!-- -->_<!-- -->for<!-- -->_<!-- -->rebuild défini sur True) et enfin un évènement de fin de reconstruction (end <code>true</code>).</p><p>Ce message et son fonctionnement sont uniquement disponibles en BBDO v2.
Avec BBDO v3, on profite de la puissance de Protobuf. Pour reconstruire les
graphiques, on utilise l&#x27;événement <a href="#storagepbrebuildmessage">Storage::PbRebuildMessage</a>.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="storagerebuild">Storage::Rebuild<a href="#storagerebuild" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>3</td><td>2</td><td>196610</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>end</td><td>booléen</td><td>Indicateur de fin. Défini sur True si la reconstruction commence, False si elle se termine.</td></tr><tr><td>id</td><td>entier non signé</td><td>ID de la métrique à reconstruire si is<!-- -->_<!-- -->index est False, ou ID de l’index à reconstruire (graphique d’état) si is<!-- -->_<!-- -->index est True.</td></tr><tr><td>is<!-- -->_<!-- -->index</td><td>booléen</td><td>Indicateur d’index. Reconstruction de l’index (état) si True, reconstruction de la métrique si False.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Non disponible avec Protobuf 3.</p><p>Veuillez consulter <a href="#storagepbrebuildmessage">Storage::PbRebuildMessage</a> pour l&#x27;alternative.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="remove-graph">Remove graph<a href="#remove-graph" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Un point de terminaison Storage génère un évènement de suppression de graphique lorsqu’un graphique doit être supprimé.</p><p>Ce message et son fonctionnement sont uniquement disponibles en BBDO v2.
Avec BBDO v3, on profite de la puissance de Protobuf. Pour supprimer les
graphiques, on utilise l&#x27;événement <a href="#storagepbremovegraphmessage">Storage::PbRemoveGraphMessage</a>.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="storageremovegraph">Storage::RemoveGraph<a href="#storageremovegraph" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>3</td><td>3</td><td>196611</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit:</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>entier non signé</td><td>ID de l’index (is<!-- -->_<!-- -->index =<code>true</code>) ou ID de la métrique (is<!-- -->_<!-- -->index =<code>false</code>) à supprimer.</td></tr><tr><td>is<!-- -->_<!-- -->index</td><td>booléen</td><td>Indicateur d’index. Si True, un graphique d’index (état) sera supprimé. Si False, un graphique de métrique sera supprimé.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Non disponible avec Protobuf 3.</p><p>Veuillez consulter <a href="#storagepbremovegraphmessage">Storage::PbRemoveGraphMessage</a>
pour l&#x27;alternative.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="status">Status<a href="#status" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet événement est émis par Centreon Broker lorsqu&#x27;un événement de type <strong>Service Status</strong> ou <strong>Host Status</strong> est reçu.
Il contient essentiellement une ressource avec son état.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="storagestatus">Storage::Status<a href="#storagestatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>3</td><td>4</td><td>196612</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>ctime</td><td>temps</td><td>Heure à laquelle l’état a été généré.</td></tr><tr><td>index<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’index.</td></tr><tr><td>interval</td><td>entier non signé</td><td>Intervalle de contrôle du service normal en secondes.</td></tr><tr><td>rrd<!-- -->_<!-- -->len</td><td>temps</td><td>Rétention des données RRD en secondes.</td></tr><tr><td>state</td><td>entier court</td><td>État du service.</td></tr><tr><td>is<!-- -->_<!-- -->for<!-- -->_<!-- -->rebuild</td><td>booléen</td><td>Défini sur True quand un graphique est en cours de reconstruction (voir l’évènement rebuild).</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="storagepbstatus">Storage::PbStatus<a href="#storagepbstatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>3</td><td>10</td><td>196618</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, par conséquent ses éléments ne sont pas
sérialisés comme avec BBDO v2 mais en utilisant le mécanisme de sérialisation
Protobuf 3. Lorsque BBDO v3 est utilisé, il ne devrait plus y avoir d&#x27;émission
d&#x27;évènements <strong>Storage::Status</strong>, à la place on devrait avoir des
<strong>Storage::PbStatus</strong>.</p><p>Voici la définition de l&#x27;évènement <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">protobuf</a> :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message Status </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 index_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;index.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Intervalle en secondes entre deux checks de service normaux.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 rrd_len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Rétention RRD en secondes.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp auquel le status est généré.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// État du service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="metric-mapping">Metric mapping<a href="#metric-mapping" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est émis par Centreon Broker lorsqu&#x27;une nouvelle configuration de
service est reçue. Il établit la relation entre un ID d&#x27;index d&#x27;un service et un
ID de métrique. Voir <a href="#indexmapping">Index mapping</a> pour davantage d&#x27;informations
sur les ID d&#x27;index.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="storagemetricmapping">Storage::MetricMapping<a href="#storagemetricmapping" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>3</td><td>6</td><td>196614</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>index<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’index.</td></tr><tr><td>metric<!-- -->_<!-- -->d</td><td>entier non signé</td><td>ID de l’index.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="storagepbmetricmapping">Storage::PbMetricMapping<a href="#storagepbmetricmapping" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>3</td><td>12</td><td>196620</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, ainsi ses éléments ne sont pas sérialisés
comme avec BBDO v2 mais plutôt en utilisant le mécanisme de sérialisation de
Protobuf 3. Quand BBDO v3 est actif, il ne devrait plus y avoir d&#x27;évènements
<strong>Storage::MetricMapping</strong> émis mais plutôt des <strong>Storage::PbIndexMapping</strong>.</p><p>Voici la définition de cet événement <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">protobuf</a> :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message MetricMapping </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 index_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;index de service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 metric_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la métrique liée au service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="index-mapping">Index mapping<a href="#index-mapping" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est émis par Centreon Broker lorsqu&#x27;une nouvelle configuration de service
est reçue. Il crée l&#x27;association entre un ID et un service identifié par le couple
<strong>(host ID/service ID)</strong>. Ce nouvel ID est utile pour la déclaration des métriques
de service.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="storageindexmapping">Storage::IndexMapping<a href="#storageindexmapping" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>3</td><td>5</td><td>196613</td></tr></tbody></table><p>Le contenu de ce message est sérialisé de la façon suivante :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>index<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’index.</td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’index.</td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td>ID de l’index.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="storagepbindexmapping">Storage::PbIndexMapping<a href="#storagepbindexmapping" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>3</td><td>11</td><td>196619</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, ainsi ses éléments ne sont pas sérialisés
comme en BBDO v2 mais plutôt en utilisant le mécanisme de sérialisation de
Protobuf 3. Lorsque BBDO v3 est actif, les événements <strong>Storage::IndexMapping</strong>
ne devraient plus être émis, à la place on devrait avoir des évènements
<strong>Storage::PbIndexMapping</strong>.</p><p>Voici la définition de l&#x27;évènement <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">protobuf</a> :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message IndexMapping </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 index_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;index d&#x27;un service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte du service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint64 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rebuild-message">Rebuild Message<a href="#rebuild-message" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet événement arrive avec BBDO v3. Quand on doit reconstruire des graphes,
c&#x27;est cet évènement qui contient les informations de reconstruction. Il remplace
les anciens messages BBDO v2 de <strong>rebuild</strong>.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Non disponible en BBDO v2.</p><p>Voir <a href="#storagerebuild">Storage::Rebuild</a></p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="storagepbrebuildmessage">Storage::PbRebuildMessage<a href="#storagepbrebuildmessage" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>3</td><td>7</td><td>196615</td></tr></tbody></table><p>Il existe trois états pour ce message :</p><ul><li>START : il s’agit du premier état, ce message initialise les métriques qui doivent être reconstruites.</li><li>DATA : une fois que l’état START a été envoyé, un ou plusieurs messages avec l’état DATA peuvent être envoyés au broker RRD.</li><li>END : lorsque tous les évènements de reconstruction ont été envoyés, celui-ci est envoyé pour clôturer les reconstructions. Et le broker RRD revient à un état nominal.</li></ul><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a> est le suivant :</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message Point {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int64 ctime = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  double value = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message Timeserie {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  repeated Point pts = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int32 data_source_type = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 check_interval = 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 rrd_retention = 4;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message RebuildMessage {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  enum State {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    START = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DATA = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    END = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  State state = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /* Only used on DATA state */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  map&lt;uint64, Timeserie&gt; timeserie = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /* Only used on START/END state */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  repeated uint64 metric_id = 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="remove-graph-message">Remove Graph Message<a href="#remove-graph-message" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est compris dans BBDO 3. Lorsque nous voulons supprimer des fichiers graphiques, nous pouvons utiliser l’API gRPC de centengine et cet appel fait en sorte que cbd génère un <strong>Pb Remove Graph Message</strong>. Deux possibilités sont combinées dans cet évènement. Nous pouvons supprimer les graphiques correspondant à certaines données d’index ou les graphiques correspondant à certaines données métriques. Il est également possible de combiner les deux types.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Non disponible en BBDO v2.</p><p>Voir <a href="#storageremovegraph">Storage::RemoveGraph</a></p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="storagepbremovegraphmessage">Storage::PbRemoveGraphMessage<a href="#storagepbremovegraphmessage" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>3</td><td>8</td><td>196616</td></tr></tbody></table><p>Voici la définition de cet évènement <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">protobuf</a> :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message RemoveGraphMessage </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  repeated uint64 index_ids </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  repeated uint64 metric_ids </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bbdo">BBDO<a href="#bbdo" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="version-response">Version response<a href="#version-response" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Voici le message de négociation utilisé jusqu&#x27;à la version BBDO v3.0.0.
Chaque fois qu&#x27;une connexion BBDO est établie, chaque interlocuteur envoie
ce message pour négocier les options à activer.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bbdoversionresponse">BBDO::VersionResponse<a href="#bbdoversionresponse" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>2</td><td>1</td><td>131073</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>bbdo<!-- -->_<!-- -->major</td><td>entier court</td><td>La version majeure du protocole BBDO utilisée par le pair qui envoie ce paquet <strong>version_response</strong>. La seule version actuelle du protocole est la 1.0.0.</td></tr><tr><td>bbdo<!-- -->_<!-- -->minor</td><td>entier court</td><td>La version mineure du protocole BBDO utilisée par le pair qui envoie ce paquet <strong>version_response</strong>.</td></tr><tr><td>bbdo<!-- -->_<!-- -->patch</td><td>entier court</td><td>Le correctif du protocole BBDO utilisé par le pair qui envoie ce paquet <strong>version_response</strong>.</td></tr><tr><td>extensions</td><td>chaîne</td><td>Chaîne séparée par des espaces des extensions prises en charge par le pair qui envoie ce paquet <strong>version_response</strong>.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>L&#x27;événement est le même qu&#x27;en BBDO v2. Il n&#x27;y a pas d&#x27;évènement Protobuf.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ack">Ack<a href="#ack" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Généralement, un <strong>envoyeur BBDO</strong> envoie des événements tandis qu&#x27;un
<strong>récepteur BBDO</strong> reçoit des événements. Ceci dit, il envoie quelques évènements
comme le <strong>Ack</strong>.</p><p>Le principe est le suivant : l&#x27;envoyeur garde en mémoire tous les évènements qu&#x27;il
envoie au récepteur. Et lorsque le récepteur a terminé d&#x27;en traiter un lot, il
envoie un <strong>Ack</strong> avec le nombre d&#x27;évènements qu&#x27;il a traité. L&#x27;envoyeur peut
alors les jeter.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bbdoack">BBDO::Ack<a href="#bbdoack" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>2</td><td>2</td><td>131074</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>acknowledged events</td><td>entier non signé</td><td>Nombre d’évènements acquittés. Utilisé uniquement par les clients « intelligents » (c’est-à-dire capables d’acquitter des évènements). Ne doit pas être utilisé par des clients non intelligents.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nebpback">NEB::PbAck<a href="#nebpback" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>2</td><td>8</td><td>131080</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf, ainsi ses éléments ne sont pas sérialisés
comme en BBDO v2 mais en utilisant le mécanisme de sérialisation de Protobuf 3.
Quand BBDO v3 est actif, il ne devrait plus y avoir d&#x27;évènements <strong>NEB::Ack</strong>
émis mais plutôt des <strong>NEB::PbAck</strong>.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a>
est le suivant:</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message Ack </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  uint32 acknowledged_events </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Le nombre d&#x27;évènements à acquitter.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stop">Stop<a href="#stop" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Quand un côté d&#x27;une connexion BBDO va s&#x27;éteindre, il émet un événement <strong>Stop</strong>
afin que l&#x27;autre côté puisse, si possible, lui envoyer un <strong>Ack</strong> permettant de
jeter les éventuels événements déjà traités.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bbdostop">BBDO::Stop<a href="#bbdostop" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>2</td><td>3</td><td>131075</td></tr></tbody></table><p>Le contenu de ce message est vide.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bbdopbstop">BBDO::PbStop<a href="#bbdopbstop" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>2</td><td>9</td><td>131081</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf ainsi ses éléments ne sont pas sérialisés
comme en BBDO v2 mais plutôt en utilisant le mécanisme de sérialisation de Protobuf.
Quand BBDO v3 est actif, on ne devrait plus voir de <strong>BBDO::Stop</strong> émis mais plutôt
des <strong>BBDO::PbStop</strong>.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a>
est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message Stop </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bam">BAM<a href="#bam" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ba-status-event">BA status event<a href="#ba-status-event" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est envoyé lorsque le statut d’une BA a changé.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bambastatus">BAM::BaStatus<a href="#bambastatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>1</td><td>393217</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit:</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>ba<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’id de la BA.</td></tr><tr><td>in<!-- -->_<!-- -->downtime</td><td>booléen</td><td>True si la BA est en temps d’arrêt.</td></tr><tr><td>last<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>temps</td><td>L’heure du dernier changement d’état de la BA.</td></tr><tr><td>level<!-- -->_<!-- -->acknowledgement</td><td>réel</td><td>Le niveau d’acquittement de la BA.</td></tr><tr><td>level<!-- -->_<!-- -->downtime</td><td>réel</td><td>Le niveau de temps d’arrêt de la BA.</td></tr><tr><td>level<!-- -->_<!-- -->nominal</td><td>réel</td><td>Le niveau nominal de la BA.</td></tr><tr><td>state</td><td>entier court</td><td>L’état de la BA.</td></tr><tr><td>state<!-- -->_<!-- -->changed</td><td>booléen</td><td>True si l’état de la BA vient de changer.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bampbbastatus">BAM::PbBaStatus<a href="#bampbbastatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>19</td><td>393235</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf ainsi ses éléments ne sont pas sérialisé
comme avec BBDO v2 mais plutôt en utilisant le mécanisme de sérialisation de
Protobuf. Quand BBDO v3 est actif, les évènements <strong>BAM::BaStatus</strong> devraient
être remplacés par les évènements <strong>BAM::PbBaStatus</strong>.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a>
est le suivant:</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">State</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OK </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WARNING </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CRITICAL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UNKNOWN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message BaStatus </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 ba_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> in_downtime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Vrai si la BA est en downtime.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64 last_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier changement d&#x27;état de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> level_acknowledgement </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Niveau d&#x27;acquittement de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> level_downtime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Niveau de downtime de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> level_nominal </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Niveau nominal de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    State state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// État de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> state_changed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Vrai si l&#x27;état de la BA vient juste de changer.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kpi-status-event">KPI status event<a href="#kpi-status-event" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est envoyé lorsque le statut d’un KPI a changé.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bamkpistatus">BAM::KpiStatus<a href="#bamkpistatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>2</td><td>393218</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit:</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>kpi<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID du KPI.</td></tr><tr><td>in<!-- -->_<!-- -->downtime</td><td>bool</td><td>True si le KPI est en temps d’arrêt.</td></tr><tr><td>level<!-- -->_<!-- -->acknowledgement<!-- -->_<!-- -->hard</td><td>réel</td><td>Le niveau d’acquittement hard du KPI.</td></tr><tr><td>level<!-- -->_<!-- -->acknowledgement<!-- -->_<!-- -->soft</td><td>réel</td><td>Le niveau d’acquittement soft du KPI.</td></tr><tr><td>level<!-- -->_<!-- -->downtime<!-- -->_<!-- -->hard</td><td>réel</td><td>Le niveau de temps d’arrêt hard du KPI.</td></tr><tr><td>level<!-- -->_<!-- -->downtime<!-- -->_<!-- -->soft</td><td>réel</td><td>Le niveau de temps d’arrêt soft du KPI.</td></tr><tr><td>level<!-- -->_<!-- -->nominal<!-- -->_<!-- -->hard</td><td>réel</td><td>Le niveau nominal hard du KPI.</td></tr><tr><td>level<!-- -->_<!-- -->nominal<!-- -->_<!-- -->soft</td><td>réel</td><td>Le niveau nominal soft du KPI.</td></tr><tr><td>state<!-- -->_<!-- -->hard</td><td>entier court</td><td>L’état hard du KPI.</td></tr><tr><td>state<!-- -->_<!-- -->soft</td><td>entier court</td><td>L’état soft du KPI.</td></tr><tr><td>last<!-- -->_<!-- -->state<!-- -->_<!-- -->change</td><td>temps</td><td>L’heure du dernier changement d’état du KPI.</td></tr><tr><td>last<!-- -->_<!-- -->impact</td><td>réel</td><td>Le dernier impact du KPI.</td></tr><tr><td>valid</td><td>bool</td><td>True si le KPI est valide.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bampbkpistatus">BAM::PbKpiStatus<a href="#bampbkpistatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>27</td><td>393243</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf ainsi ses éléments ne sont pas sérialisés
comme en BBDO v2 mais en utlisant le mécanisme de sérialisation de Protobuf.
Quand BBDO v3 est actif, les évènements <strong>BAM::KpiStatus</strong> ne sont plus envoyés
et sont remplacés par des évènements <strong>BAM::PbKpiStatus</strong>.</p><p>The <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">protobuf message</a>
is the following:</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">State</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OK </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WARNING </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CRITICAL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UNKNOWN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message KpiStatus </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 kpi_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                      </span><span class="token comment" style="color:#999988;font-style:italic">// ID du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> in_downtime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// Vrai si le KPI est en downtime.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> level_acknowledgement_hard </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Niveau hard d&#x27;acquittement du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> level_acknowledgement_soft </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Niveau soft d&#x27;acquittement du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> level_downtime_hard </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Niveau hard du downtime du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> level_downtime_soft </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Niveau soft du downtime du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> level_nominal_hard </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Niveau nominal hard du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> level_nominal_soft </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Niveau nominal soft du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    State state_hard </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// État hard du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    State state_soft </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// État soft du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int64 last_state_change </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du dernier changement d&#x27;état du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> last_impact </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Dernier impact du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> valid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                        </span><span class="token comment" style="color:#999988;font-style:italic">// Vrai si le KPI est valide.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="meta-service-status-event">Meta service status event<a href="#meta-service-status-event" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement a été créé pour envoyer les changements d&#x27;état d&#x27;un méta-service.</p><p>Actuellement, les méta-services n&#x27;étant pas gérés par Centreon Broker, cet
évènement n&#x27;est pas utilisé.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bammetaservicestatus">BAM::MetaServiceStatus<a href="#bammetaservicestatus" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>3</td><td>393219</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>meta<!-- -->_<!-- -->service<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID du méta-service.</td></tr><tr><td>value</td><td>réel</td><td>La valeur du méta-service.</td></tr><tr><td>state<!-- -->_<!-- -->changed</td><td>booléen</td><td>True si l’état vient de changer.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Il n&#x27;y a pas d&#x27;évènement Protobuf.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ba-event-event">BA-event event<a href="#ba-event-event" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est envoyé lorsqu’un nouvel évènement BA est ouvert, ou qu’un ancien est fermé.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bambaevent">BAM::BaEvent<a href="#bambaevent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>4</td><td>393220</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>ba<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de la BA.</td></tr><tr><td>first<!-- -->_<!-- -->level</td><td>réel</td><td>Le premier niveau de l’évènement BA.</td></tr><tr><td>end<!-- -->_<!-- -->time</td><td>temps</td><td>L’heure de fin de l’évènement. 0 ou (temps)-1 pour un évènement ouvert.</td></tr><tr><td>in<!-- -->_<!-- -->downtime</td><td>booléen</td><td>True si BA était en arrêt pendant l’évènement BA.</td></tr><tr><td>start<!-- -->_<!-- -->time</td><td>temps</td><td>L’heure de début de l’évènement.</td></tr><tr><td>status</td><td>entier court</td><td>Le statut de la BA pendant l’évènement.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bampbbaevent">BAM::PbBaEvent<a href="#bampbbaevent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>20</td><td>393236</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf ainsi ses éléments ne sont pas sérialisés
comment en BBDO v2 mais en utilisant le mécanisme de sérialisation Protobuf.
Quand BBDO v3 est actif, les événements <strong>BAM::BaEvent</strong> ne devraient plus être
envoyés et sont remplacés par des <strong>BAM::PbBaEvent</strong>.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a>
est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">State</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OK </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WARNING </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CRITICAL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UNKNOWN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message BaEvent </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 ba_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> first_level </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Premier niveau de l&#x27;évènement BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int64 end_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Le timestamp de fin de l&#x27;évènement. 0 ou -1 si l&#x27;évènement est ouvert.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> in_downtime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// Vrai si la BA est en downtime.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64 start_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de démarrage de l&#x27;évènement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    State status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// L&#x27;état de la BA sur cet évènement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kpi-event">KPI Event<a href="#kpi-event" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est envoyé lorsqu’un nouvel évènement KPI est ouvert, ou qu’un ancien est fermé.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bamkpievent">BAM::KpiEvent<a href="#bamkpievent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>5</td><td>393221</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>kpi<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID du KPI.</td></tr><tr><td>end<!-- -->_<!-- -->time</td><td>temps</td><td>L’heure de fin de l’évènement. 0 ou (temps)-1 pour un évènement ouvert.</td></tr><tr><td>impact<!-- -->_<!-- -->level</td><td>entier</td><td>Le niveau de l’impact.</td></tr><tr><td>in<!-- -->_<!-- -->downtime</td><td>booléen</td><td>True si BA était en arrêt pendant l’évènement BA.</td></tr><tr><td>first<!-- -->_<!-- -->output</td><td>chaîne</td><td>Le premier output du KPI pendant l’évènement.</td></tr><tr><td>perfdata</td><td>chaîne</td><td>La première perfdata du KPI pendant l’évènement.</td></tr><tr><td>start<!-- -->_<!-- -->time</td><td>temps</td><td>L’heure de début de l’évènement.</td></tr><tr><td>status</td><td>entier court</td><td>Le statut de la BA pendant l’évènement.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bampbkpievent">BAM::PbKpiEvent<a href="#bampbkpievent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>21</td><td>393237</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf ainsi ses éléments ne sont pas sérialisés
comme en BBDO v2 mais en utilisant le mécanisme de sérialisation Protobuf.
Quand BBDO v3 est actif, les évènements <strong>BAM::KpiEvent</strong> devraient être
remplacés par des <strong>BAM::PbKpiEvent</strong>.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a>
est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">State</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OK </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WARNING </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CRITICAL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UNKNOWN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message KpiEvent </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 ba_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64 start_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de démarrage de l&#x27;évènement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int64 end_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de fin de l&#x27;évènement. 0 ou -1 pour un évènement encore ouvert.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 kpi_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// ID du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int32  impact_level </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Niveau de l&#x27;impact.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> in_downtime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// Vrai si la BA est en downtime sur l&#x27;évènement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string output </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Premier output du KPI sur l&#x27;évènement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string perfdata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Premières données de performance du KPI sur l&#x27;évènement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    State status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// État de la BA sur l&#x27;évènement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ba-duration-event-event">BA duration event event<a href="#ba-duration-event-event" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est envoyé lorsqu’un nouvel évènement de durée BA est calculé par le broker BAM.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bambadurationevent">BAM::BaDurationEvent<a href="#bambadurationevent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>6</td><td>393222</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>ba<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de la BA.</td></tr><tr><td>real<!-- -->_<!-- -->start<!-- -->_<!-- -->time</td><td>temps</td><td>Le premier niveau de l’évènement BA.</td></tr><tr><td>end<!-- -->_<!-- -->time</td><td>temps</td><td>L’heure de fin de l’évènement, dans la période de temps donnée.</td></tr><tr><td>start<!-- -->_<!-- -->time</td><td>temps</td><td>L’heure de début de l’évènement, dans la période de temps donnée.</td></tr><tr><td>duration</td><td>entier non signé</td><td>end<!-- -->_<!-- -->time - start<!-- -->_<!-- -->time.</td></tr><tr><td>sla<!-- -->_<!-- -->duration</td><td>entier non signé</td><td>La durée de l’évènement dans la période de temps donnée.</td></tr><tr><td>timeperiod<!-- -->_<!-- -->is<!-- -->_<!-- -->default</td><td>booléen</td><td>True si la période de temps est la valeur par défaut pour cette BA.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bampbbadurationevent">BAM::PbBaDurationEvent<a href="#bampbbadurationevent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>28</td><td>393244</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf ainsi les éléments ne sont pas sérialisés
comme en BBDO v2 mais en utilisant le mécanisme de sérialisation Protobuf.
Quand BBDO v3 est actif, les évènements <strong>BAM::BaDurationEvent</strong> devraient être
remplacés par des <strong>BAM::PbBaDurationEvent</strong>.</p><p>The <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">protobuf message</a>
is the following:</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message BaDurationEvent </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 ba_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int64 real_start_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp du départ effectif de l&#x27;évènement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int64 end_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de fin de l&#x27;évènement. 0 ou -1 si l&#x27;évènement est encore ouvert.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int64 start_time </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Timestamp de création de l&#x27;évènement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 duration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Durée en secondes de l&#x27;évènement.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 sla_duration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Durée en secondes de l&#x27;évènement dans la timeperiod en cours.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 timeperiod_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la timeperiod.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> timeperiod_is_default </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Vrai si la timeperiod est celle par défaut pour cette BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dimension-ba">Dimension BA<a href="#dimension-ba" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement fait partie du dump de dimension (c’est-à-dire, la configuration) qui se produit au démarrage et après chaque rechargement de la configuration BAM.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bamdimensionbaevent">BAM::DimensionBaEvent<a href="#bamdimensionbaevent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>7</td><td>393223</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>ba<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de la BA.</td></tr><tr><td>ba<!-- -->_<!-- -->name</td><td>chaîne</td><td>Le nom de la BA.</td></tr><tr><td>ba<!-- -->_<!-- -->description</td><td>chaîne</td><td>La description de la BA.</td></tr><tr><td>sla<!-- -->_<!-- -->month<!-- -->_<!-- -->percent<!-- -->_<!-- -->crit</td><td>réel</td><td></td></tr><tr><td>sla<!-- -->_<!-- -->month<!-- -->_<!-- -->percent<!-- -->_<!-- -->warn</td><td>réel</td><td></td></tr><tr><td>sla<!-- -->_<!-- -->month<!-- -->_<!-- -->duration<!-- -->_<!-- -->crit</td><td>entier non signé</td><td></td></tr><tr><td>sla<!-- -->_<!-- -->month<!-- -->_<!-- -->duration<!-- -->_<!-- -->warn</td><td>entier non signé</td><td></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bampbdimensionbaevent">BAM::PbDimensionBaEvent<a href="#bampbdimensionbaevent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>25</td><td>393241</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf ainsi ses éléments ne sont pas sérialisés
comme en BBDO v2 mais en utilisant le mécanisme de sérialisation Protobuf.
Quand BBDO v3 est actif, les messages <strong>BAM::DimensionBaEvent</strong> devraient
être remplacés par des <strong>BAM::PbDimensionBaEvent</strong>.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a>
est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message DimensionBaEvent </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 ba_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string ba_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string ba_description </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Description de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> sla_month_percent_crit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> sla_month_percent_warn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 sla_duration_crit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 sla_duration_warn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dimension-kpi">Dimension KPI<a href="#dimension-kpi" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement fait partie du dump de dimension (c’est-à-dire, la configuration) qui se produit au démarrage et après chaque rechargement de la configuration BAM.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bamdimensionkpievent">BAM::DimensionKpiEvent<a href="#bamdimensionkpievent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>8</td><td>393224</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>kpi<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID du KPI.</td></tr><tr><td>ba<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’identifiant de la BA parent de ce KPI.</td></tr><tr><td>ba<!-- -->_<!-- -->name</td><td>chaîne</td><td>Le nom de la BA parent de ce KPI.</td></tr><tr><td>host<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de l’hôte associé à ce KPI pour le KPI de service.</td></tr><tr><td>host<!-- -->_<!-- -->name</td><td>chaîne</td><td>Le nom de l’hôte associé à ce KPI pour le KPI de service.</td></tr><tr><td>service<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID du service associé à ce KPI pour le KPI de service.</td></tr><tr><td>service<!-- -->_<!-- -->description</td><td>chaîne</td><td>La description du service associé à ce KPI pour le KPI de service.</td></tr><tr><td>kpi<!-- -->_<!-- -->ba<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de la BA associée à ce KPI pour le KPI de BA.</td></tr><tr><td>kpi<!-- -->_<!-- -->ba<!-- -->_<!-- -->name</td><td>chaîne</td><td>Le nom de la BA associée à ce KPI pour le KPI de BA.</td></tr><tr><td>meta<!-- -->_<!-- -->service<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID du méta-service associé à ce KPI pour le KPI de méta-service.</td></tr><tr><td>meta<!-- -->_<!-- -->service<!-- -->_<!-- -->name</td><td>chaîne</td><td>Le nom du méta-service associé à ce KPI pour le KPI de méta-service.</td></tr><tr><td>boolean<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de l’expression booléenne associée à ce KPI pour le KPI booléen.</td></tr><tr><td>boolean<!-- -->_<!-- -->name</td><td>chaîne</td><td>Le nom de l’expression booléenne associée à ce KPI pour le KPI booléen.</td></tr><tr><td>impact<!-- -->_<!-- -->warning</td><td>réel</td><td>L’impact d’un état d’alerte pour ce KPI.</td></tr><tr><td>impact<!-- -->_<!-- -->critical</td><td>réel</td><td>L’impact d’un état critique pour ce KPI.</td></tr><tr><td>impact<!-- -->_<!-- -->unknown</td><td>réel</td><td>L’impact d’un état inconnu pour ce KPI.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bampbdimensionkpievent">BAM::PbDimensionKpiEvent<a href="#bampbdimensionkpievent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>26</td><td>393242</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf ainsi ses éléments ne sont pas sérialisés
comme en BBDO v2 mais en utilisant le mécanisme de sérialisation Protobuf.
Quand BBDO v3 est actif, les messages <strong>BAM::DimensionKpiEvent</strong> devraient
être remplacés par des <strong>BAM::PbDimensionKpiEvent</strong>.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a>
est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message DimensionKpiEvent </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 kpi_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">// ID du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 ba_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la BA parent du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string ba_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de la BA parent du KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 host_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// ID de l&#x27;hôte associé au KPI (KPI de type service)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string host_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de l&#x27;hôte associé au KPI (KPI de type service)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// ID du service associé au KPI (KPI de type service)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string service_description </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Description du service associé au KPI (KPI de type service)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 kpi_ba_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la BA associée au KPI (KPI de type BA)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string kpi_ba_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de la BA associée au KPI (KPI de type BA)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 meta_service_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// ID du méta-service associé au KPI (KPI de type méta-service)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string meta_service_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Nom du méta-service associé au KPI (KPI de type méta-service)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 boolean_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Id of the boolean expression associated with this KPI for boolean KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string boolean_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de l&#x27;expression booléenne associée au KPI (KPI de type booléen)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> impact_warning </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Impact d&#x27;un état warning pour le KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> impact_critical </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// Impact d&#x27;un état critique pour le KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> impact_unknown </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Impact d&#x27;un état inconnu pour le KPI.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dimension-ba-bv-relation">Dimension BA BV relation<a href="#dimension-ba-bv-relation" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement fait partie du dump de dimension (c’est-à-dire, la configuration) qui se produit au démarrage et après chaque rechargement de la configuration BAM.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>ba<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de la BA.</td></tr><tr><td>bv<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de la BV.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>ba<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de la BA.</td></tr><tr><td>bv<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de la BV.</td></tr></tbody></table></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dimension-bv">Dimension BV<a href="#dimension-bv" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement fait partie du dump de dimension (c’est-à-dire, la configuration) qui se produit au démarrage et après chaque rechargement de la configuration BAM.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bamdimensionbvevent">BAM::DimensionBvEvent<a href="#bamdimensionbvevent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>10</td><td>393226</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>bv<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de la BV.</td></tr><tr><td>bv<!-- -->_<!-- -->name</td><td>chaîne</td><td>Le nom de la BV.</td></tr><tr><td>bv<!-- -->_<!-- -->description</td><td>chaîne</td><td>La description de la BV.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bampbdimensionbvevent">BAM::PbDimensionBvEvent<a href="#bampbdimensionbvevent" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>22</td><td>393238</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf ainsi ses éléments ne sont pas sérialisés
comme en BBDO v2 mais en utilisant le mécanisme de sérialisation de Protobuf.
Quand BBDO v3 est actif, les évènements <strong>BAM::DimensionBvEvent</strong> devraient
être remplacés par des évènements <strong>BAM::PbDimentionBvEvent</strong>.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a>
est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message DimensionBvEvent </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 bv_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la BV.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string bv_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de la BV.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string bv_description </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Description de la BV.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dimension-truncate-table-signal">Dimension Truncate Table Signal<a href="#dimension-truncate-table-signal" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement fait partie du dump de dimension (c’est-à-dire, la configuration) qui se produit au démarrage et après chaque rechargement de la configuration BAM.</p><p>Ce signal est envoyé avant le dump de toutes les dimensions, et à nouveau à la fin du dump.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bamdimensiontruncatetablesignal">BAM::DimensionTruncateTableSignal<a href="#bamdimensiontruncatetablesignal" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>11</td><td>393228</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>update<!-- -->_<!-- -->started</td><td>booléen</td><td>True si c’est le début du dump, False si c’est la fin.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bampbdimensiontruncatetablesignal">BAM::PbDimensionTruncateTableSignal<a href="#bampbdimensiontruncatetablesignal" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>30</td><td>393246</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf ainsi ses éléments ne sont pas sérialisés
comme en BBDO v2 mais en utilisant le mécanisme de sérialisation de Protobuf.
Quand BBDO v3 est actif, les évènements <strong>BAM::DimensionTruncateTableSignal</strong>
devraient être remplacés par des évènements
<strong>BAM::PbDimensionTruncateTableSignal</strong>.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a>
est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message DimensionTruncateTableSignal </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> update_started </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Vrai pour signaler le départ du dump, faux pour la fin.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rebuild-signal">Rebuild signal<a href="#rebuild-signal" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement est envoyé lorsqu’une reconstruction des durées et des disponibilités des évènements est demandée au point de terminaison du broker BAM.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bamrebuild">BAM::Rebuild<a href="#bamrebuild" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>12</td><td>393228</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>bas<!-- -->_<!-- -->to<!-- -->_<!-- -->rebuild</td><td>chaîne</td><td>Une chaîne contenant les ID de toutes les BA à reconstruire, séparés par une virgule et un espace (par exemple « 1, 5, 8, 12 »).</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>L&#x27;évènement est le même qu&#x27;en BBDO v2. Il n&#x27;y a pas d&#x27;évènement Protobuf.</p></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dimension-timeperiod">Dimension timeperiod<a href="#dimension-timeperiod" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement fait partie du dump de dimension (c’est-à-dire, la configuration) qui se produit au démarrage et après chaque rechargement de la configuration BAM.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bamdimensiontimeperiod">BAM::DimensionTimeperiod<a href="#bamdimensiontimeperiod" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>13</td><td>393230</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>tp<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de la période de temps.</td></tr><tr><td>name</td><td>chaîne</td><td>Le nom de la période de temps.</td></tr><tr><td>monday</td><td>chaîne</td><td>La règle de la période de temps pour ce jour.</td></tr><tr><td>tuesday</td><td>chaîne</td><td>La règle de la période de temps pour ce jour.</td></tr><tr><td>wednesday</td><td>chaîne</td><td>La règle de la période de temps pour ce jour.</td></tr><tr><td>thursday</td><td>chaîne</td><td>La règle de la période de temps pour ce jour.</td></tr><tr><td>friday</td><td>chaîne</td><td>La règle de la période de temps pour ce jour.</td></tr><tr><td>saturday</td><td>chaîne</td><td>La règle de la période de temps pour ce jour.</td></tr><tr><td>sunday</td><td>chaîne</td><td>La règle de la période de temps pour ce jour.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bampbdimensiontimeperiod">BAM::PbDimensionTimeperiod<a href="#bampbdimensiontimeperiod" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>24</td><td>393240</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf ainsi ses éléments ne sont pas sérialisés
comme en BBDO v2 mais en utilisant le mécanisme de sérialisation de Protobuf.
Quand BBDO v3 est actif, les <strong>BAM::DimensionTimeperiod</strong> devraient être remplacés
par des <strong>BAM::PbDimensionTimeperiod</strong>.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a>
est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message DimensionTimeperiod </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la période de temps.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Nom de la période de temps.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string monday </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Règle de la période de temps pour ce jour.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string tuesday </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// Règle de la période de temps pour ce jour.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string wednesday </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Règle de la période de temps pour ce jour.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string thursday </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Règle de la période de temps pour ce jour.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string friday </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Règle de la période de temps pour ce jour.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string saturday </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Règle de la période de temps pour ce jour.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string sunday </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Règle de la période de temps pour ce jour.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dimension-ba-timeperiod-relation">Dimension BA timeperiod relation<a href="#dimension-ba-timeperiod-relation" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><p>Cet évènement fait partie du dump de dimension (c’est-à-dire, la configuration) qui se produit au démarrage et après chaque rechargement de la configuration BAM.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bamdimensionbatimeperiodrelation">BAM::DimensionBaTimeperiodRelation<a href="#bamdimensionbatimeperiodrelation" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>14</td><td>393231</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>ba<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de la BA.</td></tr><tr><td>timeperiod<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de la période de temps.</td></tr><tr><td>is<!-- -->_<!-- -->default</td><td>booléen</td><td>True si la période de temps est celle par défaut pour cette BA.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bampbdimensionbatimeperiodrelation">BAM::PbDimensionBaTimeperiodRelation<a href="#bampbdimensionbatimeperiodrelation" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>29</td><td>393245</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf ainsi ses éléments ne sont pas sérialisés
comme en BBDO v2 mais en utilisant le mécanisme de sérialisation de Protobuf.
Quand BBDO v3 est actif, les <strong>BAM::DimensionBaTimeperiodRelation</strong> devraient être remplacés
par des <strong>BAM::PbDimensionBaTimeperiodRelation</strong>.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a>
est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message DimensionBaTimeperiodRelation </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 ba_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 timeperiod_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la période de temps.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> is_default </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Vrai si la période de temps est celle par défaut de cette BA.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="inherited-downtime">Inherited downtime<a href="#inherited-downtime" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h3><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">BBDO v2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BBDO v3</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="baminheriteddowntime">BAM::InheritedDowntime<a href="#baminheriteddowntime" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>17</td><td>393233</td></tr></tbody></table><p>Le contenu de ce message est sérialisé comme suit :</p><table><thead><tr><th>Propriété</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>bad<!-- -->_<!-- -->id</td><td>entier non signé</td><td>L’ID de la BA en temps d’arrêt.</td></tr><tr><td>in<!-- -->_<!-- -->downtime</td><td>booléen</td><td>True si la BA est en temps d’arrêt.</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bampbinheriteddowntime">BAM::PbInheritedDowntime<a href="#bampbinheriteddowntime" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">​</a></h4><table><thead><tr><th>Catégorie</th><th>élément</th><th>ID</th></tr></thead><tbody><tr><td>6</td><td>18</td><td>393234</td></tr></tbody></table><p>Cet évènement est un évènement Protobuf ainsi ses éléments ne sont pas sérialisés
comme en BBDO v2 mais en utilisant le mécanisme de sérialisation de Protobuf.
Quand BBDO v3 est actif, les <strong>BAM::InheritedDowntime</strong> devraient être remplacés
par des <strong>BAM::PbInheritedDowntime</strong>.</p><p>Le <a href="https://developers.google.com/protocol-buffers/docs/proto3" target="_blank" rel="noopener noreferrer">message protobuf</a>
est le suivant :</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message BBDOHeader </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 conf_version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message InheritedDowntime </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BBDOHeader header </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32 ba_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// ID de la BA concernée par le downtime.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> in_downtime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Vrai si la BA est en downtime.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs/version-23.10/developer/developer-broker-mapping.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Éditer cette page</a></div><div class="col"><svg id="feedback" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" xml:space="preserve" fill="none" style="height:24px;width:24px;vertical-align:text-top;margin-right:4px"><rect y="0" class="st0" width="24" height="24"></rect><rect x="2" y="2" class="st0" width="20" height="20"></rect><path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M16.14,9.08c0,3.09-2.76,5.6-6.16,5.6c-1.11,0-5.45,0-5.45,0s1.36-1.38,0.93-1.79c-1.02-1-1.64-2.34-1.64-3.81 c0-3.09,2.76-5.6,6.16-5.6S16.14,5.99,16.14,9.08z"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" d="M8.61,16.28c0.76,2.31,3.12,4,5.91,4c1.11,0,5.45,0,5.45,0s-1.36-1.38-0.93-1.79c1.02-1,1.64-2.34,1.64-3.81 c0-2-1.15-3.75-2.88-4.74"></path><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="6.86" x2="13.55" y2="6.86"></line><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="8.74" x2="13.55" y2="8.74"></line><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="10.62" x2="13.55" y2="10.62"></line></svg><a rel="noreferrer noopener" href="https://docs.google.com/forms/d/e/1FAIpQLSdeKkEHWbxn4ZweR1M4OEMzP_QoqKmjl6t4iC_yKeX2CFjzAw/viewform?usp=pp_url&amp;entry.371845164=docs.centreon.com/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-broker-mapping/" target="_blank">Envoyer du feedback sur cette page</a></div><div class="col lastUpdated_VsjB"><span class="theme-last-updated">Dernière mise à jour<!-- --> le <b><time datetime="2023-11-10T16:19:10.000Z">10 nov. 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pagination des documents"><a class="pagination-nav__link pagination-nav__link--prev" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-broker-bbdo/"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">Le protocole BBDO</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/centreon-documentation/pr-preview/staging/pr-2756/fr/docs/developer/developer-gorgone-client-server-communication/"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">Gérer la communication client/serveur</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#neb" class="table-of-contents__link toc-highlight">NEB</a><ul><li><a href="#acknowledgement" class="table-of-contents__link toc-highlight">Acknowledgement</a></li><li><a href="#comment" class="table-of-contents__link toc-highlight">Comment</a></li><li><a href="#custom-variable" class="table-of-contents__link toc-highlight">Custom variable</a></li><li><a href="#custom-variable-status" class="table-of-contents__link toc-highlight">Custom variable status</a></li><li><a href="#downtime" class="table-of-contents__link toc-highlight">Downtime</a></li><li><a href="#event-handler" class="table-of-contents__link toc-highlight">Event handler</a></li><li><a href="#flapping-status" class="table-of-contents__link toc-highlight">Flapping status</a></li><li><a href="#tag" class="table-of-contents__link toc-highlight">Tag</a></li><li><a href="#host" class="table-of-contents__link toc-highlight">Host</a></li><li><a href="#host-check" class="table-of-contents__link toc-highlight">Host check</a></li><li><a href="#host-dependency" class="table-of-contents__link toc-highlight">Host dependency</a></li><li><a href="#host-group" class="table-of-contents__link toc-highlight">Host group</a></li><li><a href="#host-group-member" class="table-of-contents__link toc-highlight">Host group member</a></li><li><a href="#host-parent" class="table-of-contents__link toc-highlight">Host parent</a></li><li><a href="#host-status" class="table-of-contents__link toc-highlight">Host status</a></li><li><a href="#instance" class="table-of-contents__link toc-highlight">Instance</a></li><li><a href="#instance-status" class="table-of-contents__link toc-highlight">Instance status</a></li><li><a href="#log-entry" class="table-of-contents__link toc-highlight">Log entry</a></li><li><a href="#module" class="table-of-contents__link toc-highlight">Module</a></li><li><a href="#service" class="table-of-contents__link toc-highlight">Service</a></li><li><a href="#service-check" class="table-of-contents__link toc-highlight">Service check</a></li><li><a href="#service-dependency" class="table-of-contents__link toc-highlight">Service dependency</a></li><li><a href="#service-group" class="table-of-contents__link toc-highlight">Service group</a></li><li><a href="#service-group-member" class="table-of-contents__link toc-highlight">Service group member</a></li><li><a href="#service-status" class="table-of-contents__link toc-highlight">Service status</a></li><li><a href="#instance-configuration" class="table-of-contents__link toc-highlight">Instance configuration</a></li><li><a href="#responsive-instance" class="table-of-contents__link toc-highlight">Responsive instance</a></li><li><a href="#adaptive-service" class="table-of-contents__link toc-highlight">Adaptive service</a></li><li><a href="#adaptive-host" class="table-of-contents__link toc-highlight">Adaptive host</a></li><li><a href="#severity" class="table-of-contents__link toc-highlight">Severity</a></li></ul></li><li><a href="#storage" class="table-of-contents__link toc-highlight">Storage</a><ul><li><a href="#metric" class="table-of-contents__link toc-highlight">Metric</a></li><li><a href="#rebuild" class="table-of-contents__link toc-highlight">Rebuild</a></li><li><a href="#remove-graph" class="table-of-contents__link toc-highlight">Remove graph</a></li><li><a href="#status" class="table-of-contents__link toc-highlight">Status</a></li><li><a href="#metric-mapping" class="table-of-contents__link toc-highlight">Metric mapping</a></li><li><a href="#index-mapping" class="table-of-contents__link toc-highlight">Index mapping</a></li><li><a href="#rebuild-message" class="table-of-contents__link toc-highlight">Rebuild Message</a></li><li><a href="#remove-graph-message" class="table-of-contents__link toc-highlight">Remove Graph Message</a></li></ul></li><li><a href="#bbdo" class="table-of-contents__link toc-highlight">BBDO</a><ul><li><a href="#version-response" class="table-of-contents__link toc-highlight">Version response</a></li><li><a href="#ack" class="table-of-contents__link toc-highlight">Ack</a></li><li><a href="#stop" class="table-of-contents__link toc-highlight">Stop</a></li></ul></li><li><a href="#bam" class="table-of-contents__link toc-highlight">BAM</a><ul><li><a href="#ba-status-event" class="table-of-contents__link toc-highlight">BA status event</a></li><li><a href="#kpi-status-event" class="table-of-contents__link toc-highlight">KPI status event</a></li><li><a href="#meta-service-status-event" class="table-of-contents__link toc-highlight">Meta service status event</a></li><li><a href="#ba-event-event" class="table-of-contents__link toc-highlight">BA-event event</a></li><li><a href="#kpi-event" class="table-of-contents__link toc-highlight">KPI Event</a></li><li><a href="#ba-duration-event-event" class="table-of-contents__link toc-highlight">BA duration event event</a></li><li><a href="#dimension-ba" class="table-of-contents__link toc-highlight">Dimension BA</a></li><li><a href="#dimension-kpi" class="table-of-contents__link toc-highlight">Dimension KPI</a></li><li><a href="#dimension-ba-bv-relation" class="table-of-contents__link toc-highlight">Dimension BA BV relation</a></li><li><a href="#dimension-bv" class="table-of-contents__link toc-highlight">Dimension BV</a></li><li><a href="#dimension-truncate-table-signal" class="table-of-contents__link toc-highlight">Dimension Truncate Table Signal</a></li><li><a href="#rebuild-signal" class="table-of-contents__link toc-highlight">Rebuild signal</a></li><li><a href="#dimension-timeperiod" class="table-of-contents__link toc-highlight">Dimension timeperiod</a></li><li><a href="#dimension-ba-timeperiod-relation" class="table-of-contents__link toc-highlight">Dimension BA timeperiod relation</a></li><li><a href="#inherited-downtime" class="table-of-contents__link toc-highlight">Inherited downtime</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.centreon.com/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Site Corporate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.centreon.com/en/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://download.centreon.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Download<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/centreon-documentation/pr-preview/staging/pr-2756/fr/img/logo_centreon.png" alt="Centreon Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/centreon-documentation/pr-preview/staging/pr-2756/fr/img/logo_centreon.png" alt="Centreon Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2005 - 2023 Centreon</div></div></div></footer></div>
<script src="/centreon-documentation/pr-preview/staging/pr-2756/fr/assets/js/runtime~main.23100e02.js"></script>
<script src="/centreon-documentation/pr-preview/staging/pr-2756/fr/assets/js/main.42ea2a6f.js"></script>
</body>
</html>