"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[39583],{79063:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>u,default:()=>N,frontMatter:()=>p,metadata:()=>d,toc:()=>c});a(67294);var r=a(3905),n=a(51715),l=a(7626);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}const p={id:"hardware-storage-nimble-restapi",title:"Nimble Storage Rest API"},u=void 0,d={unversionedId:"integrations/plugin-packs/procedures/hardware-storage-nimble-restapi",id:"integrations/plugin-packs/procedures/hardware-storage-nimble-restapi",title:"Nimble Storage Rest API",description:"Vue d'ensemble",source:"@site/i18n/fr/docusaurus-plugin-content-docs-pp/current/integrations/plugin-packs/procedures/hardware-storage-nimble-restapi.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/hardware-storage-nimble-restapi",permalink:"/centreon-documentation/pr-preview/staging/pr-2756/fr/pp/integrations/plugin-packs/procedures/hardware-storage-nimble-restapi",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs-pp/current/integrations/plugin-packs/procedures/hardware-storage-nimble-restapi.md",tags:[],version:"current",frontMatter:{id:"hardware-storage-nimble-restapi",title:"Nimble Storage Rest API"},sidebar:"pp",previous:{title:"Nimble Storage",permalink:"/centreon-documentation/pr-preview/staging/pr-2756/fr/pp/integrations/plugin-packs/procedures/hardware-storage-nimble-snmp"},next:{title:"Oracle ZFS",permalink:"/centreon-documentation/pr-preview/staging/pr-2756/fr/pp/integrations/plugin-packs/procedures/hardware-storage-oracle-zfs-snmp"}},m={},c=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Contenu du connecteur de supervision",id:"contenu-du-connecteur-de-supervision",level:2},{value:"Objets supervis\xe9s",id:"objets-supervis\xe9s",level:3},{value:"Services disponibles",id:"services-disponibles",level:3},{value:"M\xe9triques collect\xe9es",id:"m\xe9triques-collect\xe9es",level:3},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Configuration de la Nimble Rest API",id:"configuration-de-la-nimble-rest-api",level:3},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"Que signifient les messages d&#39;erreur suivants:",id:"que-signifient-les-messages-derreur-suivants",level:3},{value:"<code>UNKNOWN: 501 Protocol scheme &#39;connect&#39; is not supported |</code>",id:"unknown-501-protocol-scheme-connect-is-not-supported-",level:4},{value:"<code>UNKNOWN: Cannot load module &#39;Net::Curl::Easy&#39;</code>",id:"unknown-cannot-load-module-netcurleasy",level:4}],k={toc:c},g="wrapper";function N(e){var{components:t}=e,a=o(e,["components"]);return(0,r.kt)(g,s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(t){i(e,t,a[t])}))}return e}({},k,a),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"vue-densemble"},"Vue d'ensemble"),(0,r.kt)("p",null,"HPE Nimble Storage est une technologie de solutions de stockage de donn\xe9es sur des baies Flash dont le si\xe8ge est bas\xe9 \xe0 San Jos\xe9 en Californie. C'est une entit\xe9 de Hewlett Packard Enterprise. "),(0,r.kt)("p",null,"Nimble Storage produit des solutions mat\xe9rielles et logicielles pour le stockage de donn\xe9es en utilisant les protocoles\niSCSI et Fiber Channel. Des solutions de sauvegarde et de protection de donn\xe9es sont \xe9galement disponibles."),(0,r.kt)("h2",{id:"contenu-du-connecteur-de-supervision"},"Contenu du connecteur de supervision"),(0,r.kt)("h3",{id:"objets-supervis\xe9s"},"Objets supervis\xe9s"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Nimble Flash Arrays (NimbleOS >=2.3.x)")),(0,r.kt)("h3",{id:"services-disponibles"},"Services disponibles"),(0,r.kt)("p",null,"Le connecteur de supervision Nimble SNMP offre les Services suivants:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Arrays"),(0,r.kt)("li",{parentName:"ul"},"Hardware"),(0,r.kt)("li",{parentName:"ul"},"Volumes")),(0,r.kt)("h3",{id:"m\xe9triques-collect\xe9es"},"M\xe9triques collect\xe9es"),(0,r.kt)(n.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"Arrays",label:"Arrays",mdxType:"TabItem"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description (per array )"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"status"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Array status"),(0,r.kt)("td",{parentName:"tr",align:"left"},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"array.space.usage.bytes"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Used space"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Bytes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"array.space.usage.percentage"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Used space"),(0,r.kt)("td",{parentName:"tr",align:"left"},"%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"array.space.free.bytes"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Free space"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Bytes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"array.snapshots.compression.rate.count"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Snapshot compression ratio"),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"array.snapshots.reduction.rate.count"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Snapshot reduction ratio"),(0,r.kt)("td",{parentName:"tr",align:"left"}))))),(0,r.kt)(l.Z,{value:"Hardware",label:"Hardware",mdxType:"TabItem"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Component name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description (per array )"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Disk"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Disk & RAID state"),(0,r.kt)("td",{parentName:"tr",align:"left"},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Fan"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Fan state & speed"),(0,r.kt)("td",{parentName:"tr",align:"left"},"rpm")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Power Supply"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Power Supply state"),(0,r.kt)("td",{parentName:"tr",align:"left"},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Temperature"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Temperature state"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\xb0C"))))),(0,r.kt)(l.Z,{value:"Volumes",label:"Volumes",mdxType:"TabItem"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Metric name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description (per volume)"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Unit"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"status"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Volume status"),(0,r.kt)("td",{parentName:"tr",align:"left"},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"volume.space.usage.bytes"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Space usage"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Bytes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"volume.io.read.usage.bytespersecond"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Read I/O volume"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Bytes/s")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"volume.io.write.usage.bytespersecond"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Write I/O volume"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Bytes/s")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"volume.io.read.usage.iops"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Read IOPS count"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Iops")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"volume.io.write.usage.iops"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Write IOPS count"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Iops")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"volume.io.read.latency.milliseconds"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Read latency"),(0,r.kt)("td",{parentName:"tr",align:"left"},"ms")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"volume.io.write.latency.milliseconds"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Write latency"),(0,r.kt)("td",{parentName:"tr",align:"left"},"ms")))))),(0,r.kt)("h2",{id:"pr\xe9requis"},"Pr\xe9requis"),(0,r.kt)("h3",{id:"configuration-de-la-nimble-rest-api"},"Configuration de la Nimble Rest API"),(0,r.kt)("p",null,"L'\xe9quipement Nimble doit \xeatre joignable sur les ports HTTP TCP/80 ou HTTPS TCP/443. "),(0,r.kt)("p",null,"Pour valider sa configuration et son fonctionnement, reportez vous \xe0 la documentation officielle: "),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://infosight.hpe.com/InfoSight/media/cms/active/public/pubs_REST_API_Reference_NOS_51x.whz/jun1455055569904"},"https://infosight.hpe.com/InfoSight/media/cms/active/public/pubs_REST_API_Reference_NOS_51x.whz/jun1455055569904")),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)(n.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Installer le Plugin sur chaque Collecteur Centreon devant superviser des \xe9quipements Nimble:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yum install centreon-pack-hardware-storage-nimble-restapi.noarch\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Sur l'interface Web de Centreon, rendez-vous sur la page ",(0,r.kt)("strong",{parentName:"li"},"Configuration > Gestionnaire de connecteurs de supervision")," et installer le connecteur de supervision ",(0,r.kt)("em",{parentName:"li"},"Nimble Rest API")))),(0,r.kt)(l.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Installer le Plugin sur chaque Collecteur Centreon devant superviser des \xe9quipements Nimble:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yum install centreon-plugin-Hardware-Storage-Nimble-Restapi.noarch\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Installer le RPM du connecteur de supervision sur le serveur Centreon Central:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yum install centreon-pack-hardware-storage-nimble-restapi.noarch\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Sur l'interface Web de Centreon, rendez-vous sur la page ",(0,r.kt)("strong",{parentName:"li"},"Configuration > Gestionnaire de connecteurs de supervision")," et installer le connecteur de supervision ",(0,r.kt)("em",{parentName:"li"},"Nimble Rest API"))))),(0,r.kt)("h2",{id:"configuration"},"Configuration"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'Ajouter un nouvel H\xf4te via le menu "Configuration > Hosts".'),(0,r.kt)("li",{parentName:"ul"},"Appliquer le Mod\xe8le d'H\xf4te ",(0,r.kt)("em",{parentName:"li"},"HW-Storage-Nimble-Restapi")," puis configurer les macros obligatoires: ")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Mandatory"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"X"),(0,r.kt)("td",{parentName:"tr",align:"left"},"APIPORT"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Port used (Default: 5392)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"X"),(0,r.kt)("td",{parentName:"tr",align:"left"},"APIPROTO"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Specify protocol if needed (Default: 'https')")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"X"),(0,r.kt)("td",{parentName:"tr",align:"left"},"APIUSERNAME"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Specify the API Username")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"X"),(0,r.kt)("td",{parentName:"tr",align:"left"},"APIPASSWORD"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Specify the API Password")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"APIEXTRAOPTIONS"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Any extra option you may want to add to the command (eg. a ",(0,r.kt)("inlineCode",{parentName:"td"},"--verbose")," flag)")))),(0,r.kt)("h2",{id:"faq"},"FAQ"),(0,r.kt)("h3",{id:"que-signifient-les-messages-derreur-suivants"},"Que signifient les messages d'erreur suivants:"),(0,r.kt)("h4",{id:"unknown-501-protocol-scheme-connect-is-not-supported-"},(0,r.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: 501 Protocol scheme 'connect' is not supported |")),(0,r.kt)("p",null,"Si vous utilisez un proxy et que vous rencontrez cette erreur, cela signifie que le Plugin Centreon ne supporte\npas le protocole de connexion impos\xe9 par le proxy."),(0,r.kt)("p",null,"Afin de vous pr\xe9munir de ce probl\xe8me, utiliser le backend HTTP ",(0,r.kt)("em",{parentName:"p"},"curl")," en ajoutant l'option ci-dessous: "),(0,r.kt)("p",null," ",(0,r.kt)("inlineCode",{parentName:"p"},"--http-backend='curl'"),"."),(0,r.kt)("h4",{id:"unknown-cannot-load-module-netcurleasy"},(0,r.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: Cannot load module 'Net::Curl::Easy'")),(0,r.kt)("p",null,"Ce message d'erreur signifie qu'une d\xe9pendance est manquante lors de l'utilisation du backend ",(0,r.kt)("em",{parentName:"p"},"curl"),". "),(0,r.kt)("p",null,"Afin de corriger cette erreur, installer la librairie 'Net::Curl::Easy':"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yum install perl-Net-Curl\n")))}N.isMDXComponent=!0}}]);