"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[10072],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=p(n),m=r,g=d["".concat(s,".").concat(m)]||d[m]||c[m]||l;return n?a.createElement(g,o(o({ref:t},u),{},{components:n})):a.createElement(g,o({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var p=2;p<l;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},36931:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>p,default:()=>g,frontMatter:()=>s,metadata:()=>u,toc:()=>d});n(67294);var a=n(3905),r=n(67709),l=n(7626);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const s={id:"applications-gorgone-restapi",title:"Gorgone Restapi"},p=void 0,u={unversionedId:"integrations/plugin-packs/procedures/applications-gorgone-restapi",id:"integrations/plugin-packs/procedures/applications-gorgone-restapi",title:"Gorgone Restapi",description:"Vue d'ensemble",source:"@site/i18n/fr/docusaurus-plugin-content-docs-pp/current/integrations/plugin-packs/procedures/applications-gorgone-restapi.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/applications-gorgone-restapi",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-gorgone-restapi",draft:!1,tags:[],version:"current",frontMatter:{id:"applications-gorgone-restapi",title:"Gorgone Restapi"},sidebar:"pp",previous:{title:"SCOM Rest API",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-monitoring-scom-restapi"},next:{title:"Selenium",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-selenium"}},c={},d=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Plugin-Pack assets",id:"plugin-pack-assets",level:2},{value:"Objets supervis\xe9s",id:"objets-supervis\xe9s",level:3},{value:"M\xe9triques collect\xe9es",id:"m\xe9triques-collect\xe9es",level:3},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Configuration de Gorgone",id:"configuration-de-gorgone",level:3},{value:"Setup",id:"setup",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"Comment tester le Plugin et quelle est la signification des options principales",id:"comment-tester-le-plugin-et-quelle-est-la-signification-des-options-principales",level:3}],m={toc:d};function g(e){var{components:t}=e,n=i(e,["components"]);return(0,a.kt)("wrapper",o({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",o({},{id:"vue-densemble"}),"Vue d'ensemble"),(0,a.kt)("p",null,"Le d\xe9mon Gorgone est un gestionnaire de t\xe2che en mode distribu\xe9 (",(0,a.kt)("a",o({parentName:"p"},{href:"https://github.com/centreon/centreon-gorgone"}),"https://github.com/centreon/centreon-gorgone"),")."),(0,a.kt)("h2",o({},{id:"plugin-pack-assets"}),"Plugin-Pack assets"),(0,a.kt)("h3",o({},{id:"objets-supervis\xe9s"}),"Objets supervis\xe9s"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Instances gorgoned")),(0,a.kt)("h3",o({},{id:"m\xe9triques-collect\xe9es"}),"M\xe9triques collect\xe9es"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(l.Z,{value:"Events",label:"Events",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",o({parentName:"tr"},{align:"left"}),"Metric name"),(0,a.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"path.events.total.count"),(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"By instances. e.g. ",(0,a.kt)("inlineCode",{parentName:"td"},"internal")," ",(0,a.kt)("inlineCode",{parentName:"td"},"external"),". Number of events on a path")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"event.total.count"),(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"By instances. e.g. ",(0,a.kt)("inlineCode",{parentName:"td"},"internal~pong"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"internal~command"),", ... Number of a specific event"))))),(0,a.kt)(l.Z,{value:"Nodes",label:"Nodes",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",o({parentName:"tr"},{align:"left"}),"Metric name"),(0,a.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"node.ping.received.lasttime.seconds"),(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"By instances (",(0,a.kt)("inlineCode",{parentName:"td"},"node_id"),"). Time since last ping response. Unit: seconds")))))),(0,a.kt)("h2",o({},{id:"pr\xe9requis"}),"Pr\xe9requis"),(0,a.kt)("h3",o({},{id:"configuration-de-gorgone"}),"Configuration de Gorgone"),(0,a.kt)("p",null,"Assurer vous que le module Gorgone ",(0,a.kt)("inlineCode",{parentName:"p"},"httpserver")," est correctement configur\xe9. Au besoin, ajouter le avec la directive suivante"),(0,a.kt)("pre",null,(0,a.kt)("code",o({parentName:"pre"},{className:"language-yaml"}),'modules:\n    - name: httpserver\n      package: "gorgone::modules::core::httpserver::hooks"\n      enable: true\n      address: "0.0.0.0"\n      port: "8085"\n      ssl: false\n      auth:\n        enabled: false\n      allowed_hosts:\n        enabled: true\n        subnets:\n          - 127.0.0.1/32\n')),(0,a.kt)("h2",o({},{id:"setup"}),"Setup"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(l.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Installer le Plugin sur les Poller supervisant des instances de Gorgone:")),(0,a.kt)("pre",null,(0,a.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Gorgone-Restapi\n")),(0,a.kt)("ol",o({},{start:2}),(0,a.kt)("li",{parentName:"ol"},"Dans l'interface Centreon, rendez-vous dans le menu \"Configuration > Plugin Packs > Gestionnaire\" et installer le Plugin-Pack 'Gorgone Rest API'"))),(0,a.kt)(l.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Installer le Plugin sur les Poller supervisant des instances de Gorgone:")),(0,a.kt)("pre",null,(0,a.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Gorgone-Restapi\n")),(0,a.kt)("ol",o({},{start:2}),(0,a.kt)("li",{parentName:"ol"},"Installer le RPM du Plugin-Pack RPM sur le serveur Centreon Central:")),(0,a.kt)("pre",null,(0,a.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-applications-gorgone-restapi.noarch\n")),(0,a.kt)("ol",o({},{start:3}),(0,a.kt)("li",{parentName:"ol"},"Dans l'interface Centreon, rendez-vous dans le menu \"Configuration > Plugin Packs > Gestionnaire\" et installer le Plugin-Pack 'Gorgone Rest API'")))),(0,a.kt)("h2",o({},{id:"configuration"}),"Configuration"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'Rendez-vous dans le menu "Configuration > H\xf4tes" et ajouter un nouvel H\xf4te'),(0,a.kt)("li",{parentName:"ul"},"Appliquer le mod\xe8le ",(0,a.kt)("em",{parentName:"li"},"App-Gorgone-Restapi-custom")," et configurer les macros obligatoires mentionn\xe9es ci-dessous:")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",o({parentName:"tr"},{align:"left"}),"Mandatory"),(0,a.kt)("th",o({parentName:"tr"},{align:"left"}),"Nom"),(0,a.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"GORGONEAPIPORT"),(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"Port used. Default is 8085")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"GORGONEAPIPROTO"),(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"Protocol used. Default is http")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",o({parentName:"tr"},{align:"left"})),(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"GORGONEAPIUSERNAME"),(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"Username to access to the API.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",o({parentName:"tr"},{align:"left"})),(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"GORGONEAPIPASSWORD"),(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"Password to access to the API.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",o({parentName:"tr"},{align:"left"})),(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"GORGONEAPIEXTRAOPTIONS"),(0,a.kt)("td",o({parentName:"tr"},{align:"left"}),"Any extra option you may want to add to the command (eg. a --verbose flag)")))),(0,a.kt)("h2",o({},{id:"faq"}),"FAQ"),(0,a.kt)("h3",o({},{id:"comment-tester-le-plugin-et-quelle-est-la-signification-des-options-principales"}),"Comment tester le Plugin et quelle est la signification des options principales"),(0,a.kt)("p",null,"Une fois le Plugin install\xe9, vous pouvez l'ex\xe9cuter avec l'utilisateur centreon-engine:"),(0,a.kt)("pre",null,(0,a.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_gorgone_restapi.pl \\\n    --plugin=apps::gorgone::restapi::plugin \\\n    --mode=events \\\n    --hostname='127.0.0.1' \\\n    --port='8085' \\\n    --proto='http' \\\n    --verbose\n")),(0,a.kt)("p",null,"Cette commande superviser le nombre d'\xe9v\xe9nements trait\xe9s par Gorgone. Lorsqu'une authentification basique est configur\xe9e, il est n\xe9cessaire de sp\xe9cifier le nom\nd'utilisateur et le mot de passe dans la commande comme ceci (",(0,a.kt)("inlineCode",{parentName:"p"},"--api-username='John.doe' --api-password='6fbadZEJbsLG'"),")."),(0,a.kt)("p",null,"Le r\xe9sultat attendu est similaire \xe0:"),(0,a.kt)("pre",null,(0,a.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"OK: All paths are ok | 'external#path.events.total.count'=0;;;0; 'internal#path.events.total.count'=12;;;0; 'internal~actionready#event.total.count'=0;;;0; 'internal~bcastlogger#event.total.count'=0;;;0; 'internal~centreonnodesready#event.total.count'=0;;;0; 'internal~command#event.total.count'=0;;;0; 'internal~constatus#event.total.count'=1;;;0; 'internal~dbcleanerready#event.total.count'=0;;;0; 'internal~enginecommand#event.total.count'=0;;;0; 'internal~engineready#event.total.count'=0;;;0; 'internal~httpserverready#event.total.count'=0;;;0; 'internal~information#event.total.count'=1;;;0; 'internal~judgeready#event.total.count'=0;;;0; 'internal~legacycmdready#event.total.count'=0;;;0; 'internal~pipelineready#event.total.count'=0;;;0; 'internal~pong#event.total.count'=6;;;0; 'internal~proxyready#event.total.count'=0;;;0; 'internal~putlog#event.total.count'=0;;;0; 'internal~registernodes#event.total.count'=0;;;0; 'internal~setcoreid#event.total.count'=0;;;0; 'internal~setlogs#event.total.count'=4;;;0; 'internal~unregisternodes#event.total.count'=0;;;0;\nchecking path 'external'\n    total events: 0\nchecking path 'internal'\n    total events: 12\n    event 'actionready' total: 0\n...\n")),(0,a.kt)("p",null,"Les options permettant au Plugin de d\xe9clencher des alertes peuvent \xeatre affich\xe9 via l'aide de la sonde. (",(0,a.kt)("inlineCode",{parentName:"p"},"--help"),"):"),(0,a.kt)("pre",null,(0,a.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_gorgone_restapi.pl \\\n    --plugin=apps::gorgone::restapi::plugin \\\n    --mode=events \\\n    --help\n")),(0,a.kt)("p",null,"Il est possible d'afficher l'ensemble des modes disponibles avec la commande ci-dessous:"),(0,a.kt)("pre",null,(0,a.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_gorgone_restapi.pl \\\n    --plugin=apps::gorgone::restapi::plugin \\\n    --list-mode\n")))}g.isMDXComponent=!0},7626:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(67294),r=n(86010);const l="tabItem_Ymn6";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}function i({children:e,hidden:t,className:n}){return a.createElement("div",o({role:"tabpanel",className:(0,r.Z)(l,n)},{hidden:t}),e)}},67709:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(67294),r=n(86010),l=n(90980),o=n(35715),i=n(8854),s=n(8241);const p="tabList__CuJ",u="tabItem_LNqP";function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(this,arguments)}function d(e){var t;const{lazy:n,block:l,defaultValue:d,values:m,groupId:g,className:v}=e,f=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),k=null!=m?m:f.map((({props:{value:e,label:t,attributes:n}})=>({value:e,label:t,attributes:n}))),b=(0,o.l)(k,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var h;const y=null===d?d:null!==(h=null!=d?d:null===(t=f.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==h?h:f[0].props.value;if(null!==y&&!k.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${k.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:N,setTabGroupChoices:O}=(0,i.U)(),[P,w]=(0,a.useState)(y),T=[],{blockElementScrollPositionUntilNextRender:E}=(0,s.o5)();if(null!=g){const e=N[g];null!=e&&e!==P&&k.some((t=>t.value===e))&&w(e)}const j=e=>{const t=e.currentTarget,n=T.indexOf(t),a=k[n].value;a!==P&&(E(t),w(a),null!=g&&O(g,String(a)))},C=e=>{let t=null;switch(e.key){case"ArrowRight":{const a=T.indexOf(e.currentTarget)+1;var n;t=null!==(n=T[a])&&void 0!==n?n:T[0];break}case"ArrowLeft":{const n=T.indexOf(e.currentTarget)-1;var a;t=null!==(a=T[n])&&void 0!==a?a:T[T.length-1];break}}null==t||t.focus()};return a.createElement("div",{className:(0,r.Z)("tabs-container",p)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":l},v)},k.map((({value:e,label:t,attributes:n})=>a.createElement("li",c({role:"tab",tabIndex:P===e?0:-1,"aria-selected":P===e,key:e,ref:e=>T.push(e),onKeyDown:C,onFocus:j,onClick:j},n,{className:(0,r.Z)("tabs__item",u,null==n?void 0:n.className,{"tabs__item--active":P===e})}),null!=t?t:e)))),n?(0,a.cloneElement)(f.filter((e=>e.props.value===P))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},f.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==P})))))}function m(e){const t=(0,l.Z)();return a.createElement(d,c({key:String(t)},e))}}}]);