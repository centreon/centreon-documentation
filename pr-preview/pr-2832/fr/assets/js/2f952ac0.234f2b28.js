"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[45780],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=r.createContext({}),u=function(e){var t=r.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,g=d["".concat(o,".").concat(m)]||d[m]||c[m]||l;return n?r.createElement(g,i(i({ref:t},p),{},{components:n})):r.createElement(g,i({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var u=2;u<l;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},39967:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>g,frontMatter:()=>o,metadata:()=>p,toc:()=>d});n(67294);var r=n(3905),a=n(67709),l=n(7626);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const o={id:"hardware-storage-purestorage-snmp",title:"Pure Storage SNMP"},u=void 0,p={unversionedId:"integrations/plugin-packs/procedures/hardware-storage-purestorage-snmp",id:"integrations/plugin-packs/procedures/hardware-storage-purestorage-snmp",title:"Pure Storage SNMP",description:"Vue d'ensemble",source:"@site/i18n/fr/docusaurus-plugin-content-docs-pp/current/integrations/plugin-packs/procedures/hardware-storage-purestorage-snmp.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/hardware-storage-purestorage-snmp",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/hardware-storage-purestorage-snmp",draft:!1,tags:[],version:"current",frontMatter:{id:"hardware-storage-purestorage-snmp",title:"Pure Storage SNMP"}},c={},d=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Contenu du Plugin-Pack",id:"contenu-du-plugin-pack",level:2},{value:"Objets supervis\xe9s",id:"objets-supervis\xe9s",level:3},{value:"M\xe9triques collect\xe9es",id:"m\xe9triques-collect\xe9es",level:2},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Configuration des \xe9quipements Pure Storage",id:"configuration-des-\xe9quipements-pure-storage",level:3},{value:"Flux R\xe9seaux",id:"flux-r\xe9seaux",level:3},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"Comment tester le Plugin en ligne de commande et que signifient les options principales ?",id:"comment-tester-le-plugin-en-ligne-de-commande-et-que-signifient-les-options-principales-",level:4},{value:"UNKNOWN: SNMP GET Request : Timeout",id:"unknown-snmp-get-request--timeout",level:3},{value:"UNKNOWN: SNMP GET Request : Cant get a single value.",id:"unknown-snmp-get-request--cant-get-a-single-value",level:3}],m={toc:d};function g(e){var{components:t}=e,n=s(e,["components"]);return(0,r.kt)("wrapper",i({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",i({},{id:"vue-densemble"}),"Vue d'ensemble"),(0,r.kt)("p",null,"Pure Storage fournit du mat\xe9riel de stockage flash pour les datacenters en utilisant des disques durs grand public.\nIl fournit un logiciel propri\xe9taire de d\xe9duplication et de compression des donn\xe9es afin d'am\xe9liorer la quantit\xe9 qui est stock\xe9es sur chaque disque. "),(0,r.kt)("h2",i({},{id:"contenu-du-plugin-pack"}),"Contenu du Plugin-Pack"),(0,r.kt)("h3",i({},{id:"objets-supervis\xe9s"}),"Objets supervis\xe9s"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Baie de stockage")),(0,r.kt)("h2",i({},{id:"m\xe9triques-collect\xe9es"}),"M\xe9triques collect\xe9es"),(0,r.kt)("p",null,"Les m\xe9triques collect\xe9es sont les suivantes "),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"Stats",label:"Stats",mdxType:"TabItem"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric Name"),(0,r.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"pureArrayReadBandwidth"),(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"Read Bandwidth Volume on the storage array. Unit: Bits/second")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"pureArrayWriteBandwidth"),(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"Write Bandwidth Volume on the storage array. Unit: Bits/second")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"pureArrayReadIOPS"),(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"Read Operations on the storage array. Unit: iops")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"pureArrayWriteIOPS"),(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"Write Operations on the storage array. Unit: iops")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"pureArrayReadLatency"),(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"Storage array Read Latency (us/op). Unit: us/operations")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"pureArrayWriteLatency"),(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"Storage array Write Latency (us/op). Unit: us/operations")))))),(0,r.kt)("h2",i({},{id:"pr\xe9requis"}),"Pr\xe9requis"),(0,r.kt)("h3",i({},{id:"configuration-des-\xe9quipements-pure-storage"}),"Configuration des \xe9quipements Pure Storage"),(0,r.kt)("p",null,"Afin de superviser vos \xe9quipements Pure Storage le SNMP v2 doit \xeatre configur\xe9."),(0,r.kt)("h3",i({},{id:"flux-r\xe9seaux"}),"Flux R\xe9seaux"),(0,r.kt)("p",null,"La communication doit \xeatre possible sur le port UDP 161 depuis le Collecteur Centreon vers l'\xe9quipement Pure Storage supervis\xe9."),(0,r.kt)("h2",i({},{id:"installation"}),"Installation"),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Installer le Plugin sur l'ensemble des collecteurs Centreon supervisant des ressources de Pure Storage:")),(0,r.kt)("pre",null,(0,r.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Hardware-Storage-Purestorage-Snmp\n")),(0,r.kt)("ol",i({},{start:2}),(0,r.kt)("li",{parentName:"ol"},'Installer le Plugin-Pack depuis la page "Configuration > Plugin packs > Manager":'))),(0,r.kt)(l.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Installer le Plugin sur l'ensemble des collecteurs Centreon supervisant des ressources de Pure Storage:")),(0,r.kt)("pre",null,(0,r.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Hardware-Storage-Purestorage-Snmp\n")),(0,r.kt)("ol",i({},{start:2}),(0,r.kt)("li",{parentName:"ol"},"Installer le RPM du Plugin-Pack :")),(0,r.kt)("pre",null,(0,r.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-hardware-storage-purestorage-snmp\n")),(0,r.kt)("ol",i({},{start:3}),(0,r.kt)("li",{parentName:"ol"},"Installer le Plugin-Pack 'PureStorage SNMP' depuis la page \"Configuration > Plugin packs > Manager\"")))),(0,r.kt)("h2",i({},{id:"configuration"}),"Configuration"),(0,r.kt)("p",null,'Appliquer le mod\xe8le "HW-Storage-Purestorage-SNMP-custom" \xe0 votre h\xf4te nouvellement cr\xe9\xe9. '),(0,r.kt)("p",null,'Dans le formulaire de cr\xe9ation de l\'H\xf4te sur l\'interface Web de Centreon, il est n\xe9cessaire de renseigner les valeurs des champs "SNMP Community" et "SNMP Version". '),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Si vous utilisez SNMP en version 3, selectionnez la version SNMP idoine et configurez les param\xe8tres SNMP v3 via la macro SNMPEXTRAOPTIONS")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",i({parentName:"tr"},{align:"left"}),"Mandatory"),(0,r.kt)("th",i({parentName:"tr"},{align:"left"}),"Name"),(0,r.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",i({parentName:"tr"},{align:"left"})),(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"SNMPEXTRAOPTIONS"),(0,r.kt)("td",i({parentName:"tr"},{align:"left"}),"Extra options SNMP de Pure Storage")))),(0,r.kt)("h2",i({},{id:"faq"}),"FAQ"),(0,r.kt)("h4",i({},{id:"comment-tester-le-plugin-en-ligne-de-commande-et-que-signifient-les-options-principales-"}),"Comment tester le Plugin en ligne de commande et que signifient les options principales ?"),(0,r.kt)("p",null,"Une fois le Plugin install\xe9, vous pouvez tester celui-ci directement en ligne de commande depuis votre collecteur Centreon avec l'utilisateur ",(0,r.kt)("em",{parentName:"p"},"centreon-engine"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_purestorage_snmp.pl \\\n    --plugin=storage::purestorage::snmp::plugin \\\n    --hostname=10.0.0.1 \\\n    --snmp-version='2c' \\\n    --snmp-community='public' \\\n    --mode=stats \\\n    --warning-read-bandwidth='400000000' \\\n    --critical-read-bandwidth='500000000' \\\n    --verbose\n")),(0,r.kt)("p",null,"Le message de sortie est le suivant: "),(0,r.kt)("pre",null,(0,r.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"OK: Read Bandwith : 376.84 Mb/s - Write Bandwith : 0.00 b/s - Read IOPs : 3871 - Write IOPs : 0 - Read Latency : 197 us/op - Write Latency : 0 us/op | 'read_bandwidth'=376843408.00b/s;;;0; 'write_bandwidth'=0.00b/s;;;0; 'read_iops'=3871iops;;;0; 'write_iops'=0iops;;;0; 'read_latency'=197us/op;;;0; 'write_latency'=0us/op;;;0;\n")),(0,r.kt)("p",null,"La commande ci-dessus interroge un \xe9quipement Pure Storage (",(0,r.kt)("inlineCode",{parentName:"p"},"--plugin=storage::purestorage::snmp::plugin"),") ayant pour adresse IP ",(0,r.kt)("em",{parentName:"p"},"10.0.0.1")," (",(0,r.kt)("inlineCode",{parentName:"p"},"--hostname=10.0.0.1"),") en utilisant la communaut\xe9 SNMP ",(0,r.kt)("em",{parentName:"p"},"public")," (",(0,r.kt)("inlineCode",{parentName:"p"},"--snmp-community='public'"),").\nCette commande contr\xf4le les statistiques d'utilisation de la baie de stockage (",(0,r.kt)("inlineCode",{parentName:"p"},"--mode=stats"),")."),(0,r.kt)("p",null,"Cette commande d\xe9clenchera une alarme WARNING si la valeur de la m\xe9trique ",(0,r.kt)("em",{parentName:"p"},"read bandwidth")," de l'\xe9quipement d\xe9passe 400000000b/s (",(0,r.kt)("inlineCode",{parentName:"p"},"--warning-read-bandwidth='400000000'"),") et une alarme CRITICAL au del\xe0 de 500000000b/s (",(0,r.kt)("inlineCode",{parentName:"p"},"--critical-read-bandwidth='500000000'"),"). "),(0,r.kt)("p",null,"Les seuils WARNING et CRITICAL peuvent \xeatre d\xe9finis sur toutes les m\xe9triques de l'\xe9quipement."),(0,r.kt)("p",null,"La syntaxe des diff\xe9rentes options des seuils ainsi que la liste des options et leur utilisation sont d\xe9taill\xe9es dans l'aide du mode en ajoutant le param\xe8tre ",(0,r.kt)("inlineCode",{parentName:"p"},"--help")," \xe0 la commande:"),(0,r.kt)("pre",null,(0,r.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_purestorage_snmp.pl \\\n    --plugin=storage::purestorage::snmp::plugin \\\n    --mode=stats \\\n    --help\n")),(0,r.kt)("h3",i({},{id:"unknown-snmp-get-request--timeout"}),"UNKNOWN: SNMP GET Request : Timeout"),(0,r.kt)("p",null,"Si vous obtenez ce message, cela signifie que vous ne parvenez pas \xe0 contacter l'\xe9quipement Pure Storage sur le port 161 ou que la communaut\xe9 SNMP configur\xe9e n'est pas correcte. Il est \xe9galement possible qu'un \xe9quipement tiers (pare-feu, proxy...) bloque le flux."),(0,r.kt)("h3",i({},{id:"unknown-snmp-get-request--cant-get-a-single-value"}),"UNKNOWN: SNMP GET Request : Cant get a single value."),(0,r.kt)("p",null,"Ce message d'erreur fait souvent r\xe9f\xe9rence aux probl\xe8mes suivants : "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"L'\xe9quipement Pure Storage ne supporte pas la MIB utilis\xe9e par le Plugin"),(0,r.kt)("li",{parentName:"ul"},"L'OID SNMP cibl\xe9 ne peut \xeatre r\xe9cup\xe9r\xe9 en raison d'une insuffisance de privil\xe8ges sur l'\xe9quipement")))}g.isMDXComponent=!0},7626:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(67294),a=n(86010);const l="tabItem_Ymn6";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function s({children:e,hidden:t,className:n}){return r.createElement("div",i({role:"tabpanel",className:(0,a.Z)(l,n)},{hidden:t}),e)}},67709:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(67294),a=n(86010),l=n(90980),i=n(35715),s=n(8854),o=n(8241);const u="tabList__CuJ",p="tabItem_LNqP";function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e){var t;const{lazy:n,block:l,defaultValue:d,values:m,groupId:g,className:f}=e,k=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),v=null!=m?m:k.map((({props:{value:e,label:t,attributes:n}})=>({value:e,label:t,attributes:n}))),b=(0,i.l)(v,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var N;const h=null===d?d:null!==(N=null!=d?d:null===(t=k.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==N?N:k[0].props.value;if(null!==h&&!v.some((e=>e.value===h)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${h}" but none of its children has the corresponding value. Available values are: ${v.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:y,setTabGroupChoices:P}=(0,s.U)(),[O,w]=(0,r.useState)(h),S=[],{blockElementScrollPositionUntilNextRender:q}=(0,o.o5)();if(null!=g){const e=y[g];null!=e&&e!==O&&v.some((t=>t.value===e))&&w(e)}const C=e=>{const t=e.currentTarget,n=S.indexOf(t),r=v[n].value;r!==O&&(q(t),w(r),null!=g&&P(g,String(r)))},T=e=>{let t=null;switch(e.key){case"ArrowRight":{const r=S.indexOf(e.currentTarget)+1;var n;t=null!==(n=S[r])&&void 0!==n?n:S[0];break}case"ArrowLeft":{const n=S.indexOf(e.currentTarget)-1;var r;t=null!==(r=S[n])&&void 0!==r?r:S[S.length-1];break}}null==t||t.focus()};return r.createElement("div",{className:(0,a.Z)("tabs-container",u)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":l},f)},v.map((({value:e,label:t,attributes:n})=>r.createElement("li",c({role:"tab",tabIndex:O===e?0:-1,"aria-selected":O===e,key:e,ref:e=>S.push(e),onKeyDown:T,onFocus:C,onClick:C},n,{className:(0,a.Z)("tabs__item",p,null==n?void 0:n.className,{"tabs__item--active":O===e})}),null!=t?t:e)))),n?(0,r.cloneElement)(k.filter((e=>e.props.value===O))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},k.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==O})))))}function m(e){const t=(0,l.Z)();return r.createElement(d,c({key:String(t)},e))}}}]);