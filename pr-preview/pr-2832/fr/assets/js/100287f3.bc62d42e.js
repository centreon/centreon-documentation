"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[1426],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),o=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=o(e.components);return a.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=o(n),d=r,f=m["".concat(p,".").concat(d)]||m[d]||c[d]||l;return n?a.createElement(f,s(s({ref:t},u),{},{components:n})):a.createElement(f,s({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,s=new Array(l);s[0]=m;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var o=2;o<l;o++)s[o]=n[o];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},84259:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>f,frontMatter:()=>p,metadata:()=>u,toc:()=>m});n(67294);var a=n(3905),r=n(67709),l=n(7626);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const p={id:"applications-pfsense-fauxapi",title:"Pfsense Fauxapi"},o=void 0,u={unversionedId:"integrations/plugin-packs/procedures/applications-pfsense-fauxapi",id:"integrations/plugin-packs/procedures/applications-pfsense-fauxapi",title:"Pfsense Fauxapi",description:"Vue d'ensemble",source:"@site/i18n/fr/docusaurus-plugin-content-docs-pp/current/integrations/plugin-packs/procedures/applications-pfsense-fauxapi.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/applications-pfsense-fauxapi",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-pfsense-fauxapi",draft:!1,tags:[],version:"current",frontMatter:{id:"applications-pfsense-fauxapi",title:"Pfsense Fauxapi"},sidebar:"pp",previous:{title:"Peoplesoft",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-peoplesoft-jmx"},next:{title:"PHP APC",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-php-apc-web"}},c={},m=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Contenu du Plugin-Pack",id:"contenu-du-plugin-pack",level:2},{value:"Objets supervis\xe9s",id:"objets-supervis\xe9s",level:3},{value:"M\xe9triques collect\xe9es",id:"m\xe9triques-collect\xe9es",level:3},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"Comment puis-je tester le Plugin et que signifient les options des commandes ?",id:"comment-puis-je-tester-le-plugin-et-que-signifient-les-options-des-commandes-",level:3},{value:"J&#39;obtiens le message d&#39;erreur suivant:",id:"jobtiens-le-message-derreur-suivant",level:3},{value:"<code>UNKNOWN: 500 Can&#39;t connect to mypfsense.com:443 |</code>",id:"unknown-500-cant-connect-to-mypfsensecom443-",level:4},{value:"<code>UNKNOWN: 501 Protocol scheme &#39;connect&#39; is not supported |</code>",id:"unknown-501-protocol-scheme-connect-is-not-supported-",level:4},{value:"Comment puis-je supprimer les perfdatas <em>count</em> dans le cas o\xf9 je ne souhaite v\xe9rifier qu&#39;une seule application ?",id:"comment-puis-je-supprimer-les-perfdatas-count-dans-le-cas-o\xf9-je-ne-souhaite-v\xe9rifier-quune-seule-application-",level:3}],d={toc:m};function f(e){var{components:t}=e,n=i(e,["components"]);return(0,a.kt)("wrapper",s({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",s({},{id:"vue-densemble"}),"Vue d'ensemble"),(0,a.kt)("p",null,"Dans son principe, FauxAPI lit simplement le fichier config.xml de pfSense, le convertit en JSON et retourne \xe0 l'appelant de l'API.\nFauxAPI fournit des interfaces API de sauvegarde et de restauration faciles qui, par d\xe9faut, stockent les sauvegardes de la configuration\nsur toutes les op\xe9rations d'\xe9criture de la configuration ; il est donc tr\xe8s facile de revenir en arri\xe8re m\xeame si l'utilisateur de l'API parvient \xe0 d\xe9ployer\nune configuration \"tr\xe8s cass\xe9e\"."),(0,a.kt)("h2",s({},{id:"contenu-du-plugin-pack"}),"Contenu du Plugin-Pack"),(0,a.kt)("h3",s({},{id:"objets-supervis\xe9s"}),"Objets supervis\xe9s"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Gateways"),(0,a.kt)("li",{parentName:"ul"},"Rules"),(0,a.kt)("li",{parentName:"ul"},"System"),(0,a.kt)("li",{parentName:"ul"},"Backup Files")),(0,a.kt)("h3",s({},{id:"m\xe9triques-collect\xe9es"}),"M\xe9triques collect\xe9es"),(0,a.kt)("p",null,"Vous pouvez vous renseigner en d\xe9tails sur les m\xe9triques pr\xe9sent\xe9es ci-apr\xe8s sur la documentation officielle\ndu Fauxapi Pfsense : ",(0,a.kt)("a",s({parentName:"p"},{href:"https://github.com/ndejong/pfsense_fauxapi"}),"https://github.com/ndejong/pfsense_fauxapi")),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(l.Z,{value:"Backup-files",label:"Backup-files",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Metric name"),(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Description"),(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Unit"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"backups.total.count"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Total number of backups"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"backups.time.last.seconds"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Last backup time in seconds."),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"s"))))),(0,a.kt)(l.Z,{value:"Gateways",label:"Gateways",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Metric name"),(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Description"),(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Unit"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"status"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Gateways status"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"gateway.packets.delay.milliseconds"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Delay packets going through the Pfsense in milliseconds."),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"ms")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"gateway.packets.loss.percentage"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Lost packets going through the Pfsense in percentage."),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"%")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"gateway.packets.stddev.milliseconds"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Standard deviation packets going through the Pfsense in milliseconds."),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"ms"))))),(0,a.kt)(l.Z,{value:"Rules",label:"Rules",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Metric name"),(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Description"),(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Unit"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"rules.total.count"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Total number of rules"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"rule.traffic.bitspersecond"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Traffic by rules in bits per seconds."),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"b/s"))))),(0,a.kt)(l.Z,{value:"System",label:"System",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Metric name"),(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Description"),(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Unit"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"system.connections.tcp.usage.count"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Number of TCP connections"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"system.connections.tcp.usage.percentage"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Usage TCP connections in percentage."),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"%")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"system.temperature.celsius"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"System temperature in celsius."),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"C")))))),(0,a.kt)("h2",s({},{id:"pr\xe9requis"}),"Pr\xe9requis"),(0,a.kt)("p",null,"Un compte de service est requis pour interroger le Fauxapi Pfsense. Celui-ci doit avoir suffisamment de privil\xe8ges en lecture dans l'environnement.\nAu niveau des droits API, votre fichier de configuration doit contenir au minimum :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"config_backup_list"),(0,a.kt)("li",{parentName:"ul"},"gateway_status"),(0,a.kt)("li",{parentName:"ul"},"rule_get"),(0,a.kt)("li",{parentName:"ul"},"system_stats")),(0,a.kt)("p",null,"Plus d'informations sont disponible sur la documentation officielle de Pfsense Fauxpi documentation : ",(0,a.kt)("a",s({parentName:"p"},{href:"https://github.com/ndejong/pfsense_fauxapi/blob/master/README.md"}),"https://github.com/ndejong/pfsense_fauxapi/blob/master/README.md")),(0,a.kt)("h2",s({},{id:"installation"}),"Installation"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(l.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Installer le Plugin sur tous les collecteurs Centreon supervisant des ressources Pfsense Fauxapi :")),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Pfsense-Fauxapi.noarch\n")),(0,a.kt)("ol",s({},{start:2}),(0,a.kt)("li",{parentName:"ol"},"Sur l'interface Web de Centreon, installer le Plugin-Pack ",(0,a.kt)("em",{parentName:"li"},"Pfsense Fauxapi"),' depuis la page "Configuration > Plugin packs > Manager"'))),(0,a.kt)(l.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Installer le Plugin sur tous les collecteurs Centreon supervisant des ressources Pfsense Fauxapi :")),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Pfsense-Fauxapi.noarch\n")),(0,a.kt)("ol",s({},{start:2}),(0,a.kt)("li",{parentName:"ol"},"Sur le serveur Central Centreon, installer le Plugin-Pack via le RPM:")),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-applications-pfsense-fauxapi.noarch\n")),(0,a.kt)("ol",s({},{start:3}),(0,a.kt)("li",{parentName:"ol"},"Sur l'interface Web de Centreon, installer le Plugin-Pack ",(0,a.kt)("em",{parentName:"li"},"Pfsense Fauxapi"),' depuis la page "Configuration > Plugin packs > Manager"')))),(0,a.kt)("h2",s({},{id:"configuration"}),"Configuration"),(0,a.kt)("p",null,"Ce Plugin-Pack est con\xe7u de mani\xe8re \xe0 avoir dans Centreon un h\xf4te par environnement Pfsense Fauxapi\nLorsque vous ajoutez un h\xf4te \xe0 Centreon, appliquez-lui le mod\xe8le ",(0,a.kt)("em",{parentName:"p"},"App-Pfsense-Fauxapi-custom"),".\nUne fois celui-ci configur\xe9, certaines macros doivent \xeatre renseign\xe9es:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Mandatory"),(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Name"),(0,a.kt)("th",s({parentName:"tr"},{align:"left"}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"APIPORT"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Port used (Default: 443)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"APIPROTO"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Specify https if needed (Default: 'https')")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"APIKEY"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Pfsense Fauxapi key")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"APISECRET"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Pfsense Fauxapi secret")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",s({parentName:"tr"},{align:"left"})),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"APIEXTRAOPTIONS"),(0,a.kt)("td",s({parentName:"tr"},{align:"left"}),"Any extra option you may want to add to the command (eg. a --verbose flag)")))),(0,a.kt)("h2",s({},{id:"faq"}),"FAQ"),(0,a.kt)("h3",s({},{id:"comment-puis-je-tester-le-plugin-et-que-signifient-les-options-des-commandes-"}),"Comment puis-je tester le Plugin et que signifient les options des commandes ?"),(0,a.kt)("p",null,"Une fois le Plugin install\xe9, vous pouvez tester celui-ci directement en ligne de commande depuis votre collecteur Centreon avec l'utilisateur ",(0,a.kt)("em",{parentName:"p"},"centreon-engine"),"\n(Les param\xe8tres tels que ",(0,a.kt)("inlineCode",{parentName:"p"},"api-key")," ou ",(0,a.kt)("inlineCode",{parentName:"p"},"api-secret")," doivront \xeatre ajust\xe9s):"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_pfsense_fauxapi.pl \\\n    --plugin=apps::pfsense::fauxapi::plugin \\\n    --mode=gateways \\\n    --hostname='10.0.0.1' \\\n    --port='443' \\\n    --proto='https' \\\n    --api-key='myapikey' \\\n    --api-secret='myapisecret' \\\n    --filter-name='WAN_DHCP' \\\n    --critical-status='%{status} !~ /none/i' \\\n    --warning-packets-loss=5 \\ \n    --critical-packets-loss=10 \\\n    --verbose\n    \nOK: Gateway 'WAN_DHCP' packets status: none, delay: 1.00 ms, loss: 9.00 %, stddev: 7.00 ms | 'WAN_DHCP#gateway.packets.delay.milliseconds'=1.00ms;;120;300; 'WAN_DHCP#gateway.packets.loss.percentage'=9.00%;;;5;10 'WAN_DHCP#gateway.packets.stddev.milliseconds'=7.00ms;;360;480;\nGateway 'WAN_DHCP' packets status: none, delay: 1.00 ms, loss: 9.00 %, stddev: 7.00 ms\n")),(0,a.kt)("p",null,"La commande ci-dessus contr\xf4le le statut d'une gateway d'un Pfsense via la Fauxapi (",(0,a.kt)("inlineCode",{parentName:"p"},"--mode=gateways"),")  nomm\xe9e ",(0,a.kt)("em",{parentName:"p"},"WAN_DHCP")," (",(0,a.kt)("inlineCode",{parentName:"p"},"--filter-name='WAN_DHCP'"),").\nLe Plugin utilise l'api-key (",(0,a.kt)("inlineCode",{parentName:"p"},"--api-key='myapikey'"),"), l'api-secret (",(0,a.kt)("inlineCode",{parentName:"p"},"--api-secret='myapisecret'"),")\net il se connecte \xe0 l'h\xf4te ",(0,a.kt)("em",{parentName:"p"},"10.0.0.1")," (",(0,a.kt)("inlineCode",{parentName:"p"},"--hostname='10.0.0.1'"),")\nsur le port ",(0,a.kt)("em",{parentName:"p"},"443")," (",(0,a.kt)("inlineCode",{parentName:"p"},"--port='443'"),") utilisant le protocol ",(0,a.kt)("em",{parentName:"p"},"https")," (",(0,a.kt)("inlineCode",{parentName:"p"},"--proto='https'"),")."),(0,a.kt)("p",null,"Cette commande d\xe9clenchera une alarme CRITICAL si le statut retourn\xe9 de la gateway est diff\xe9rent de ",(0,a.kt)("em",{parentName:"p"},"none")," (",(0,a.kt)("inlineCode",{parentName:"p"},"--critical-status='%{status} !~ /none/i'"),")."),(0,a.kt)("p",null,"Cette commande d\xe9clenchera une alarme WARNING si les paquets perdus d\xe9passe les 5% (",(0,a.kt)("inlineCode",{parentName:"p"},"--warning-packets-loss='5'"),")\net une alerte CRITICAL s'il d\xe9passe 10% (",(0,a.kt)("inlineCode",{parentName:"p"},"--critical-packets-loss='10'"),")."),(0,a.kt)("p",null,"Des seuils peuvent \xeatre positionn\xe9s \xe0 l'aide des options ",(0,a.kt)("inlineCode",{parentName:"p"},"--warning-*")," et ",(0,a.kt)("inlineCode",{parentName:"p"},"--critical-*")," sur les m\xe9triques."),(0,a.kt)("p",null,"Toutes les options et leur utilisation peuvent \xeatre consult\xe9es avec le param\xe8tre ",(0,a.kt)("inlineCode",{parentName:"p"},"--help")," ajout\xe9 \xe0 la commande:"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_pfsense_fauxapi.pl --plugin=apps::pfsense::fauxapi::plugin \\\n--mode=gateways --help\n")),(0,a.kt)("h3",s({},{id:"jobtiens-le-message-derreur-suivant"}),"J'obtiens le message d'erreur suivant:"),(0,a.kt)("h4",s({},{id:"unknown-500-cant-connect-to-mypfsensecom443-"}),(0,a.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: 500 Can't connect to mypfsense.com:443 |")),(0,a.kt)("p",null,"Lors du d\xe9ploiement de mes contr\xf4les, j'obtiens le message suivant ",(0,a.kt)("inlineCode",{parentName:"p"},"UNKNOWN: 500 Can't connect to mypfsense.com:443 |"),".\nCela signifie que Centreon n'a pas r\xe9ussi \xe0 se connecter \xe0 Pfsense Fauxapi (",(0,a.kt)("em",{parentName:"p"},"mypfsense.com"),").\nLa plupart du temps, il faut pr\xe9ciser le proxy \xe0 utiliser pour requ\xeater l'URL ",(0,a.kt)("em",{parentName:"p"},"mypfsense.com")," en utilisant l'option ",(0,a.kt)("inlineCode",{parentName:"p"},"--proxyurl='http://proxy.mycompany:8080'"),"."),(0,a.kt)("h4",s({},{id:"unknown-501-protocol-scheme-connect-is-not-supported-"}),(0,a.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: 501 Protocol scheme 'connect' is not supported |")),(0,a.kt)("p",null,"Suite \xe0 la mise en place du proxy, j'obtiens le message suivant ",(0,a.kt)("inlineCode",{parentName:"p"},"UNKNOWN: 501 Protocol scheme 'connect' is not supported |"),"\nCela signifie que le protocole de connexion au proxy n'est pas support\xe9 par la libraire ",(0,a.kt)("em",{parentName:"p"},"LWP")," utlis\xe9e par d\xe9faut par le Plugin Centreon.\nCette erreur peut \xeatre r\xe9solue en utilisant le backend HTTP ",(0,a.kt)("em",{parentName:"p"},"curl"),". Pour ce faire, ajoutez l'option ",(0,a.kt)("inlineCode",{parentName:"p"},"--http-backend='curl'")," \xe0 la commande."),(0,a.kt)("h3",s({},{id:"comment-puis-je-supprimer-les-perfdatas-count-dans-le-cas-o\xf9-je-ne-souhaite-v\xe9rifier-quune-seule-application-"}),"Comment puis-je supprimer les perfdatas ",(0,a.kt)("em",{parentName:"h3"},"count")," dans le cas o\xf9 je ne souhaite v\xe9rifier qu'une seule application ?"),(0,a.kt)("p",null,"Le Plugin permet de filtrer sur un ou plusieurs \xe9l\xe9ments mais permet \xe9galement de r\xe9cup\xe9rer l'ensemble des \xe9l\xe9ments si aucun filtre n'est sp\xe9cifi\xe9.\nDe ce fait, des perfdatas \"globales\" sur les statistiques des objets sont ajout\xe9es par d\xe9faut. Il est possible de supprimer ces donn\xe9es de performance en appliquant le filtre suivant: ",(0,a.kt)("inlineCode",{parentName:"p"},"--filter-perfdata='^$'"),"."))}f.isMDXComponent=!0},7626:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(67294),r=n(86010);const l="tabItem_Ymn6";function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}function i({children:e,hidden:t,className:n}){return a.createElement("div",s({role:"tabpanel",className:(0,r.Z)(l,n)},{hidden:t}),e)}},67709:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(67294),r=n(86010),l=n(90980),s=n(35715),i=n(8854),p=n(8241);const o="tabList__CuJ",u="tabItem_LNqP";function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(this,arguments)}function m(e){var t;const{lazy:n,block:l,defaultValue:m,values:d,groupId:f,className:k}=e,g=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),N=null!=d?d:g.map((({props:{value:e,label:t,attributes:n}})=>({value:e,label:t,attributes:n}))),b=(0,s.l)(N,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var v;const y=null===m?m:null!==(v=null!=m?m:null===(t=g.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==v?v:g[0].props.value;if(null!==y&&!N.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${N.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:h,setTabGroupChoices:P}=(0,i.U)(),[C,x]=(0,a.useState)(y),O=[],{blockElementScrollPositionUntilNextRender:w}=(0,p.o5)();if(null!=f){const e=h[f];null!=e&&e!==C&&N.some((t=>t.value===e))&&x(e)}const j=e=>{const t=e.currentTarget,n=O.indexOf(t),a=N[n].value;a!==C&&(w(t),x(a),null!=f&&P(f,String(a)))},T=e=>{let t=null;switch(e.key){case"ArrowRight":{const a=O.indexOf(e.currentTarget)+1;var n;t=null!==(n=O[a])&&void 0!==n?n:O[0];break}case"ArrowLeft":{const n=O.indexOf(e.currentTarget)-1;var a;t=null!==(a=O[n])&&void 0!==a?a:O[O.length-1];break}}null==t||t.focus()};return a.createElement("div",{className:(0,r.Z)("tabs-container",o)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":l},k)},N.map((({value:e,label:t,attributes:n})=>a.createElement("li",c({role:"tab",tabIndex:C===e?0:-1,"aria-selected":C===e,key:e,ref:e=>O.push(e),onKeyDown:T,onFocus:j,onClick:j},n,{className:(0,r.Z)("tabs__item",u,null==n?void 0:n.className,{"tabs__item--active":C===e})}),null!=t?t:e)))),n?(0,a.cloneElement)(g.filter((e=>e.props.value===C))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==C})))))}function d(e){const t=(0,l.Z)();return a.createElement(m,c({key:String(t)},e))}}}]);