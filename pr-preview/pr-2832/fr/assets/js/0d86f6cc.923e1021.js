"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[61166],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,g=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return n?r.createElement(g,l(l({ref:t},c),{},{components:n})):r.createElement(g,l({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,l[1]=i;for(var u=2;u<o;u++)l[u]=n[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7626:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(67294),a=n(86010);const o="tabItem_Ymn6";function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function i({children:e,hidden:t,className:n}){return r.createElement("div",l({role:"tabpanel",className:(0,a.Z)(o,n)},{hidden:t}),e)}},67709:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(67294),a=n(86010),o=n(90980),l=n(35715),i=n(8854),s=n(8241);const u="tabList__CuJ",c="tabItem_LNqP";function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function d(e){var t;const{lazy:n,block:o,defaultValue:d,values:m,groupId:g,className:f}=e,v=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),b=null!=m?m:v.map((({props:{value:e,label:t,attributes:n}})=>({value:e,label:t,attributes:n}))),h=(0,l.l)(b,((e,t)=>e.value===t.value));if(h.length>0)throw new Error(`Docusaurus error: Duplicate values "${h.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var y;const k=null===d?d:null!==(y=null!=d?d:null===(t=v.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==y?y:v[0].props.value;if(null!==k&&!b.some((e=>e.value===k)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${k}" but none of its children has the corresponding value. Available values are: ${b.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:O,setTabGroupChoices:N}=(0,i.U)(),[C,w]=(0,r.useState)(k),P=[],{blockElementScrollPositionUntilNextRender:j}=(0,s.o5)();if(null!=g){const e=O[g];null!=e&&e!==C&&b.some((t=>t.value===e))&&w(e)}const x=e=>{const t=e.currentTarget,n=P.indexOf(t),r=b[n].value;r!==C&&(j(t),w(r),null!=g&&N(g,String(r)))},_=e=>{let t=null;switch(e.key){case"ArrowRight":{const r=P.indexOf(e.currentTarget)+1;var n;t=null!==(n=P[r])&&void 0!==n?n:P[0];break}case"ArrowLeft":{const n=P.indexOf(e.currentTarget)-1;var r;t=null!==(r=P[n])&&void 0!==r?r:P[P.length-1];break}}null==t||t.focus()};return r.createElement("div",{className:(0,a.Z)("tabs-container",u)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":o},f)},b.map((({value:e,label:t,attributes:n})=>r.createElement("li",p({role:"tab",tabIndex:C===e?0:-1,"aria-selected":C===e,key:e,ref:e=>P.push(e),onKeyDown:_,onFocus:x,onClick:x},n,{className:(0,a.Z)("tabs__item",c,null==n?void 0:n.className,{"tabs__item--active":C===e})}),null!=t?t:e)))),n?(0,r.cloneElement)(v.filter((e=>e.props.value===C))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},v.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==C})))))}function m(e){const t=(0,o.Z)();return r.createElement(d,p({key:String(t)},e))}},51641:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>u,default:()=>g,frontMatter:()=>s,metadata:()=>c,toc:()=>d});n(67294);var r=n(3905),a=n(67709),o=n(7626);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const s={id:"nagios-to-centreon",title:"Nagios Reader vers Centreon CLAPI"},u=void 0,c={unversionedId:"migrate/nagios-to-centreon",id:"version-23.10/migrate/nagios-to-centreon",title:"Nagios Reader vers Centreon CLAPI",description:"Nagios Reader to Centreon CLAPI est un projet libre et open source qui",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-23.10/migrate/nagios-to-centreon.md",sourceDirName:"migrate",slug:"/migrate/nagios-to-centreon",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/migrate/nagios-to-centreon",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/next/i18n/fr/docusaurus-plugin-content-docs/version-23.10/migrate/nagios-to-centreon.md",tags:[],version:"23.10",lastUpdatedAt:1700565273,formattedLastUpdatedAt:"21 nov. 2023",frontMatter:{id:"nagios-to-centreon",title:"Nagios Reader vers Centreon CLAPI"},sidebar:"version-23.10/docs",previous:{title:"Migration depuis une plateforme Centreon 3.4",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/migrate/migrate-from-3-4"},next:{title:"Migration d'une plate-forme avec Poller Display",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/migrate/poller-display-to-remote-server"}},p={},d=[{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Installation",id:"installation",level:2},{value:"Utilisation",id:"utilisation",level:2}],m={toc:d};function g(e){var{components:t}=e,n=i(e,["components"]);return(0,r.kt)("wrapper",l({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Nagios Reader to Centreon CLAPI")," est un projet libre et open source qui\npermet d'analyser une configuration Nagios contenue dans les fichiers CFG et de\ntransformer celle-ci en commandes compatibles Centreon CALPI afin de pouvoir\nimporter les objets dans l'interface Centreon web."),(0,r.kt)("h2",l({},{id:"pr\xe9requis"}),"Pr\xe9requis"),(0,r.kt)("p",null,"Avant toute chose vous devez avoir une plate-forme Centreon install\xe9e et pr\xeate \xe0\nl'emploi. Se r\xe9f\xe9rer \xe0 la documentation\n",(0,r.kt)("a",l({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/fr/docs/installation/installation-of-a-central-server/using-packages"}),"d'installation de Centreon"),"."),(0,r.kt)("h2",l({},{id:"installation"}),"Installation"),(0,r.kt)("p",null,"Le script n\xe9cessite le module Perl-Nagios-Object pour lire les fichiers CFG.\nPour installer ce dernier, ex\xe9cutez les commandes suivantes sur votre serveur\nNagios(R) :"),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"dnf install perl-Module-Build\n"))),(0,r.kt)(o.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"dnf install perl-Module-Build\n"))),(0,r.kt)(o.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"apt-get install libmodule-build-perl\n")))),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"cd /tmp\nwget http://search.cpan.org/CPAN/authors/id/D/DU/DUNCS/Nagios-Object-0.21.20.tar.gz\ntar xzf Nagios-Object-0.21.20.tar.gz\ncd Nagios-Object-0.21.20\nperl Build.PL\n./Build\n./Build test\n./Build install\n")),(0,r.kt)("p",null,"Puis t\xe9l\xe9charger le script depuis GitHub sur votre serveur Nagios(R) :"),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"cd /tmp\ngit clone https://github.com/centreon/nagiosToCentreon.git\ncd nagiosToCentreon\n")),(0,r.kt)("h2",l({},{id:"utilisation"}),"Utilisation"),(0,r.kt)("p",null,'Sur une nouvelle installation de Centreon, le collecteur par d\xe9faut est appel\xe9\n"Central". Si le nom de ce dernier est diff\xe9rent, vous devez modifier le script\npour modifier le nom par d\xe9faut \xe0 la ligne 65 :'),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-perl"}),'my $default_poller = "Central";\n')),(0,r.kt)("p",null,"Pour afficher l'aide, ex\xe9cutez la commande :"),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"$ perl nagios_reader_to_centreon_clapi.pl --help\n######################################################\n#    Copyright (c) 2005-2015 Centreon                #\n#    Bugs to http://github.com/nagiosToCentreon      #\n######################################################\n\nUsage: nagios_reader_to_centreon_clapi.pl\n    -V (--version) Show script version\n    -h (--help)    Usage help\n    -C (--config)  Path to nagios.cfg file\n")),(0,r.kt)("p",null,"Pour ex\xe9cuter le script lancer la commande :"),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"perl nagios_reader_to_centreon_clapi.pl --config /usr/local/nagios/etc/ > /tmp/centreon_clapi_import_commands.txt\n")),(0,r.kt)("p",null,"Exportez le fichier ",(0,r.kt)("strong",{parentName:"p"},"/tmp/centreon","_","clapi","_","import","_","commands.txt")," sur votre\nserveur Centreon."),(0,r.kt)("p",null,"Enfin ex\xe9cutez la commande suivante pour importer les objets dans Centreon web :"),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"/usr/share/centreon/bin/centreon -u admin -p <PASSWORD> -i /tmp/centreon_clapi_import_commands.txt\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Remplacez ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"<PASSWORD>"))," par le mot de passe de l'utilisateur ",(0,r.kt)("strong",{parentName:"p"},"admin")," de\nCentreon web.")))}g.isMDXComponent=!0}}]);