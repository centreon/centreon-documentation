"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[10638],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>d});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=a.createContext({}),c=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=c(e.components);return a.createElement(i.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},p=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(t),d=r,f=p["".concat(i,".").concat(d)]||p[d]||m[d]||o;return t?a.createElement(f,l(l({ref:n},u),{},{components:t})):a.createElement(f,l({ref:n},u))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,l=new Array(o);l[0]=p;var s={};for(var i in n)hasOwnProperty.call(n,i)&&(s[i]=n[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var c=2;c<o;c++)l[c]=t[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},7626:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(67294),r=t(86010);const o="tabItem_Ymn6";function l(){return l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l.apply(this,arguments)}function s({children:e,hidden:n,className:t}){return a.createElement("div",l({role:"tabpanel",className:(0,r.Z)(o,t)},{hidden:n}),e)}},67709:(e,n,t)=>{t.d(n,{Z:()=>d});var a=t(67294),r=t(86010),o=t(90980),l=t(35715),s=t(8854),i=t(8241);const c="tabList__CuJ",u="tabItem_LNqP";function m(){return m=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},m.apply(this,arguments)}function p(e){var n;const{lazy:t,block:o,defaultValue:p,values:d,groupId:f,className:v}=e,g=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),b=null!=d?d:g.map((({props:{value:e,label:n,attributes:t}})=>({value:e,label:n,attributes:t}))),k=(0,l.l)(b,((e,n)=>e.value===n.value));if(k.length>0)throw new Error(`Docusaurus error: Duplicate values "${k.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var h;const N=null===p?p:null!==(h=null!=p?p:null===(n=g.find((e=>e.props.default)))||void 0===n?void 0:n.props.value)&&void 0!==h?h:g[0].props.value;if(null!==N&&!b.some((e=>e.value===N)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${N}" but none of its children has the corresponding value. Available values are: ${b.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:y,setTabGroupChoices:O}=(0,s.U)(),[L,E]=(0,a.useState)(N),T=[],{blockElementScrollPositionUntilNextRender:x}=(0,i.o5)();if(null!=f){const e=y[f];null!=e&&e!==L&&b.some((n=>n.value===e))&&E(e)}const j=e=>{const n=e.currentTarget,t=T.indexOf(n),a=b[t].value;a!==L&&(x(n),E(a),null!=f&&O(f,String(a)))},C=e=>{let n=null;switch(e.key){case"ArrowRight":{const a=T.indexOf(e.currentTarget)+1;var t;n=null!==(t=T[a])&&void 0!==t?t:T[0];break}case"ArrowLeft":{const t=T.indexOf(e.currentTarget)-1;var a;n=null!==(a=T[t])&&void 0!==a?a:T[T.length-1];break}}null==n||n.focus()};return a.createElement("div",{className:(0,r.Z)("tabs-container",c)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":o},v)},b.map((({value:e,label:n,attributes:t})=>a.createElement("li",m({role:"tab",tabIndex:L===e?0:-1,"aria-selected":L===e,key:e,ref:e=>T.push(e),onKeyDown:C,onFocus:j,onClick:j},t,{className:(0,r.Z)("tabs__item",u,null==t?void 0:t.className,{"tabs__item--active":L===e})}),null!=n?n:e)))),t?(0,a.cloneElement)(g.filter((e=>e.props.value===L))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},g.map(((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==L})))))}function d(e){const n=(0,o.Z)();return a.createElement(p,m({key:String(n)},e))}},62117:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>m,contentTitle:()=>c,default:()=>f,frontMatter:()=>i,metadata:()=>u,toc:()=>p});t(67294);var a=t(3905),r=t(67709),o=t(7626);function l(){return l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l.apply(this,arguments)}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}const i={id:"commands",title:"Les commandes"},c=void 0,u={unversionedId:"monitoring/basic-objects/commands",id:"version-23.10/monitoring/basic-objects/commands",title:"Les commandes",description:"D\xe9finition",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-23.10/monitoring/basic-objects/commands.md",sourceDirName:"monitoring/basic-objects",slug:"/monitoring/basic-objects/commands",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/monitoring/basic-objects/commands",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/next/i18n/fr/docusaurus-plugin-content-docs/version-23.10/monitoring/basic-objects/commands.md",tags:[],version:"23.10",lastUpdatedAt:1700565273,formattedLastUpdatedAt:"21 nov. 2023",frontMatter:{id:"commands",title:"Les commandes"},sidebar:"version-23.10/docs",previous:{title:"Les macros",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/monitoring/basic-objects/macros"},next:{title:"Actions g\xe9n\xe9riques",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/monitoring/generic-actions"}},m={},p=[{value:"D\xe9finition",id:"d\xe9finition",level:2},{value:"Ajouter une commande",id:"ajouter-une-commande",level:2},{value:"Les champs de configuration",id:"les-champs-de-configuration",level:2},{value:"Arguments et macros",id:"arguments-et-macros",level:2},{value:"Les connecteurs",id:"les-connecteurs",level:2},{value:"Connecteur SSH",id:"connecteur-ssh",level:3},{value:"Installation",id:"installation",level:4},{value:"Perl connector",id:"perl-connector",level:3},{value:"Installation",id:"installation-1",level:4}],d={toc:p};function f(e){var{components:n}=e,i=s(e,["components"]);return(0,a.kt)("wrapper",l({},d,i,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",l({},{id:"d\xe9finition"}),"D\xe9finition"),(0,a.kt)("p",null,"Une commande est la d\xe9finition d\u2019une ligne de commande qui utilise un script ou une application afin de r\xe9aliser une\naction. Il est possible d\u2019ex\xe9cuter cette commande en pr\xe9cisant des arguments."),(0,a.kt)("p",null,"Il existe quatre types de commandes :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Verification")," sont utilis\xe9es par les ordonnanceurs afin de v\xe9rifier le statut d\u2019un h\xf4te ou d\u2019un service"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Notification")," sont utilis\xe9es par les ordonnanceurs pour alerter les contacts (via mail, SMS...)."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Discovery")," sont utilis\xe9es par les r\xe8gles de d\xe9couverte."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Miscellaneous")," sont utilis\xe9es par les modules compl\xe9mentaires (pour effectuer certaines actions), par\nl\u2019ordonnanceur pour le traitement des donn\xe9es...")),(0,a.kt)("p",null,"Toutes les commandes peuvent \xeatre configur\xe9es au sein du menu : ",(0,a.kt)("strong",{parentName:"p"},"Configuration > Commands"),"."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:t(46044).Z,width:"1809",height:"571"})),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},'Par d\xe9faut, les commandes verrouill\xe9es sont masqu\xe9es. Cocher la case "El\xe9ments verrouill\xe9s" pour les afficher toutes.')),(0,a.kt)("h2",l({},{id:"ajouter-une-commande"}),"Ajouter une commande"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Rendez-vous dans le menu ",(0,a.kt)("strong",{parentName:"li"},"Configuration > Commands")),(0,a.kt)("li",{parentName:"ol"},"Cliquez sur le bouton ",(0,a.kt)("strong",{parentName:"li"},"Add"))),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:t(83767).Z,width:"1974",height:"1278"})),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Les champs de configuration d\u2019une commande sont les m\xeames qu\u2019importe le type de commande choisi.")),(0,a.kt)("h2",l({},{id:"les-champs-de-configuration"}),"Les champs de configuration"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Le champ ",(0,a.kt)("strong",{parentName:"p"},"command Name")," d\xe9finit le nom de la commande.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Le champ ",(0,a.kt)("strong",{parentName:"p"},"Command Type")," permet de choisir le type de commande.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Le champ ",(0,a.kt)("strong",{parentName:"p"},"Command Line")," indique l\u2019application ou le script utilis\xe9 avec la commande.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"La case ",(0,a.kt)("strong",{parentName:"p"},"Enable shell"),"  permet d\u2019activer des fonctions propres \xe0 un shell tel que le pipe...")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Le champ ",(0,a.kt)("strong",{parentName:"p"},"Argument Example"),' d\xe9finir des exemples d\'arguments (chaque argument commence par un "!")')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Le bouton ",(0,a.kt)("strong",{parentName:"p"},"Describe arguments")," permet d\u2019ajouter une description aux arguments de type \u201c$ARGn$\u201d. Cette description\nsera visible lors de l\u2019utilisation de la commande dans un formulaire d\u2019h\xf4te ou de service.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Le bouton ",(0,a.kt)("strong",{parentName:"p"},"Clear arguments")," efface la description des arguments d\xe9finie")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Le bouton ",(0,a.kt)("strong",{parentName:"p"},"Describe macros")," permet d\u2019ajouter une description aux macros personalis\xe9es. Ces descriptions seront\nvisibles lors de l\u2019ajout de la commande sur un host ou un service.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"La liste de s\xe9lection ",(0,a.kt)("strong",{parentName:"p"},"Connectors")," permet de lier un connecteur \xe0 la commande. Pour davantage d\u2019informations sur\nles connecteurs reportez-vous au chapitre ",(0,a.kt)("a",l({parentName:"p"},{href:"#les-connecteurs"}),"les connecteurs"),".")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Le champ ",(0,a.kt)("strong",{parentName:"p"},"Graph template")," permet de lier la commande \xe0 un mod\xe8le de graphique.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Le champ ",(0,a.kt)("strong",{parentName:"p"},"Comment")," permet de commenter la commande."))),(0,a.kt)("h2",l({},{id:"arguments-et-macros"}),"Arguments et macros"),(0,a.kt)("p",null,"Au sein du champ ",(0,a.kt)("strong",{parentName:"p"},"Command Line")," il est possible de faire appel \xe0 des\n",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("a",l({parentName:"em"},{href:"/centreon-documentation/pr-preview/pr-2832/fr/docs/monitoring/basic-objects/macros"}),"macros"))," ainsi qu\u2019\xe0 des arguments."),(0,a.kt)("p",null,"Les arguments sont utilis\xe9s afin de pouvoir passer diff\xe9rents param\xe8tres aux scripts appel\xe9s par les commandes. Lors de\nl\u2019ex\xe9cution de la commande par l\u2019ordonnanceur, chacun des arguments et macros sont remplac\xe9s par leur valeur respective.\nChaque macro se pr\xe9sente sous la forme ",(0,a.kt)("strong",{parentName:"p"},"$valeur$")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"$CENTREONPLUGINS$/centreon_linux_snmp.pl --plugin=os::linux::snmp::plugin --mode=cpu \\\n--hostname=$HOSTADDRESS$ --snmp-version='$_HOSTSNMPVERSION$' \\\n--snmp-community='$_HOSTSNMPCOMMUNITY$' $_HOSTSNMPEXTRAOPTIONS$ \\\n--warning-average='$_SERVICEWARNING$' \\\n--critical-average='$_SERVICECRITICAL$' $_SERVICEEXTRAOPTIONS$\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"La bonne pratique veut que nous remplacions les arguments par des\n",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("a",l({parentName:"em"},{href:"/centreon-documentation/pr-preview/pr-2832/fr/docs/monitoring/basic-objects/macros#les-macros-personnalis%C3%A9es"}),"macros personnalis\xe9es")),".")),(0,a.kt)("h2",l({},{id:"les-connecteurs"}),"Les connecteurs"),(0,a.kt)("h3",l({},{id:"connecteur-ssh"}),"Connecteur SSH"),(0,a.kt)("p",null,"Le connecteur Centreon SSH Connector est un logiciel Centreon gratuit, disponible sous licence Apache Software License version 2 (ASL 2.0).\nUtilis\xe9 avec Centreon Engine, il acc\xe9l\xe8re l'ex\xe9cution des contr\xf4les faits via SSH."),(0,a.kt)("h4",l({},{id:"installation"}),"Installation"),(0,a.kt)("p",null,"Ex\xe9cutez la commande suivante en tant qu'utilisateur privil\xe9gi\xe9 :"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"dnf install centreon-connector-ssh\n"))),(0,a.kt)(o.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"dnf install centreon-connector-ssh\n"))),(0,a.kt)(o.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"apt install centreon-connector-ssh\n")))),(0,a.kt)("h3",l({},{id:"perl-connector"}),"Perl connector"),(0,a.kt)("p",null,"Le connecteur Centreon Perl Connector est un logiciel Centreon gratuit, disponible sous licence Apache Software License version 2 (ASL 2.0).\nUtilis\xe9 avec Centreon Engine, il acc\xe9l\xe8re l'ex\xe9cution des scripts Perl."),(0,a.kt)("h4",l({},{id:"installation-1"}),"Installation"),(0,a.kt)("p",null,"Ex\xe9cutez la commande suivante en tant qu'utilisateur privil\xe9gi\xe9 :"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"dnf install centreon-connector-perl\n"))),(0,a.kt)(o.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"dnf install centreon-connector-perl\n"))),(0,a.kt)(o.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"apt install centreon-connector-perl\n")))))}f.isMDXComponent=!0},83767:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/04command-bc491d2b335a9186d768e5d82688ba5b.png"},46044:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/04commandlist-01e4e53d62927daeb15bbf4ced2db8a1.png"}}]);