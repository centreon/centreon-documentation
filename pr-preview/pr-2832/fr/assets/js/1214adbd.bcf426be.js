"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[83258],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=p(a),m=r,k=d["".concat(o,".").concat(m)]||d[m]||c[m]||l;return a?n.createElement(k,i(i({ref:t},u),{},{components:a})):n.createElement(k,i({ref:t},u))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},6219:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>p,default:()=>k,frontMatter:()=>o,metadata:()=>u,toc:()=>d});a(67294);var n=a(3905),r=a(67709),l=a(7626);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const o={id:"applications-rubrik-restapi",title:"Rubrik Rest API"},p=void 0,u={unversionedId:"integrations/plugin-packs/procedures/applications-rubrik-restapi",id:"integrations/plugin-packs/procedures/applications-rubrik-restapi",title:"Rubrik Rest API",description:"Contenu du Plugin-Pack",source:"@site/i18n/fr/docusaurus-plugin-content-docs-pp/current/integrations/plugin-packs/procedures/applications-rubrik-restapi.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/applications-rubrik-restapi",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-rubrik-restapi",draft:!1,tags:[],version:"current",frontMatter:{id:"applications-rubrik-restapi",title:"Rubrik Rest API"},sidebar:"pp",previous:{title:"Redis Sentinel",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-redis-sentinel"},next:{title:"Rudder",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-rudder-restapi"}},c={},d=[{value:"Contenu du Plugin-Pack",id:"contenu-du-plugin-pack",level:2},{value:"Objets supervis\xe9s",id:"objets-supervis\xe9s",level:3},{value:"M\xe9triques collect\xe9es",id:"m\xe9triques-collect\xe9es",level:3},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"Comment puis-je tester le Plugin et que signifient les options des commandes ?",id:"comment-puis-je-tester-le-plugin-et-que-signifient-les-options-des-commandes-",level:3},{value:"J&#39;obtiens le message d&#39;erreur suivant: <code>UNKNOWN: 500 Can&#39;t connect to 10.0.0.1:80 |</code>",id:"jobtiens-le-message-derreur-suivant-unknown-500-cant-connect-to-1000180-",level:3},{value:"J&#39;obtiens le message d&#39;erreur suivant: <code>UNKNOWN: 501 Protocol scheme &#39;connect&#39; is not supported |</code>",id:"jobtiens-le-message-derreur-suivant-unknown-501-protocol-scheme-connect-is-not-supported-",level:3}],m={toc:d};function k(e){var{components:t}=e,a=s(e,["components"]);return(0,n.kt)("wrapper",i({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",i({},{id:"contenu-du-plugin-pack"}),"Contenu du Plugin-Pack"),(0,n.kt)("h3",i({},{id:"objets-supervis\xe9s"}),"Objets supervis\xe9s"),(0,n.kt)("p",null,"Le Plugin-Pack Centreon Rubrik permet (par l'interrogation de l'API Rest) de superviser\nle statut et les performances Clusters et ses Noeuds. Cela inclut notamment les composants\ndisques, les t\xe2ches, etc."),(0,n.kt)("h3",i({},{id:"m\xe9triques-collect\xe9es"}),"M\xe9triques collect\xe9es"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Disk",label:"Disk",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"cluster.disks.total.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Total number cluster disks"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"cluster.disks.active.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of active disks"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ms"))))),(0,n.kt)(l.Z,{value:"Cluster",label:"Cluster",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"cluster.io.read.usage.bytespersecond"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Usage of cluster read I/Os"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B/s")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"cluster.io.write.usage.bytespersecond"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Usage of cluster write I/Os"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B/s")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"cluster.io.read.usage.iops"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Usage of cluster read I/Os"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"iops")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"cluster.io.write.usage.iops"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Usage IOPS of cluster write I/Os"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"iops"))))),(0,n.kt)(l.Z,{value:"Compliance",label:"Compliance",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"backup.objects.incompliance.24h.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of backup objects compliance in 24h"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"backup.objects.noncompliance.24h.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of backup objects no compliance in 24h"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"})))))),(0,n.kt)(l.Z,{value:"Node",label:"Node",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"cluster.nodes.total.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Total number of node in the cluster"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"cluster.nodes.ok.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),'Number of node "OK" in the cluster'),(0,n.kt)("td",i({parentName:"tr"},{align:"left"})))))),(0,n.kt)(l.Z,{value:"Storage",label:"Storage",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"storage.space.usage.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Usage space storage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"storage.space.free.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Free space storage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"storage.space.usage.percentage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Percentage usage space storage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"storage.full.remaining.days.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of remaining day storage full"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"d"))))),(0,n.kt)(l.Z,{value:"Task",label:"Task",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"tasks.succeeded.24h.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of task succeeded in 24h"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"tasks.failed.24h.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of task failed in 24h"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"tasks.canceled.24h.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of task canceled in 24h"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}))))))),(0,n.kt)("h2",i({},{id:"pr\xe9requis"}),"Pr\xe9requis"),(0,n.kt)("p",null,"L'API Rubrik REST fournit une interface RESTful pour travailler avec les clusters Rubrik et les ",(0,n.kt)("em",{parentName:"p"},"appliances")," virtuelles Rubrik Edge. "),(0,n.kt)("p",null,"L'API peut \xeatre utilis\xe9e pour interroger, configurer et contr\xf4ler presque toutes les op\xe9rations du logiciel Rubrik."),(0,n.kt)("p",null,"Si vous avez acc\xe8s \xe0 un cluster Rubrik, vous pouvez \xe9galement utiliser l'aire de jeu Rubrik API \xe0 l'adresse suivante:"),(0,n.kt)("p",null,"https://{{node_ip}}/docs/{{{v1|v2|internal}}/playground"),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"Note : les param\xe8tres internes de l'API peuvent changer entre les versions du MDP2")),(0,n.kt)("p",null,"Plus d'informations disponibles sur : ",(0,n.kt)("a",i({parentName:"p"},{href:"https://github.com/rubrikinc/api-documentation"}),"https://github.com/rubrikinc/api-documentation")),(0,n.kt)("h2",i({},{id:"installation"}),"Installation"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Installer le Plugin sur chaque collecteur Centreon devant superviser les ressources ",(0,n.kt)("em",{parentName:"li"},"Rubrik Rest API"),":")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Rubrik-Restapi\n")),(0,n.kt)("ol",i({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"Sur l'interface Web de Centreon, installer le Plugin-Pack ",(0,n.kt)("em",{parentName:"li"},"Rubrik Rest API"),'\ndepuis la page "Configuration > Plugin Packs > Gestionnaire"'))),(0,n.kt)(l.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Installer le Plugin sur chaque collecteur Centreon devant superviser les ressources ",(0,n.kt)("em",{parentName:"li"},"Rubrik Rest API"),":")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Rubrik-Restapi\n")),(0,n.kt)("ol",i({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"Installer le RPM du Plugin-Pack sur le serveur Centreon Central:")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-applications-rubrik-restapi\n")),(0,n.kt)("ol",i({},{start:3}),(0,n.kt)("li",{parentName:"ol"},"Sur l'interface Web de Centreon, installer le Plugin-Pack ",(0,n.kt)("em",{parentName:"li"},"Rubrik RestAPI"),'\ndepuis la page "Configuration > Plugin Packs > Gestionnaire"')))),(0,n.kt)("h2",i({},{id:"configuration"}),"Configuration"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'Ajoutez un nouvel H\xf4te depuis la page "Configuration > H\xf4tes"'),(0,n.kt)("li",{parentName:"ul"},'Compl\xe9tez les champs "Nom","Alias" & "IP Address / DNS" correspondant \xe0 votre serveur Rubrik RestAPI'),(0,n.kt)("li",{parentName:"ul"},"Appliquez le Mod\xe8le d'H\xf4te ",(0,n.kt)("em",{parentName:"li"},"App-Rubrik-Restapi-custom"))),(0,n.kt)("p",null,"Les Macros d'H\xf4te ci-apr\xe8s doivent \xeatre renseign\xe9es le cas \xe9ch\xe9ant:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Mandatory"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"RUBRIKAPIPORT"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"RestAPI port of the Rubrik RestAPI (Default: '443')")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"RUBRIKAPIPROTO"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Protocol used to reach the Rubrik RestAPI (Default: 'https')")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"})),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"RUBRIKAPIEXTRAOPTIONS"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Any extra option you may want to add to every command","_","line (eg. a --verbose flag)")))),(0,n.kt)("h2",i({},{id:"faq"}),"FAQ"),(0,n.kt)("h3",i({},{id:"comment-puis-je-tester-le-plugin-et-que-signifient-les-options-des-commandes-"}),"Comment puis-je tester le Plugin et que signifient les options des commandes ?"),(0,n.kt)("p",null,"Une fois le Plugin install\xe9, vous pouvez tester celui-ci directement en ligne de commande\ndepuis un collecteur Centreon en vous connectant avec l'utilisateur ",(0,n.kt)("em",{parentName:"p"},"centreon-engine"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_rubrik_restapi.pl \\\n    --plugin=apps::backup::rubrik::restapi::plugin \\\n    --mode=nodes \\\n    --hostname='10.0.0.1' \\\n    --proto='https' \\\n    --port='443' \\\n    --proxyurl='http://myproxy.mycompany.org:8080' \\\n    --api-password='****' \\\n    --api-username='centreon' \\\n    --verbose\n")),(0,n.kt)("p",null,"La commande devrait retourner un message de sortie de la forme ci-dessous:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"OK: cluster 'RubrikOne' nodes are ok | 'RubrikOne#cluster.nodes.total.count'=7;;;0; 'RubrikOne#cluster.nodes.ok.count'=7;;;0;7\nchecking cluster 'RubrikOne'\nnode 'RVM15CS00XXXX' [ip address: 172.10.69.92] status: ok\nnode 'RVM15CS00XXXX' [ip address: 172.10.69.93] status: ok\nnode 'RVM15CS00XXXX' [ip address: 172.10.69.94] status: ok\nnode 'RVM18BS00XXXX' [ip address: 172.10.69.91] status: ok\nnode 'RVMHM194S00XXXX' [ip address: 172.10.69.95] status: ok\nnode 'RVMHM194S00XXXX' [ip address: 172.10.69.96] status: ok\nnode 'RVMHM194S00XXXX' [ip address: 172.10.69.97] status: ok\n")),(0,n.kt)("p",null,"Dans cet exemple, le Plugin r\xe9cup\xe8re les statuts des ",(0,n.kt)("em",{parentName:"p"},"nodes")," (",(0,n.kt)("inlineCode",{parentName:"p"},"--plugin=apps::backup::rubrik::restapi::plugin --mode=nodes"),")\ndu cluster Rubrik ayant l'adresse IP ",(0,n.kt)("em",{parentName:"p"},"10.0.0.1")," (",(0,n.kt)("inlineCode",{parentName:"p"},"--hostname='10.0.0.1'"),")."),(0,n.kt)("p",null,"La liste de toutes les m\xe9triques, seuils associ\xe9s et options compl\xe9mentaires peut \xeatre affich\xe9e\nen ajoutant le param\xe8tre ",(0,n.kt)("inlineCode",{parentName:"p"},"--help")," \xe0 la commande:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_rubrik_restapi.pl \\\n    --plugin=apps::backup::rubrik::restapi::plugin \\\n    --mode=nodes \\\n    --help\n")),(0,n.kt)("h3",i({},{id:"jobtiens-le-message-derreur-suivant-unknown-500-cant-connect-to-1000180-"}),"J'obtiens le message d'erreur suivant: ",(0,n.kt)("inlineCode",{parentName:"h3"},"UNKNOWN: 500 Can't connect to 10.0.0.1:80 |")),(0,n.kt)("p",null,"Lors du d\xe9ploiement de mes contr\xf4les, j'obtiens le message suivant: ",(0,n.kt)("inlineCode",{parentName:"p"},"UNKNOWN: 500 Can't connect to 10.0.0.1:443 |"),"."),(0,n.kt)("p",null,"Cette erreur signifie que Centreon n'a pas r\xe9ussi \xe0 se connecter \xe0 l'API du cluster Rubrik RestAPI.\nV\xe9rifiez que la requ\xeate n'est pas bloqu\xe9e par un outil externe\n(un pare-feu par exemple). Si vous utilisez un proxy, renseignez son URL dans\nla Macro ",(0,n.kt)("em",{parentName:"p"},"EXTRAOPTIONS")," de l'H\xf4te ou directement dans la\ncommande avec l'option ",(0,n.kt)("inlineCode",{parentName:"p"},"--proxyurl"),"."),(0,n.kt)("p",null,"Si un certificat auto-sign\xe9 est utilis\xe9, il est n\xe9cessaire d'ajouter les options suivantes permettant d'ignorer\nsa validit\xe9:\n",(0,n.kt)("inlineCode",{parentName:"p"},"--http-backend='curl' --ssl-opt='SSL_verify_mode => SSL_VERIFY_NONE'")),(0,n.kt)("h3",i({},{id:"jobtiens-le-message-derreur-suivant-unknown-501-protocol-scheme-connect-is-not-supported-"}),"J'obtiens le message d'erreur suivant: ",(0,n.kt)("inlineCode",{parentName:"h3"},"UNKNOWN: 501 Protocol scheme 'connect' is not supported |")),(0,n.kt)("p",null,"Dans certains cas, et plus sp\xe9cifiquement lors de l'usage d'un proxy\nd'entreprise, le protocole de connexion n'est pas support\xe9 par la libraire ",(0,n.kt)("em",{parentName:"p"},"lwp"),"\nutlis\xe9e par d\xe9faut par le Plugin Centreon."),(0,n.kt)("p",null,"Cette erreur peut \xeatre r\xe9solue en utilisant le backend HTTP ",(0,n.kt)("em",{parentName:"p"},"curl"),".\nPour ce faire, ajoutez l'option ",(0,n.kt)("inlineCode",{parentName:"p"},"--http-backend='curl'")," la Macro ",(0,n.kt)("em",{parentName:"p"},"EXTRAOPTIONS")," de l'H\xf4te ou directement \xe0 la commande."))}k.isMDXComponent=!0},7626:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(67294),r=a(86010);const l="tabItem_Ymn6";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function s({children:e,hidden:t,className:a}){return n.createElement("div",i({role:"tabpanel",className:(0,r.Z)(l,a)},{hidden:t}),e)}},67709:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(67294),r=a(86010),l=a(90980),i=a(35715),s=a(8854),o=a(8241);const p="tabList__CuJ",u="tabItem_LNqP";function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(this,arguments)}function d(e){var t;const{lazy:a,block:l,defaultValue:d,values:m,groupId:k,className:g}=e,b=n.Children.map(e.children,(e=>{if((0,n.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),f=null!=m?m:b.map((({props:{value:e,label:t,attributes:a}})=>({value:e,label:t,attributes:a}))),N=(0,i.l)(f,((e,t)=>e.value===t.value));if(N.length>0)throw new Error(`Docusaurus error: Duplicate values "${N.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var v;const h=null===d?d:null!==(v=null!=d?d:null===(t=b.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==v?v:b[0].props.value;if(null!==h&&!f.some((e=>e.value===h)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${h}" but none of its children has the corresponding value. Available values are: ${f.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:y,setTabGroupChoices:P}=(0,s.U)(),[O,R]=(0,n.useState)(h),I=[],{blockElementScrollPositionUntilNextRender:C}=(0,o.o5)();if(null!=k){const e=y[k];null!=e&&e!==O&&f.some((t=>t.value===e))&&R(e)}const T=e=>{const t=e.currentTarget,a=I.indexOf(t),n=f[a].value;n!==O&&(C(t),R(n),null!=k&&P(k,String(n)))},j=e=>{let t=null;switch(e.key){case"ArrowRight":{const n=I.indexOf(e.currentTarget)+1;var a;t=null!==(a=I[n])&&void 0!==a?a:I[0];break}case"ArrowLeft":{const a=I.indexOf(e.currentTarget)-1;var n;t=null!==(n=I[a])&&void 0!==n?n:I[I.length-1];break}}null==t||t.focus()};return n.createElement("div",{className:(0,r.Z)("tabs-container",p)},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":l},g)},f.map((({value:e,label:t,attributes:a})=>n.createElement("li",c({role:"tab",tabIndex:O===e?0:-1,"aria-selected":O===e,key:e,ref:e=>I.push(e),onKeyDown:j,onFocus:T,onClick:T},a,{className:(0,r.Z)("tabs__item",u,null==a?void 0:a.className,{"tabs__item--active":O===e})}),null!=t?t:e)))),a?(0,n.cloneElement)(b.filter((e=>e.props.value===O))[0],{className:"margin-top--md"}):n.createElement("div",{className:"margin-top--md"},b.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==O})))))}function m(e){const t=(0,l.Z)();return n.createElement(d,c({key:String(t)},e))}}}]);