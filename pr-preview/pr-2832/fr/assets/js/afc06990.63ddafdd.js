"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[13469],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>m});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var i=a.createContext({}),u=function(e){var t=a.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},p=function(e){var t=u(e.components);return a.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,s=e.originalType,i=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=u(r),m=n,v=d["".concat(i,".").concat(m)]||d[m]||c[m]||s;return r?a.createElement(v,l(l({ref:t},p),{},{components:r})):a.createElement(v,l({ref:t},p))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=r.length,l=new Array(s);l[0]=d;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var u=2;u<s;u++)l[u]=r[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},7626:(e,t,r)=>{r.d(t,{Z:()=>o});var a=r(67294),n=r(86010);const s="tabItem_Ymn6";function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l.apply(this,arguments)}function o({children:e,hidden:t,className:r}){return a.createElement("div",l({role:"tabpanel",className:(0,n.Z)(s,r)},{hidden:t}),e)}},67709:(e,t,r)=>{r.d(t,{Z:()=>m});var a=r(67294),n=r(86010),s=r(90980),l=r(35715),o=r(8854),i=r(8241);const u="tabList__CuJ",p="tabItem_LNqP";function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c.apply(this,arguments)}function d(e){var t;const{lazy:r,block:s,defaultValue:d,values:m,groupId:v,className:g}=e,f=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),b=null!=m?m:f.map((({props:{value:e,label:t,attributes:r}})=>({value:e,label:t,attributes:r}))),k=(0,l.l)(b,((e,t)=>e.value===t.value));if(k.length>0)throw new Error(`Docusaurus error: Duplicate values "${k.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var y;const h=null===d?d:null!==(y=null!=d?d:null===(t=f.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==y?y:f[0].props.value;if(null!==h&&!b.some((e=>e.value===h)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${h}" but none of its children has the corresponding value. Available values are: ${b.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:N,setTabGroupChoices:O}=(0,o.U)(),[q,w]=(0,a.useState)(h),S=[],{blockElementScrollPositionUntilNextRender:E}=(0,i.o5)();if(null!=v){const e=N[v];null!=e&&e!==q&&b.some((t=>t.value===e))&&w(e)}const T=e=>{const t=e.currentTarget,r=S.indexOf(t),a=b[r].value;a!==q&&(E(t),w(a),null!=v&&O(v,String(a)))},_=e=>{let t=null;switch(e.key){case"ArrowRight":{const a=S.indexOf(e.currentTarget)+1;var r;t=null!==(r=S[a])&&void 0!==r?r:S[0];break}case"ArrowLeft":{const r=S.indexOf(e.currentTarget)-1;var a;t=null!==(a=S[r])&&void 0!==a?a:S[S.length-1];break}}null==t||t.focus()};return a.createElement("div",{className:(0,n.Z)("tabs-container",u)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,n.Z)("tabs",{"tabs--block":s},g)},b.map((({value:e,label:t,attributes:r})=>a.createElement("li",c({role:"tab",tabIndex:q===e?0:-1,"aria-selected":q===e,key:e,ref:e=>S.push(e),onKeyDown:_,onFocus:T,onClick:T},r,{className:(0,n.Z)("tabs__item",p,null==r?void 0:r.className,{"tabs__item--active":q===e})}),null!=t?t:e)))),r?(0,a.cloneElement)(f.filter((e=>e.props.value===q))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},f.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==q})))))}function m(e){const t=(0,s.Z)();return a.createElement(d,c({key:String(t)},e))}},71128:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>v,frontMatter:()=>i,metadata:()=>p,toc:()=>d});r(67294);var a=r(3905),n=r(67709),s=r(7626);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const i={id:"monitor-mysql-server",title:"Superviser une base de donn\xe9es MySQL ou MariaDB"},u=void 0,p={unversionedId:"getting-started/monitor-mysql-server",id:"version-23.10/getting-started/monitor-mysql-server",title:"Superviser une base de donn\xe9es MySQL ou MariaDB",description:"L'objectif de ce tutoriel est de superviser une base de donn\xe9es Mysql/MariaDB.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-23.10/getting-started/mysql_tuto.md",sourceDirName:"getting-started",slug:"/getting-started/monitor-mysql-server",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/getting-started/monitor-mysql-server",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/next/i18n/fr/docusaurus-plugin-content-docs/version-23.10/getting-started/mysql_tuto.md",tags:[],version:"23.10",lastUpdatedAt:1700565273,formattedLastUpdatedAt:"21 nov. 2023",frontMatter:{id:"monitor-mysql-server",title:"Superviser une base de donn\xe9es MySQL ou MariaDB"},sidebar:"version-23.10/docs",previous:{title:"Superviser votre premier routeur Cisco",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/getting-started/monitor-cisco-router-with-snmp"},next:{title:"Utiliser Autodiscovery pour d\xe9couvrir des instances AWS EC2",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/getting-started/autodisco-aws"}},c={},d=[{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Sur la base de donn\xe9es \xe0 superviser",id:"sur-la-base-de-donn\xe9es-\xe0-superviser",level:3},{value:"Sur le collecteur",id:"sur-le-collecteur",level:3},{value:"Sur le serveur central",id:"sur-le-serveur-central",level:3},{value:"Configurer l&#39;h\xf4te et d\xe9ployer la configuration",id:"configurer-lh\xf4te-et-d\xe9ployer-la-configuration",level:2}],m={toc:d};function v(e){var{components:t}=e,i=o(e,["components"]);return(0,a.kt)("wrapper",l({},m,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"L'objectif de ce tutoriel est de superviser une base de donn\xe9es Mysql/MariaDB."),(0,a.kt)("h2",l({},{id:"pr\xe9requis"}),"Pr\xe9requis"),(0,a.kt)("h3",l({},{id:"sur-la-base-de-donn\xe9es-\xe0-superviser"}),"Sur la base de donn\xe9es \xe0 superviser"),(0,a.kt)("p",null,"Afin de pouvoir collecter les informations n\xe9cessaires \xe0 partir de la base de donn\xe9es, un utilisateur de la base de donn\xe9es disposant de privil\xe8ges sp\xe9cifiques sera n\xe9cessaire. Si la base que vous souhaitez superviser est une base Centreon, un utilisateur d\xe9di\xe9 existe d\xe9j\xe0 (il s'appelle ",(0,a.kt)("strong",{parentName:"p"},"centreon"),"). Dans le cas contraire, commencez par cr\xe9er un nouvel utilisateur : connectez-vous \xe0 votre base de donn\xe9es, puis ex\xe9cutez la commande suivante :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"CREATE USER 'username'@'IP_POLLER' IDENTIFIED BY 'password';\n")),(0,a.kt)("p",null,"Puis, que votre base soit une base Centreon ou non, ex\xe9cutez la commande suivante :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"GRANT SELECT ON *.* TO 'username'@'IP_POLLER';\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Remplacez le nom d'utilisateur, l'adresse IP du collecteur et le mot de passe par les valeurs de votre choix.")),(0,a.kt)("h3",l({},{id:"sur-le-collecteur"}),"Sur le collecteur"),(0,a.kt)("p",null,"Installez le plugin suivant sur le collecteur qui supervisera votre base de donn\xe9es :"),(0,a.kt)(n.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(s.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"dnf install centreon-plugin-Applications-Databases-Mysql\n"))),(0,a.kt)(s.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"dnf install centreon-plugin-Applications-Databases-Mysql\n"))),(0,a.kt)(s.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-shell"}),"apt install centreon-plugin-applications-databases-mysql\n")))),(0,a.kt)("h3",l({},{id:"sur-le-serveur-central"}),"Sur le serveur central"),(0,a.kt)("p",null,"La base de donn\xe9es sera supervis\xe9e \xe0 l'aide du ",(0,a.kt)("a",l({parentName:"p"},{href:"/pp/integrations/plugin-packs/procedures/applications-databases-mysql"}),"connecteur de supervision ",(0,a.kt)("strong",{parentName:"a"},"MySQL/MariaDB")),".\nRendez-vous dans le menu ",(0,a.kt)("strong",{parentName:"p"},"Configuration > Gestionnaire de connecteurs de supervision")," et installez le connecteur de supervision ",(0,a.kt)("strong",{parentName:"p"},"MySQL/MariaDB")," :"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:r(14978).Z,width:"1756",height:"680"})),(0,a.kt)("h2",l({},{id:"configurer-lh\xf4te-et-d\xe9ployer-la-configuration"}),"Configurer l'h\xf4te et d\xe9ployer la configuration"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Allez \xe0 la page ",(0,a.kt)("strong",{parentName:"p"},"Configuration > H\xf4tes > H\xf4tes")," et cliquez sur le bouton ",(0,a.kt)("strong",{parentName:"p"},"Ajouter")," :"),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("img",{alt:"image",src:r(69232).Z,width:"1832",height:"680"}))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Renseignez les informations suivantes :"))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Le nom de votre serveur"),(0,a.kt)("li",{parentName:"ul"},"Une description de votre serveur"),(0,a.kt)("li",{parentName:"ul"},"Son adresse IP"),(0,a.kt)("li",{parentName:"ul"},"S\xe9lectionnez le collecteur qui supervisera votre base de donn\xe9es (laissez \"Central\" si vous n'avez pas d'autre collecteur)")),(0,a.kt)("ol",l({},{start:3}),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Cliquez sur le bouton ",(0,a.kt)("strong",{parentName:"p"},"+ Ajouter une nouvelle entr\xe9e")," \xe0 c\xf4t\xe9 du champ ",(0,a.kt)("strong",{parentName:"p"},"Mod\xe8les")," puis s\xe9lectionnez le mod\xe8le\n",(0,a.kt)("strong",{parentName:"p"},"App-DB-MySQL-custom"),"."),(0,a.kt)("p",{parentName:"li"},"  ",(0,a.kt)("img",{alt:"image",src:r(64730).Z,width:"1737",height:"502"}))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Une liste de macros correspondant au mod\xe8le va alors appara\xeetre :"),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("img",{alt:"image",src:r(63118).Z,width:"1430",height:"173"})),(0,a.kt)("p",{parentName:"li"},"Renseignez la valeur des macros suivantes :"))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"MYSQLUSERNAME")," : le nom de l'utilisateur qui se connectera \xe0 la base de donn\xe9es."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"MYSQLPASSWORD")," : le mot de passe associ\xe9 \xe0 cet utilisateur."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"MYSQLPORT")," : le port d'\xe9coute de la base de donn\xe9es, par d\xe9faut 3306.")),(0,a.kt)("ol",l({},{start:5}),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Cliquez sur le bouton ",(0,a.kt)("strong",{parentName:"p"},"Sauvegarder"),". Votre \xe9quipement a \xe9t\xe9 ajout\xe9 \xe0 la liste des h\xf4tes :"),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("img",{alt:"image",src:r(66627).Z,width:"1770",height:"355"}))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Allez dans ",(0,a.kt)("strong",{parentName:"p"},"Configuration > Services > Services par h\xf4te"),". Un ensemble d'indicateurs a \xe9t\xe9 cr\xe9\xe9 automatiquement."),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("img",{alt:"image",src:r(55522).Z,width:"1766",height:"638"}))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",l({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/fr/docs/getting-started/first-supervision#d%C3%A9ployer-une-configuration"}),"D\xe9ployez la supervision"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"\xc0 la page ",(0,a.kt)("strong",{parentName:"p"},"Supervision > Status des ressources"),", s\xe9lectionnez la valeur ",(0,a.kt)("strong",{parentName:"p"},"Tous")," pour le\nfiltre ",(0,a.kt)("strong",{parentName:"p"},"Afficher les d\xe9tails"),". Dans un premier temps, les ressources apparaissent avec le statut ",(0,a.kt)("strong",{parentName:"p"},"En attente"),", ce qui signifie qu'aucun contr\xf4le n'a encore \xe9t\xe9 ex\xe9cut\xe9. Apr\xe8s quelques minutes, les premiers r\xe9sultats de la supervision apparaissent :"),(0,a.kt)("p",{parentName:"li"},"  ",(0,a.kt)("img",{alt:"image",src:r(74791).Z,width:"1830",height:"680"})))))}v.isMDXComponent=!0},14978:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/quick_start_mysql_0-fb16a6cd287189a956617662a02b072b.gif"},69232:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/quick_start_mysql_1a-eeb26243bd33db76d157c436e3490d9a.gif"},64730:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/quick_start_mysql_1a-2fe5ab2e515333b930843f4c4320b4db.png"},63118:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/quick_start_mysql_1b-4a7e29a18f0a6dbf7c0f74631d9ad828.png"},66627:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/quick_start_mysql_2-0a53a1ae65d13b2d6a892f1980ae8855.png"},55522:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/quick_start_mysql_3-7d08b842d5b13ecd94b1138116588af2.png"},74791:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/quick_start_mysql_4-89ad7df6c2e49e9bd63541d604bbe9c3.gif"}}]);