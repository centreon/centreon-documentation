"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[92264],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>c});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),m=p(a),c=r,k=m["".concat(s,".").concat(c)]||m[c]||u[c]||l;return a?n.createElement(k,o(o({ref:t},d),{},{components:a})):n.createElement(k,o({ref:t},d))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var p=2;p<l;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},6477:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>k,frontMatter:()=>s,metadata:()=>d,toc:()=>m});a(67294);var n=a(3905),r=a(67709),l=a(7626);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const s={id:"cloud-aws-rds",title:"Amazon RDS"},p=void 0,d={unversionedId:"integrations/plugin-packs/procedures/cloud-aws-rds",id:"integrations/plugin-packs/procedures/cloud-aws-rds",title:"Amazon RDS",description:"Vue d'ensemble",source:"@site/i18n/fr/docusaurus-plugin-content-docs-pp/current/integrations/plugin-packs/procedures/cloud-aws-rds.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/cloud-aws-rds",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/cloud-aws-rds",draft:!1,tags:[],version:"current",frontMatter:{id:"cloud-aws-rds",title:"Amazon RDS"},sidebar:"pp",previous:{title:"Amazon Kinesis",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/cloud-aws-kinesis"},next:{title:"Amazon S3",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/cloud-aws-s3"}},u={},m=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Contenu du pack de supervision",id:"contenu-du-pack-de-supervision",level:2},{value:"Objets supervis\xe9s",id:"objets-supervis\xe9s",level:3},{value:"R\xe8gles de d\xe9couvertes",id:"r\xe8gles-de-d\xe9couvertes",level:3},{value:"M\xe9triques collect\xe9es",id:"m\xe9triques-collect\xe9es",level:2},{value:"Prerequisistes",id:"prerequisistes",level:2},{value:"AWS Configuration",id:"aws-configuration",level:3},{value:"Plugin dependencies",id:"plugin-dependencies",level:3},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"Comment tester en ligne de commande et quelles significations portent les options principales ?",id:"comment-tester-en-ligne-de-commande-et-quelles-significations-portent-les-options-principales-",level:3},{value:"UNKNOWN: No metrics. Check your options or use --zeroed option to set 0 on undefined values",id:"unknown-no-metrics-check-your-options-or-use---zeroed-option-to-set-0-on-undefined-values",level:3}],c={toc:m};function k(e){var{components:t}=e,a=i(e,["components"]);return(0,n.kt)("wrapper",o({},c,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",o({},{id:"vue-densemble"}),"Vue d'ensemble"),(0,n.kt)("p",null,"Amazon Relational Database Service (Amazon RDS) est un service web qui facilite la configuration, l'exploitation et la mise \xe0 l'\xe9chelle d'une base de donn\xe9es relationnelle dans le Cloud AWS. Il fournit des capacit\xe9s redimensionnables, \xe0 faible co\xfbt, pour les bases de donn\xe9es relationnelles classiques, et g\xe8re les t\xe2ches courantes d'administration de base de donn\xe9es."),(0,n.kt)("h2",o({},{id:"contenu-du-pack-de-supervision"}),"Contenu du pack de supervision"),(0,n.kt)("h3",o({},{id:"objets-supervis\xe9s"}),"Objets supervis\xe9s"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Instances (MySQL, MariaDB, Oracle ...)"),(0,n.kt)("li",{parentName:"ul"},"Clusters (Aurora, ...)")),(0,n.kt)("h3",o({},{id:"r\xe8gles-de-d\xe9couvertes"}),"R\xe8gles de d\xe9couvertes"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Hosts",label:"Hosts",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Rule name"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Cloud-Aws-Rds-Api-HostDiscovery"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Discover Instances and Clusters from your Cloudwatch endpoint"))))),(0,n.kt)(l.Z,{value:"Services",label:"Services",mdxType:"TabItem"},(0,n.kt)("p",null,"No services discovery rule available on this pack"))),(0,n.kt)("h2",o({},{id:"m\xe9triques-collect\xe9es"}),"M\xe9triques collect\xe9es"),(0,n.kt)("p",null,"Vous pouvez vous renseigner en d\xe9tails sur les m\xe9triques pr\xe9sent\xe9es ci apr\xe8s sur la documentation officiel du service RDS: ",(0,n.kt)("a",o({parentName:"p"},{href:"https://docs.aws.amazon.com/rds/index"}),"https://docs.aws.amazon.com/rds/index")),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Connections",label:"Connections",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Unit:"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"DatabaseConnections"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Number of connections to the database."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Count"))))),(0,n.kt)(l.Z,{value:"Cpu",label:"Cpu",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"CPUCreditBalance"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Balance of allocated CPU credit to this type of instance."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Credits (vCPU-minutes)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"CPUCreditUsage"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Number of CPU credit consumed."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Credits (vCPU-minutes)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"CPUUtilization"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The percentage of CPU utilization."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Percentage"))))),(0,n.kt)(l.Z,{value:"Disk-IO",label:"Disk-IO",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"ReadIOPS"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of disk read I/O operations per second."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Count/Second")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"WriteIOPS"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of disk write I/O operations per second."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Count/Second")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"ReadThroughput"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of bytes read from disk per second."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Bytes/Second")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"WriteThroughput"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of bytes write to disk per second."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Bytes/Second")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"ReadLatency"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average amount of time taken per disk I/O read operation."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Seconds")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"WriteLatency"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average amount of time taken per disk I/O write operation."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Seconds")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"DiskQueueDepth"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The number of outstanding IOs (read/write requests) waiting to access the disk."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Count"))))),(0,n.kt)(l.Z,{value:"Network",label:"Network",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"NetworkReceiveThroughput"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The incoming traffic on the DB instance, including both customer db traffic and AWS/RDS traffic used for monitoring and replication."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Bytes/Second")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"NetworkTransmitThroughput"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The outgoing traffic on the DB instance, including both customer db traffic and AWS/RDS traffic used for monitoring and replication."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Bytes/Second"))))),(0,n.kt)(l.Z,{value:"Storage",label:"Storage",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"FreeStorageSpace"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The amount of available storage space."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Bytes/Second")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"FreeableMemory"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The amount of available random access memory."),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Bytes/Second"))))),(0,n.kt)(l.Z,{value:"Queries",label:"Queries",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Queries"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of queries executed per second ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"InsertThroughput"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of insert queries per second ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"SelectThroughput"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of select queries per second ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"DeleteThroughput"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of delete queries per second ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"UpdateThroughput"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of update queries per second ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"DDLThroughput"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of DataDefinitionLanguage requests per second ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"DMLThroughput"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of DataModificationLanguage requests per second ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL)")))))),(0,n.kt)(l.Z,{value:"Transactions",label:"Transactions",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"ActiveTransactions"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of current transactions executing on an Aurora database instance per second. ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL) Set innodb","_","monitor","_","enable='all' in the DB parameter group for a specific DB instance."))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"BlockedTransactions"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of transactions in the database that are blocked per second ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"CommitLatency"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The amount of latency for commit operations, in milliseconds ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL and Postgres)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"CommitThroughput"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The average number of commit operations per second ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL and Postgres)")))))),(0,n.kt)(l.Z,{value:"Volume",label:"Volume",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"VolumeBytesUsed"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The amount of storage used by your Aurora DB instance, in bytes and then affecting the cost of your instance ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL and Postgres)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"VolumeReadIOPs"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The number of billed read I/O operations from a cluster volume, reported at 5-minute intervals. ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL and Postgres)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"VolumeWriteIOPs"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"The number of write disk I/O operations to the cluster volume, reported at 5-minute intervals. ",(0,n.kt)("strong",{parentName:"td"},"(Only available on Aurora MySQL and Postgres)"))))))),(0,n.kt)("h2",o({},{id:"prerequisistes"}),"Prerequisistes"),(0,n.kt)("h3",o({},{id:"aws-configuration"}),"AWS Configuration"),(0,n.kt)("p",null,"Voici la liste des droits n\xe9cessaires au travers des access/secret key utilis\xe9es pour pouvoir utiliser le monitoring AWS/RDS: "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"AWS Privilege"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"rds:DescribeDBInstances"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Display RDS instances & cluster descriptions")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"cloudwatch:getMetricStatistics"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Get metrics from the AWS/RDS namespace on Cloudwatch")))),(0,n.kt)("h3",o({},{id:"plugin-dependencies"}),"Plugin dependencies"),(0,n.kt)("p",null,"Afin de r\xe9cup\xe9rer les informations n\xe9cessaires via les APIs AWS, il est possible d'utiliser soit le binaire awscli, soit le SDK perl Paws. Le SDK est recommand\xe9 car plus performant. ",(0,n.kt)("strong",{parentName:"p"},"Attention")," il n'est pas possible d'utiliser perl-Paws si vous passez pas un proxy !"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"perl-Paws-installation",label:"perl-Paws-installation",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"yum install perl-Paws\n"))),(0,n.kt)(l.Z,{value:"aws-cli-installation",label:"aws-cli-installation",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"yum install awscli\n")))),(0,n.kt)("h2",o({},{id:"installation"}),"Installation"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Installer le code du connecteur sur l'ensemble des collecteurs supervisant des ressources RDS:")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Cloud-Aws-Rds-Api\n")),(0,n.kt)("ol",o({},{start:2}),(0,n.kt)("li",{parentName:"ol"},'Installer le pack depuis la page "Configuration > Plugin packs > Manager":'))),(0,n.kt)(l.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Installer le code du connecteur sur l'ensemble des collecteurs supervisant des ressources RDS:")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Cloud-Aws-Rds-Api\n")),(0,n.kt)("ol",o({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"Installer le RPM contenant les mod\xe8les de supervision")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-cloud-aws-rds.noarch\n")),(0,n.kt)("ol",o({},{start:3}),(0,n.kt)("li",{parentName:"ol"},'Installer le pack depuis la page "Configuration > Plugin packs > Manager":')))),(0,n.kt)("h2",o({},{id:"configuration"}),"Configuration"),(0,n.kt)("p",null,"En fonction du type d'instance et de la base de donn\xe9es supervis\xe9e, choisissez le mod\xe8le d'h\xf4te correspondant dans ceux commen\xe7ant par \"Cloud-Aws-Rds-\". Une fois le mod\xe8le d'h\xf4te appliqu\xe9, il est possible de d\xe9finir l'ensemble des macros n\xe9cessaires au fonctionnement des contr\xf4les:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Obligatoire"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Nom"),(0,n.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"AWSSECRETKEY"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"AWS Secret key of your IAM role. Password checkbox must be checked")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"AWSACESSKEY"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"AWS Access key of your IAM role. Password checkbox must be checked")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"AWSREGION"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Region where the instance is running")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"AWSCUSTOMMODE"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Custom mode to get metrics, 'awscli' is the default, you can also use 'paws' perl library")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"AWSINSTANCENAME"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Name of the instance you want to monitor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"AWSINSTANCETYPE"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Instance type checked ('instance' or 'cluster')")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"})),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"PROXYURL"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Configure proxy URL informations")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"})),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"EXTRAOPTIONS"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Any extraoptions you may want to add to every command","_","line (eg. a --verbose flag)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"})),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"DUMMYSTATUS"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Host state. Default is OK, do not modify it until you know what you are doing")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:"left"})),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"DUMMYOUTPUT"),(0,n.kt)("td",o({parentName:"tr"},{align:"left"}),"Host check output. Default is 'This is a dummy check'. Customize it with your own if needed")))),(0,n.kt)("h2",o({},{id:"faq"}),"FAQ"),(0,n.kt)("h3",o({},{id:"comment-tester-en-ligne-de-commande-et-quelles-significations-portent-les-options-principales-"}),"Comment tester en ligne de commande et quelles significations portent les options principales ?"),(0,n.kt)("p",null,"A partir du moment ou la sonde est install\xe9e, vous pouvez tester directement depuis votre poller de supervision avec l'utilisateur centreon-engine:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_aws_rds_api.pl \\\n    --plugin=cloud::aws::rds::plugin \\\n    --mode=connections \\\n    --custommode='awscli' \\\n    --aws-secret-key='*******************' \\\n    --aws-access-key='**********' \\\n    --region='eu-west-1' \\\n    --type='cluster' \\\n    --name='dev-cluster' \\\n    --environment='HTTPS_PROXY=http://proxy.int.company.com:3128/' \\\n    --filter-metric='' \\\n    --statistic='average' \\\n    --timeframe='600' \\\n    --period='60' \\\n    --warning-databaseconnections-average='25' \\\n    --critical-databaseconnections-average='50' \\\n    --verbose\n\nOK: Cluster 'dev-cluster' average DatabaseConnections: 3 | 'dev-cluster#databaseconnections_average'=3;25;50;0;\nCluster 'dev-cluster' average DatabaseConnections: 3\n\n")),(0,n.kt)("p",null,"La commande ci-dessus interroge le nombre de connections (",(0,n.kt)("inlineCode",{parentName:"p"},"--mode=connections")," sur un cluster de base de donn\xe9es (",(0,n.kt)("inlineCode",{parentName:"p"},"--type='cluster'"),") dont le nom est dev-cluster (",(0,n.kt)("inlineCode",{parentName:"p"},"--name='dev-cluster'"),"). Ce cluster est herberg\xe9 sur la zone/r\xe9gion eu-west-1 d'AWS (",(0,n.kt)("inlineCode",{parentName:"p"},"--region='eu-west-1'"),"). La valeur de la m\xe9trique sera une moyenne (",(0,n.kt)("inlineCode",{parentName:"p"},"--statistic='average'"),") sur une p\xe9riode de 600 secondes / 10 min (",(0,n.kt)("inlineCode",{parentName:"p"},"--timeframe='600'"),") et \xe9chantillon\xe9 \xe0 un point par minute (",(0,n.kt)("inlineCode",{parentName:"p"},"--period='60'"),")."),(0,n.kt)("p",null,"Une alerte WARNING sera d\xe9clench\xe9e si la valeur d\xe9passe 25, et CRITICAL si elle d\xe9passe 50 (",(0,n.kt)("inlineCode",{parentName:"p"},"--warning-databaseconnections-average='25' --critical-databaseconnections-average='50'"),")."),(0,n.kt)("p",null,"Toutes les options des diff\xe9rents modes sont consultables via le help:"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"/usr/lib/centreon/plugins//centreon_aws_rds_api.pl --plugin=cloud::aws::rds::plugin --mode=<modename> --help")),(0,n.kt)("h3",o({},{id:"unknown-no-metrics-check-your-options-or-use---zeroed-option-to-set-0-on-undefined-values"}),"UNKNOWN: No metrics. Check your options or use --zeroed option to set 0 on undefined values"),(0,n.kt)("p",null,"Lors du d\xe9ploiement de mes contr\xf4les, j'obtiens le message suivant 'UNKNOWN: No metrics. Check your options or use --zeroed option to set 0 on undefined values'. Cela signifie qu'Amazon Cloudwatch n'a pas consolid\xe9 de donn\xe9es sur la p\xe9riode."),(0,n.kt)("p",null,"Vous pouvez ajouter ' --zeroed' \xe0 la macro EXTRAOPTIONS du ",(0,n.kt)("strong",{parentName:"p"},"service")," en question afin de forcer le stockage d'un 0 et ainsi \xe9viter un statut UNKNWON."))}k.isMDXComponent=!0},7626:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(67294),r=a(86010);const l="tabItem_Ymn6";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}function i({children:e,hidden:t,className:a}){return n.createElement("div",o({role:"tabpanel",className:(0,r.Z)(l,a)},{hidden:t}),e)}},67709:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(67294),r=a(86010),l=a(90980),o=a(35715),i=a(8854),s=a(8241);const p="tabList__CuJ",d="tabItem_LNqP";function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}function m(e){var t;const{lazy:a,block:l,defaultValue:m,values:c,groupId:k,className:g}=e,f=n.Children.map(e.children,(e=>{if((0,n.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),N=null!=c?c:f.map((({props:{value:e,label:t,attributes:a}})=>({value:e,label:t,attributes:a}))),b=(0,o.l)(N,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var v;const y=null===m?m:null!==(v=null!=m?m:null===(t=f.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==v?v:f[0].props.value;if(null!==y&&!N.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${N.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:h,setTabGroupChoices:T}=(0,i.U)(),[w,O]=(0,n.useState)(y),S=[],{blockElementScrollPositionUntilNextRender:C}=(0,s.o5)();if(null!=k){const e=h[k];null!=e&&e!==w&&N.some((t=>t.value===e))&&O(e)}const A=e=>{const t=e.currentTarget,a=S.indexOf(t),n=N[a].value;n!==w&&(C(t),O(n),null!=k&&T(k,String(n)))},D=e=>{let t=null;switch(e.key){case"ArrowRight":{const n=S.indexOf(e.currentTarget)+1;var a;t=null!==(a=S[n])&&void 0!==a?a:S[0];break}case"ArrowLeft":{const a=S.indexOf(e.currentTarget)-1;var n;t=null!==(n=S[a])&&void 0!==n?n:S[S.length-1];break}}null==t||t.focus()};return n.createElement("div",{className:(0,r.Z)("tabs-container",p)},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":l},g)},N.map((({value:e,label:t,attributes:a})=>n.createElement("li",u({role:"tab",tabIndex:w===e?0:-1,"aria-selected":w===e,key:e,ref:e=>S.push(e),onKeyDown:D,onFocus:A,onClick:A},a,{className:(0,r.Z)("tabs__item",d,null==a?void 0:a.className,{"tabs__item--active":w===e})}),null!=t?t:e)))),a?(0,n.cloneElement)(f.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):n.createElement("div",{className:"margin-top--md"},f.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function c(e){const t=(0,l.Z)();return n.createElement(m,u({key:String(t)},e))}}}]);