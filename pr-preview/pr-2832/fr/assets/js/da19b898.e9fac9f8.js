"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[96373],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),o=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=o(e.components);return n.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=o(a),m=r,k=c["".concat(p,".").concat(m)]||c[m]||d[m]||l;return a?n.createElement(k,i(i({ref:t},u),{},{components:a})):n.createElement(k,i({ref:t},u))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=c;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var o=2;o<l;o++)i[o]=a[o];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},27943:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>k,frontMatter:()=>p,metadata:()=>u,toc:()=>c});a(67294);var n=a(3905),r=a(67709),l=a(7626);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const p={id:"applications-databases-db2",title:"DB2 Database"},o=void 0,u={unversionedId:"integrations/plugin-packs/procedures/applications-databases-db2",id:"integrations/plugin-packs/procedures/applications-databases-db2",title:"DB2 Database",description:"Contenu du Pack",source:"@site/i18n/fr/docusaurus-plugin-content-docs-pp/current/integrations/plugin-packs/procedures/applications-databases-db2.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/applications-databases-db2",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-databases-db2",draft:!1,tags:[],version:"current",frontMatter:{id:"applications-databases-db2",title:"DB2 Database"},sidebar:"pp",previous:{title:"CouchDB Rest API",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-databases-couchdb-restapi"},next:{title:"Elasticsearch",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-databases-elasticsearch"}},d={},c=[{value:"Contenu du Pack",id:"contenu-du-pack",level:2},{value:"Objets supervis\xe9s",id:"objets-supervis\xe9s",level:3},{value:"R\xe8gles de d\xe9couvertes",id:"r\xe8gles-de-d\xe9couvertes",level:3},{value:"M\xe9triques collect\xe9es",id:"m\xe9triques-collect\xe9es",level:3},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"Installation des d\xe9pendances du Plugin",id:"installation-des-d\xe9pendances-du-plugin",level:3},{value:"RPM",id:"rpm",level:4},{value:"DB2 driver package",id:"db2-driver-package",level:4},{value:"Biblioth\xe8que Perl pour DB2",id:"biblioth\xe8que-perl-pour-db2",level:4},{value:"Compte d&#39;utilisateur",id:"compte-dutilisateur",level:3},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Comment puis-je tester le Plugin et que signifient les options des commandes ?",id:"comment-puis-je-tester-le-plugin-et-que-signifient-les-options-des-commandes-",level:2},{value:"Diagnostique",id:"diagnostique",level:2}],m={toc:c};function k(e){var{components:t}=e,a=s(e,["components"]);return(0,n.kt)("wrapper",i({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",i({},{id:"contenu-du-pack"}),"Contenu du Pack"),(0,n.kt)("h3",i({},{id:"objets-supervis\xe9s"}),"Objets supervis\xe9s"),(0,n.kt)("p",null,"Le Pack DB2 collecte les donn\xe9es pour:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Connection-time"),(0,n.kt)("li",{parentName:"ul"},"Connected-users"),(0,n.kt)("li",{parentName:"ul"},"Database-logs"),(0,n.kt)("li",{parentName:"ul"},"Database-usage"),(0,n.kt)("li",{parentName:"ul"},"Hadr"),(0,n.kt)("li",{parentName:"ul"},"Tablespaces")),(0,n.kt)("h3",i({},{id:"r\xe8gles-de-d\xe9couvertes"}),"R\xe8gles de d\xe9couvertes"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Services",label:"Services",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Nom de la r\xe8gle"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"App-DB-Db2-Tablespace-Name"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"D\xe9couvre les tablespaces et supervise l'utilisation")))))),(0,n.kt)("h3",i({},{id:"m\xe9triques-collect\xe9es"}),"M\xe9triques collect\xe9es"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Connection-time",label:"Connection-time",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"connection.time.milliseconds"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Connection established time"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ms"))))),(0,n.kt)(l.Z,{value:"Connected-users",label:"Connected-users",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"users.connected.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of connected users"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"})))))),(0,n.kt)(l.Z,{value:"Database-logs",label:"Database-logs",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),(0,n.kt)("em",{parentName:"td"},"db","_","name~partition","_","num"),"#","database.log.space.usage.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Used space"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),(0,n.kt)("em",{parentName:"td"},"db","_","name~partition","_","num"),"#","database.log.space.free.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Free space"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),(0,n.kt)("em",{parentName:"td"},"db","_","name~partition","_","num"),"#","database.log.space.usage.percentage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Used space in percentage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%"))))),(0,n.kt)(l.Z,{value:"Database-usage",label:"Database-usage",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),(0,n.kt)("em",{parentName:"td"},"db","_","name"),"#","database.space.usage.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Used space"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),(0,n.kt)("em",{parentName:"td"},"db","_","name"),"#","database.space.free.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Free space"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),(0,n.kt)("em",{parentName:"td"},"db","_","name"),"#","database.space.usage.percentage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Used space in percentage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%"))))),(0,n.kt)(l.Z,{value:"Hadr",label:"Hadr",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"hadr.instances.standby.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of standby instances"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"hadr connection status"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The current high availability disaster recovery connection status of the database"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"hadr state"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The current high availability disaster recovery state of the database"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),(0,n.kt)("em",{parentName:"td"},"standby","_","id"),"#","hadr.instance.log.gap.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Recent average of the gap between the PRIMARY_LOG_POS value and STANDBY_LOG_POS value"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B"))))),(0,n.kt)(l.Z,{value:"Tablespaces",label:"Tablespaces",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"tablespace status"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Tablespace state"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),(0,n.kt)("em",{parentName:"td"},"db","_","name~tablespace","_","name"),"#","tablespace.space.usage.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Used space"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),(0,n.kt)("em",{parentName:"td"},"db","_","name~tablespace","_","name"),"#","tablespace.space.free.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Free space"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),(0,n.kt)("em",{parentName:"td"},"db","_","name~tablespace","_","name"),"#","tablespace.space.usage.percentage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Used space in percentage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%")))))),(0,n.kt)("h2",i({},{id:"pr\xe9requis"}),"Pr\xe9requis"),(0,n.kt)("h3",i({},{id:"installation-des-d\xe9pendances-du-plugin"}),"Installation des d\xe9pendances du Plugin"),(0,n.kt)("h4",i({},{id:"rpm"}),"RPM"),(0,n.kt)("p",null,"Pour utiliser le Pack DB2, il est n\xe9cessaire d'installer l'outil de ligne de commande ",(0,n.kt)("inlineCode",{parentName:"p"},"wget")," et la collection de compilateurs GNU (",(0,n.kt)("inlineCode",{parentName:"p"},"gcc"),")."),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install -y gcc wget ksh\n")),(0,n.kt)("h4",i({},{id:"db2-driver-package"}),"DB2 driver package"),(0,n.kt)("p",null,"Se connecter sur le site du support IBM et t\xe9l\xe9charger l'archive ",(0,n.kt)("inlineCode",{parentName:"p"},"data_server_driver_package_linuxx64_v11.5.tar.gz"),"."),(0,n.kt)("p",null,"Installer l'archive avec les commande suivantes :"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),'tar zxf ibm_data_server_driver_package_linuxx64_v11.5.tar.gz\nmv dsdriver/ /opt/\ncd /opt/dsdriver/\n./installDSDriver\necho "/opt/dsdriver/lib/" > /etc/ld.so.conf.d/db2-x86_64.conf\n/sbin/ldconfig\n')),(0,n.kt)("h4",i({},{id:"biblioth\xe8que-perl-pour-db2"}),"Biblioth\xe8que Perl pour DB2"),(0,n.kt)("p",null,"En tant que root, ex\xe9cuter:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"cd /usr/local/src \nwget https://cpan.metacpan.org/authors/id/R/RO/ROCKETDB/DBD-DB2-1.89.tar.gz\ntar zxvf DBD-DB2-1.89.tar.gz\ncd DBD-DB2-1.89/\nexport DB2LIB=/opt/dsdriver/lib/\nexport DB2_HOME=/opt/dsdriver/\nperl Makefile.PL\n")),(0,n.kt)("p",null,"Compiler la biblioth\xe8que:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"make\n")),(0,n.kt)("p",null,"Puis l'installer:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"make install\n")),(0,n.kt)("h3",i({},{id:"compte-dutilisateur"}),"Compte d'utilisateur"),(0,n.kt)("p",null,"La fa\xe7on la plus s\xfbre de r\xe9cup\xe9rer des informations du serveur DB2 est de cr\xe9er un utilisateur d\xe9di\xe9 \xe0 Centreon."),(0,n.kt)("p",null,"Ce compte utilisateur doit avoir la permission de lecture sur les tables suivantes\xa0:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"syscat.tablespaces"),(0,n.kt)("li",{parentName:"ul"},"sysibmadm.applications"),(0,n.kt)("li",{parentName:"ul"},"sysibmadm.container_utilization"),(0,n.kt)("li",{parentName:"ul"},"sysibmadm.log_utilization"),(0,n.kt)("li",{parentName:"ul"},"sysibmadm.tbsp_utilization")),(0,n.kt)("p",null,"Ce compte utilisateur doit avoir la permission d'ex\xe9cuter la proc\xe9dure ",(0,n.kt)("inlineCode",{parentName:"p"},"SYSPROC.GET_DBSIZE_INFO")," et l'authorit\xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},"SYSMON"),"."),(0,n.kt)("h2",i({},{id:"installation"}),"Installation"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Installer le Plugin sur tous les Collecteurs Centreon :")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Databases-Db2\n")),(0,n.kt)("ol",i({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"Sur l'interface Web de Centreon, installer le Pack ",(0,n.kt)("em",{parentName:"li"},"DB2 Database")," depuis la page ",(0,n.kt)("strong",{parentName:"li"},"Configuration > Plugin Packs > Gestionnaire")))),(0,n.kt)(l.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Installer le Plugin sur tous les Collecteurs Centreon :")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Databases-Db2\n")),(0,n.kt)("ol",i({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"Sur le serveur Central Centreon, installer le Pack via le RPM:")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-applications-databases-db2\n")),(0,n.kt)("ol",i({},{start:3}),(0,n.kt)("li",{parentName:"ol"},"Sur l'interface Web de Centreon, installer le Pack ",(0,n.kt)("em",{parentName:"li"},"DB2 Database")," depuis la page ",(0,n.kt)("strong",{parentName:"li"},"Configuration > Plugin Packs > Gestionnaire"))))),(0,n.kt)("h2",i({},{id:"configuration"}),"Configuration"),(0,n.kt)("p",null,"Ce Pack est con\xe7u de mani\xe8re \xe0 avoir dans Centreon un h\xf4te par base de donn\xe9es IBM DB2.\nLorsque vous ajoutez un h\xf4te \xe0 Centreon, appliquez-lui le mod\xe8le ",(0,n.kt)("em",{parentName:"p"},"App-DB-Db2-custom"),".\nUne fois celui-ci configur\xe9, certaines macros doivent \xeatre renseign\xe9es:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Mandatory"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"DB2PORT"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Port used (Default: 50000)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"DB2DATABASE"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Name for the Db2 database system")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"DB2USERNAME"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"DB2 username account")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"DB2PASSWORD"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"DB2 password account")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"})),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"DB2EXTRAOPTIONS"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Any extra option you may want to add to the command (eg. a --verbose flag)")))),(0,n.kt)("h2",i({},{id:"comment-puis-je-tester-le-plugin-et-que-signifient-les-options-des-commandes-"}),"Comment puis-je tester le Plugin et que signifient les options des commandes ?"),(0,n.kt)("p",null,"Une fois le Plugin install\xe9, vous pouvez tester celui-ci directement en ligne de commande\ndepuis un collecteur Centreon en vous connectant avec l'utilisateur ",(0,n.kt)("em",{parentName:"p"},"centreon-engine"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_database_db2.pl \\\n    --plugin=database::db2::plugin \\\n    --mode=database-usage \\\n    --server='10.30.2.79' \\\n    --database='TEST' \\\n    --port='50000' \\\n    --username='myusername' \\\n    --password='mypassword' \\\n    --verbose\n")),(0,n.kt)("p",null,"La commande devrait retourner un message de sortie de la forme ci-dessous:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"OK: database 'TEST' space usage total: 99.84 GB used: 698.34 MB (0.68%) free: 99.16 GB (99.32%) | 'TEST#database.space.usage.bytes'=732266496B;;;0;107204739072 'TEST#database.space.free.bytes'=106472472576B;;;0;107204739072 'TEST#database.space.usage.percentage'=0.68%;;;0;100\n")),(0,n.kt)("p",null,"Cette commande contr\xf4le le taux d'utilisation de la base de donn\xe9es (",(0,n.kt)("inlineCode",{parentName:"p"},"--mode=database-usage"),")."),(0,n.kt)("p",null,"Pour chaque mode, la liste de toutes les m\xe9triques, seuils associ\xe9s et options compl\xe9mentaires peuvent \xeatre affich\xe9s\nen ajoutant le param\xe8tre ",(0,n.kt)("inlineCode",{parentName:"p"},"--help")," \xe0 la commande:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_database_db2.pl \\\n    --plugin=database::db2::plugin \\\n    --mode=database-usage \\\n    --help\n")),(0,n.kt)("h2",i({},{id:"diagnostique"}),"Diagnostique"),(0,n.kt)("p",null,(0,n.kt)("a",i({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/getting-started/how-to-guides/troubleshooting-plugins"}),"Diagnostique des plugins")))}k.isMDXComponent=!0},7626:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(67294),r=a(86010);const l="tabItem_Ymn6";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function s({children:e,hidden:t,className:a}){return n.createElement("div",i({role:"tabpanel",className:(0,r.Z)(l,a)},{hidden:t}),e)}},67709:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(67294),r=a(86010),l=a(90980),i=a(35715),s=a(8854),p=a(8241);const o="tabList__CuJ",u="tabItem_LNqP";function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d.apply(this,arguments)}function c(e){var t;const{lazy:a,block:l,defaultValue:c,values:m,groupId:k,className:b}=e,g=n.Children.map(e.children,(e=>{if((0,n.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),f=null!=m?m:g.map((({props:{value:e,label:t,attributes:a}})=>({value:e,label:t,attributes:a}))),N=(0,i.l)(f,((e,t)=>e.value===t.value));if(N.length>0)throw new Error(`Docusaurus error: Duplicate values "${N.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var v;const h=null===c?c:null!==(v=null!=c?c:null===(t=g.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==v?v:g[0].props.value;if(null!==h&&!f.some((e=>e.value===h)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${h}" but none of its children has the corresponding value. Available values are: ${f.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:y,setTabGroupChoices:D}=(0,s.U)(),[O,T]=(0,n.useState)(h),P=[],{blockElementScrollPositionUntilNextRender:C}=(0,p.o5)();if(null!=k){const e=y[k];null!=e&&e!==O&&f.some((t=>t.value===e))&&T(e)}const B=e=>{const t=e.currentTarget,a=P.indexOf(t),n=f[a].value;n!==O&&(C(t),T(n),null!=k&&D(k,String(n)))},_=e=>{let t=null;switch(e.key){case"ArrowRight":{const n=P.indexOf(e.currentTarget)+1;var a;t=null!==(a=P[n])&&void 0!==a?a:P[0];break}case"ArrowLeft":{const a=P.indexOf(e.currentTarget)-1;var n;t=null!==(n=P[a])&&void 0!==n?n:P[P.length-1];break}}null==t||t.focus()};return n.createElement("div",{className:(0,r.Z)("tabs-container",o)},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":l},b)},f.map((({value:e,label:t,attributes:a})=>n.createElement("li",d({role:"tab",tabIndex:O===e?0:-1,"aria-selected":O===e,key:e,ref:e=>P.push(e),onKeyDown:_,onFocus:B,onClick:B},a,{className:(0,r.Z)("tabs__item",u,null==a?void 0:a.className,{"tabs__item--active":O===e})}),null!=t?t:e)))),a?(0,n.cloneElement)(g.filter((e=>e.props.value===O))[0],{className:"margin-top--md"}):n.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==O})))))}function m(e){const t=(0,l.Z)();return n.createElement(c,d({key:String(t)},e))}}}]);