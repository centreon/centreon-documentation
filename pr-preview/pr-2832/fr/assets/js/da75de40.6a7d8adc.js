"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[18032],{3905:(e,r,t)=>{t.d(r,{Zo:()=>u,kt:()=>d});var n=t(67294);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=n.createContext({}),i=function(e){var r=n.useContext(p),t=r;return e&&(t="function"==typeof e?e(r):l(l({},r),e)),t},u=function(e){var r=i(e.components);return n.createElement(p.Provider,{value:r},e.children)},c={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},m=n.forwardRef((function(e,r){var t=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=i(t),d=o,k=m["".concat(p,".").concat(d)]||m[d]||c[d]||a;return t?n.createElement(k,l(l({ref:r},u),{},{components:t})):n.createElement(k,l({ref:r},u))}));function d(e,r){var t=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var a=t.length,l=new Array(a);l[0]=m;var s={};for(var p in r)hasOwnProperty.call(r,p)&&(s[p]=r[p]);s.originalType=e,s.mdxType="string"==typeof e?e:o,l[1]=s;for(var i=2;i<a;i++)l[i]=t[i];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},79610:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>i,contentTitle:()=>s,default:()=>m,frontMatter:()=>l,metadata:()=>p,toc:()=>u});t(67294);var n=t(3905);function o(){return o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},o.apply(this,arguments)}function a(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}const l={id:"poller-display-to-remote-server",title:"Migration d'une plate-forme avec Poller Display"},s=void 0,p={unversionedId:"migrate/poller-display-to-remote-server",id:"version-23.10/migrate/poller-display-to-remote-server",title:"Migration d'une plate-forme avec Poller Display",description:"Migrer le serveur Centreon Central",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-23.10/migrate/poller-display-to-remote-server.md",sourceDirName:"migrate",slug:"/migrate/poller-display-to-remote-server",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/migrate/poller-display-to-remote-server",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/next/i18n/fr/docusaurus-plugin-content-docs/version-23.10/migrate/poller-display-to-remote-server.md",tags:[],version:"23.10",lastUpdatedAt:1700565273,formattedLastUpdatedAt:"21 nov. 2023",frontMatter:{id:"poller-display-to-remote-server",title:"Migration d'une plate-forme avec Poller Display"},sidebar:"version-23.10/docs",previous:{title:"Nagios Reader vers Centreon CLAPI",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/migrate/nagios-to-centreon"},next:{title:"Migrer depuis Centreon Centcore",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/developer/developer-gorgone-migrate-from-centcore"}},i={},u=[{value:"Migrer le serveur Centreon Central",id:"migrer-le-serveur-centreon-central",level:2},{value:"Migrer un Poller avec Poller Display vers Remote Server",id:"migrer-un-poller-avec-poller-display-vers-remote-server",level:2},{value:"Principaux messages d&#39;erreur",id:"principaux-messages-derreur",level:3}],c={toc:u};function m(e){var{components:r}=e,t=a(e,["components"]);return(0,n.kt)("wrapper",o({},c,t,{components:r,mdxType:"MDXLayout"}),(0,n.kt)("h2",o({},{id:"migrer-le-serveur-centreon-central"}),"Migrer le serveur Centreon Central"),(0,n.kt)("p",null,"Si le module ",(0,n.kt)("strong",{parentName:"p"},"centreon-poller-display-central-1.6.x")," est install\xe9 :"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Rendez-vous dans le menu ",(0,n.kt)("strong",{parentName:"p"},"Administration > Extensions > Modules")," et\nd\xe9sinstallez le module ",(0,n.kt)("strong",{parentName:"p"},"centreon-poller-display-central"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Supprimez le paquet associ\xe9 :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"yum remove centreon-poller-display-central\n")))),(0,n.kt)("p",null,"Puis suivez la ",(0,n.kt)("a",o({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/fr/docs/migrate/migrate-from-3-4"}),"proc\xe9dure de migration")," d'un serveur Centreon\nCentral vers 23.04."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Si vous poss\xe9dez des modules Centreon EMS, il est n\xe9cessaire de mettre \xe0 jour\nces d\xe9p\xf4ts. Contactez votre support Centreon pour obtenir ces derniers. Demandez\n\xe9galement les nouvelles licences associ\xe9es.")),(0,n.kt)("h2",o({},{id:"migrer-un-poller-avec-poller-display-vers-remote-server"}),"Migrer un Poller avec Poller Display vers Remote Server"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Rendez-vous dans le menu ",(0,n.kt)("strong",{parentName:"p"},"Administration > Extensions > Modules")," et\nsupprimez le module ",(0,n.kt)("strong",{parentName:"p"},"Centreon Poller Display"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Si vous avez install\xe9 le module \xe0 partir du paquet RPM, supprimez le paquet\nen ex\xe9cutant la commande suivante :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"yum remove centreon-poller-display\n")))),(0,n.kt)("p",null,"R\xe9f\xe9rez vous \xe0 ",(0,n.kt)("a",o({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/fr/docs/migrate/migrate-from-3-4"}),"la proc\xe9dure de migration"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{}),"> Si vous poss\xe9dez des modules Centreon EMS, il est n\xe9cessaire de mettre \xe0 jour\n> ces d\xe9p\xf4ts. Contactez votre support Centreon pour obtenir ces derniers.\n")),(0,n.kt)("ol",o({},{start:4}),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Rendez-vous dans le menu ",(0,n.kt)("strong",{parentName:"p"},"Administration > Extensions > Modules")," et\ninstallez le module ",(0,n.kt)("strong",{parentName:"p"},"centreon-license-manager"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Enregistrer le Remote Server"))),(0,n.kt)("p",null,"Pour l'enregistrer sur le serveur Centreon Central, ex\xe9cutez la commande suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"/usr/share/centreon/bin/registerServerTopology.sh -u <API_ACCOUNT> \\\n-t remote -h <IP_TARGET_NODE> -n <REMOTE_SERVER_NAME>\n")),(0,n.kt)("p",null,"Exemple:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"/usr/share/centreon/bin/registerServerTopology.sh -u admin -t remote -h 192.168.0.1 -n remote-1\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Remplacer ",(0,n.kt)("strong",{parentName:"p"},"<IP_TARGET_NODE>")," par l'adresse IP du serveur Centreon Central vue par votre collecteur.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Le compte ",(0,n.kt)("strong",{parentName:"p"},"<API_ACCOUNT>")," doit avoir acc\xe8s \xe0 l'API de configuration. Vous pouvez utiliser le compte ",(0,n.kt)("strong",{parentName:"p"},"admin"),".")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Vous pouvez changer le port et la m\xe9thode HTTP, le format de l'option ",(0,n.kt)("strong",{parentName:"p"},"-h")," est le suivant :\nHTTPS://<IP_TARGET_NODE>:PORT")),(0,n.kt)("p",null,"Suivre ensuite les instructions"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Saisir le mot de passe :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"192.168.0.1: please enter your password\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"S\xe9lectionner l'adresse IP si plusieurs interfaces r\xe9seau existent:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"Which IP do you want to use as CURRENT NODE IP ?\n1) 192.168.0.2\n2) 192.168.0.3\n1\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Valider les informations:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"Summary of the informations that will be send:\n\nApi Connection:\nusername: admin\npassword: ******\ntarget server: 192.168.0.1\n\nPending Registration Server:\nname: remote-1\ntype: remote\naddress: 192.168.0.2\n\nDo you want to register this server with those informations ? (y/n)y\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Ajouter les informations n\xe9cessaires pour permettre de futures communications entre votre Remote Server et son Central"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"<CURRENT_NODE_ADDRESS> : Please enter your username:\nadmin\n<CURRENT_NODE_ADDRESS> : Please enter your password:\n\n<CURRENT_NODE_ADDRESS> : Protocol [http]:\n<CURRENT_NODE_ADDRESS> : Port [80]:\n<CURRENT_NODE_ADDRESS> : centreon root folder [centreon]:\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"D\xe9finir les acc\xe8s au proxy du serveur Centreon du Central :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"Are you using a proxy ? (y/n)\ny\nenter your proxy Host:\nmyproxy.example.com\nenter your proxy Port [3128]:\nAre you using a username/password ? (y/n)\ny\nenter your username:\nmy_proxy_username\nenter your password:\n\n")))),(0,n.kt)("p",null,"Vous recevrez la validation du serveur Centreon Central :"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"2020-10-16T17:19:37+02:00 [INFO]: The CURRENT NODE 'remote: 'remote-1@192.168.0.2' has been converted and registered successfully.\n")),(0,n.kt)("h3",o({},{id:"principaux-messages-derreur"}),"Principaux messages d'erreur"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"2020-10-20T10:23:15+02:00 [ERROR]: Invalid credentials\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Vos informations d'identification sont incorrectes pour le compte ",(0,n.kt)("strong",{parentName:"p"},"<API_ACCOUNT>"),".")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"2020-10-20T10:24:59+02:00 [ERROR]: Access Denied.\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"L'utilisateur ",(0,n.kt)("strong",{parentName:"p"},"<API_ACCOUNT>")," n'a pas acc\xe8s \xe0 l'API de configuration.")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"Failed connect to 192.168.0.1:444; Connection refused\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Impossible d'acc\xe9der \xe0 l'API. Contr\xf4ler les valeurs ",(0,n.kt)("strong",{parentName:"p"},"<IP_TARGET_NODE>"),", m\xe9thode et port.")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"2020-10-20T10:39:30+02:00 [ERROR]: Can\u2019t connect to the API using: https://192.168.0.1:443/centreon/api/latest/login\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"L'URL d'acc\xe8s n'est pas compl\xe8te ou invalide. Utilisez l'option ",(0,n.kt)("strong",{parentName:"p"},"-root")," pour d\xe9finir le chemin de l'URL de l'API.\nPar exemple : ",(0,n.kt)("strong",{parentName:"p"},"--root monitoring"),".")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"2020-10-20T10:42:23+02:00 [ERROR]: No route found for \u201cPOST /centreon/api/latest/platform/topology\u201d\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"La version Centreon du serveur distant est invalide. Elle doit \xeatre sup\xe9rieure ou \xe9gale \xe0 23.04.")),(0,n.kt)("ol",o({},{start:6}),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Ajout des droits pour l'utilsateur de base de donn\xe9es centreon d'utiliser la\ncommande ",(0,n.kt)("strong",{parentName:"p"},"LOAD DATA INFILE"),":"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{}),"``` SQL\nGRANT FILE on *.* to 'centreon'@'localhost';\n```\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Depuis l'interface web du serveur ",(0,n.kt)("strong",{parentName:"p"},"Centreon Central"),", \xe9ditez\ntous les collecteurs rattach\xe9s au ",(0,n.kt)("strong",{parentName:"p"},"Remote Server")," et liez ceux-ci au\nnouveau Remote Server via la liste de s\xe9lection."))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"N'oubliez pas de ",(0,n.kt)("a",o({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/fr/docs/monitoring/monitoring-servers/deploying-a-configuration"}),"g\xe9n\xe9rer la configuration")," de votre\n",(0,n.kt)("strong",{parentName:"p"},"Remote Server"),".")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Un serveur Centreon Remote Server est un serveur dont l\u2019administration est\nautonome."),(0,n.kt)("p",{parentName:"blockquote"},"Ainsi, la configuration de l\u2019annuaire LDAP, celle des utilisateurs\nainsi que celle des ACL sont propres \xe0 ce serveur et doivent \xeatre configur\xe9es\nvia les menus ",(0,n.kt)("strong",{parentName:"p"},"Configuration")," (pour les utilisateurs) et ",(0,n.kt)("strong",{parentName:"p"},"Administration"),"\n(pour l'annuaire LDAP et les ACL).")))}m.isMDXComponent=!0}}]);