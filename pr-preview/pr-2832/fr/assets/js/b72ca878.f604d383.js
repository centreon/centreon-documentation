"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[71980],{3905:(e,t,r)=>{r.d(t,{Zo:()=>i,kt:()=>m});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),p=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},i=function(e){var t=p(e.components);return n.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,l=e.originalType,c=e.parentName,i=s(e,["components","mdxType","originalType","parentName"]),d=p(r),m=a,f=d["".concat(c,".").concat(m)]||d[m]||u[m]||l;return r?n.createElement(f,o(o({ref:t},i),{},{components:r})):n.createElement(f,o({ref:t},i))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=r.length,o=new Array(l);o[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var p=2;p<l;p++)o[p]=r[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},7626:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(67294),a=r(86010);const l="tabItem_Ymn6";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function s({children:e,hidden:t,className:r}){return n.createElement("div",o({role:"tabpanel",className:(0,a.Z)(l,r)},{hidden:t}),e)}},67709:(e,t,r)=>{r.d(t,{Z:()=>m});var n=r(67294),a=r(86010),l=r(90980),o=r(35715),s=r(8854),c=r(8241);const p="tabList__CuJ",i="tabItem_LNqP";function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function d(e){var t;const{lazy:r,block:l,defaultValue:d,values:m,groupId:f,className:v}=e,g=n.Children.map(e.children,(e=>{if((0,n.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),b=null!=m?m:g.map((({props:{value:e,label:t,attributes:r}})=>({value:e,label:t,attributes:r}))),h=(0,o.l)(b,((e,t)=>e.value===t.value));if(h.length>0)throw new Error(`Docusaurus error: Duplicate values "${h.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var k;const y=null===d?d:null!==(k=null!=d?d:null===(t=g.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==k?k:g[0].props.value;if(null!==y&&!b.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${b.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:N,setTabGroupChoices:w}=(0,s.U)(),[O,j]=(0,n.useState)(y),E=[],{blockElementScrollPositionUntilNextRender:C}=(0,c.o5)();if(null!=f){const e=N[f];null!=e&&e!==O&&b.some((t=>t.value===e))&&j(e)}const P=e=>{const t=e.currentTarget,r=E.indexOf(t),n=b[r].value;n!==O&&(C(t),j(n),null!=f&&w(f,String(n)))},T=e=>{let t=null;switch(e.key){case"ArrowRight":{const n=E.indexOf(e.currentTarget)+1;var r;t=null!==(r=E[n])&&void 0!==r?r:E[0];break}case"ArrowLeft":{const r=E.indexOf(e.currentTarget)-1;var n;t=null!==(n=E[r])&&void 0!==n?n:E[E.length-1];break}}null==t||t.focus()};return n.createElement("div",{className:(0,a.Z)("tabs-container",p)},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":l},v)},b.map((({value:e,label:t,attributes:r})=>n.createElement("li",u({role:"tab",tabIndex:O===e?0:-1,"aria-selected":O===e,key:e,ref:e=>E.push(e),onKeyDown:T,onFocus:P,onClick:P},r,{className:(0,a.Z)("tabs__item",i,null==r?void 0:r.className,{"tabs__item--active":O===e})}),null!=t?t:e)))),r?(0,n.cloneElement)(g.filter((e=>e.props.value===O))[0],{className:"margin-top--md"}):n.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==O})))))}function m(e){const t=(0,l.Z)();return n.createElement(d,u({key:String(t)},e))}},84799:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>f,frontMatter:()=>c,metadata:()=>i,toc:()=>d});r(67294);var n=r(3905),a=r(67709),l=r(7626);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const c={id:"offline",title:"Installation offline"},p=void 0,i={unversionedId:"installation/offline",id:"version-23.10/installation/offline",title:"Installation offline",description:"Pour pouvoir installer Centreon sur des serveurs sans acc\xe8s internet, cr\xe9ez une copie locale du d\xe9p\xf4t Centreon sur un serveur avec acc\xe8s internet, puis faites pointer vos serveurs Centreon sans acc\xe8s internet sur celui-ci.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/version-23.10/installation/offline.md",sourceDirName:"installation",slug:"/installation/offline",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/installation/offline",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/next/i18n/fr/docusaurus-plugin-content-docs/version-23.10/installation/offline.md",tags:[],version:"23.10",lastUpdatedAt:1700565273,formattedLastUpdatedAt:"21 nov. 2023",frontMatter:{id:"offline",title:"Installation offline"},sidebar:"version-23.10/docs",previous:{title:"Configuration avanc\xe9e",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/monitoring/monitoring-servers/advanced-configuration"},next:{title:"S\xe9curisez votre plateforme",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/docs/administration/secure-platform"}},u={},d=[{value:"Cr\xe9er une copie locale du d\xe9p\xf4t Centreon",id:"cr\xe9er-une-copie-locale-du-d\xe9p\xf4t-centreon",level:2},{value:"Garder votre d\xe9p\xf4t local \xe0 jour",id:"garder-votre-d\xe9p\xf4t-local-\xe0-jour",level:2}],m={toc:d};function f(e){var{components:t}=e,r=s(e,["components"]);return(0,n.kt)("wrapper",o({},m,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Pour pouvoir installer Centreon sur des serveurs sans acc\xe8s internet, cr\xe9ez une copie locale du d\xe9p\xf4t Centreon sur un serveur avec acc\xe8s internet, puis faites pointer vos serveurs Centreon sans acc\xe8s internet sur celui-ci."),(0,n.kt)("h2",o({},{id:"cr\xe9er-une-copie-locale-du-d\xe9p\xf4t-centreon"}),"Cr\xe9er une copie locale du d\xe9p\xf4t Centreon"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Installez le d\xe9p\xf4t sur votre serveur miroir.")),(0,n.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf config-manager --add-repo https://packages.centreon.com/rpm-standard/23.04/el8/centreon-23.04.repo\ndnf clean all --enablerepo=*\ndnf update\n")),(0,n.kt)("p",null,"Puis r\xe9cup\xe9rez la cl\xe9 gpg pour les paquets :"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"rpm --import https://yum-gpg.centreon.com/RPM-GPG-KEY-CES\n"))),(0,n.kt)(l.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf config-manager --add-repo https://packages.centreon.com/rpm-standard/23.04/el9/centreon-23.04.repo\ndnf clean all --enablerepo=*\ndnf update\n")),(0,n.kt)("p",null,"Puis r\xe9cup\xe9rez la cl\xe9 gpg pour les paquets :"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"rpm --import https://yum-gpg.centreon.com/RPM-GPG-KEY-CES\n"))),(0,n.kt)(l.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,n.kt)("p",null,"Pour installer le d\xe9p\xf4t Centreon, ex\xe9cutez la commande suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),'echo "deb https://packages.centreon.com/apt-standard-23.04-stable/ $(lsb_release -sc) main" | tee /etc/apt/sources.list.d/centreon.list\necho "deb https://packages.centreon.com/apt-plugins-stable/ $(lsb_release -sc) main" | tee /etc/apt/sources.list.d/centreon-plugins.list\n')),(0,n.kt)("p",null,"Puis importez la cl\xe9 du d\xe9p\xf4t :"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"wget -O- https://apt-key.centreon.com | gpg --dearmor | tee /etc/apt/trusted.gpg.d/centreon.gpg > /dev/null 2>&1\napt update\n")))),(0,n.kt)("ol",o({},{start:2}),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Cr\xe9ez un r\xe9pertoire pour le d\xe9p\xf4t local :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"mkdir -p /var/www/html/repos/centreon\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Installez les paquets n\xe9cessaires :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"yum install yum-utils createrepo httpd\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Synchronisez les d\xe9p\xf4ts :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"reposync -p /var/www/html/repos/centreon/ -r centreon-stable-noarch\nreposync -p /var/www/html/repos/centreon/ -r centreon-stable\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Cr\xe9ez le d\xe9p\xf4t :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"createrepo /var/www/html/repos/centreon/\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"D\xe9marrez le serveur web :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"service httpd start\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Sur votre serveur Centreon, \xe9ditez le fichier suivant :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"vi /etc/yum.repos.d/centreon.repo\n")),(0,n.kt)("p",{parentName:"li"},"Ajoutez les lignes suivantes :"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"[centreon]\nname=centreon\nbaseurl=http://<mirror_ip_address>/repos/centreon\ngpgcheck=1\nenabled=1\n")),(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"Remplacez ",(0,n.kt)("inlineCode",{parentName:"p"},"<mirror_ip_address>")," par la v\xe9ritable adresse de votre d\xe9p\xf4t local.")))),(0,n.kt)("h2",o({},{id:"garder-votre-d\xe9p\xf4t-local-\xe0-jour"}),"Garder votre d\xe9p\xf4t local \xe0 jour"),(0,n.kt)("p",null,"Afin de synchroniser r\xe9guli\xe8rement votre miroir avec le d\xe9p\xf4t Centreon, cr\xe9ez un fichier cron :"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"cd  /var/spool/cron\ncrontab -e\n")),(0,n.kt)("p",null,"Les commandes suivantes programmeront une synchronisation tous les jours \xe0 2h pour le d\xe9p\xf4t ",(0,n.kt)("strong",{parentName:"p"},"centreon-stable-noarch")," et tous les jours \xe0 3h pour le d\xe9p\xf4t ",(0,n.kt)("strong",{parentName:"p"},"centreon-stable"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"* 2 * * * reposync -p /var/www/html/repos/centreon/ -r centreon-stable-noarch\n* 3 * * * reposync -p /var/www/html/repos/centreon/ -r centreon-stable\n")))}f.isMDXComponent=!0}}]);