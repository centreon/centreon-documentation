"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[89797],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=u(n),m=a,k=p["".concat(s,".").concat(m)]||p[m]||d[m]||i;return n?r.createElement(k,l(l({ref:t},c),{},{components:n})):r.createElement(k,l({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=p;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var u=2;u<i;u++)l[u]=n[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},89436:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>k,frontMatter:()=>s,metadata:()=>c,toc:()=>p});n(67294);var r=n(3905),a=n(67709),i=n(7626);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const s={id:"cloud-cadvisor-api",title:"cAdvisor API"},u=void 0,c={unversionedId:"integrations/plugin-packs/procedures/cloud-cadvisor-api",id:"integrations/plugin-packs/procedures/cloud-cadvisor-api",title:"cAdvisor API",description:"Overview",source:"@site/i18n/fr/docusaurus-plugin-content-docs-pp/current/integrations/plugin-packs/procedures/cloud-cadvisor-api.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/cloud-cadvisor-api",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/cloud-cadvisor-api",draft:!1,tags:[],version:"current",frontMatter:{id:"cloud-cadvisor-api",title:"cAdvisor API"},sidebar:"pp",previous:{title:"cAdvisor",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/cloud-prometheus-cadvisor-api"},next:{title:"Cloud Foundry",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/cloud-cloudfoundry-api"}},d={},p=[{value:"Overview",id:"overview",level:2},{value:"Contenu du Pack",id:"contenu-du-pack",level:2},{value:"Objets supervis\xe9s",id:"objets-supervis\xe9s",level:2},{value:"R\xe8gles de d\xe9couverte",id:"r\xe8gles-de-d\xe9couverte",level:3},{value:"M\xe9triques collect\xe9es",id:"m\xe9triques-collect\xe9es",level:3},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"cAdvisor",id:"cadvisor",level:3},{value:"Flux r\xe9seaux",id:"flux-r\xe9seaux",level:3},{value:"Installation",id:"installation",level:2},{value:"Configuration de l&#39;h\xf4te",id:"configuration-de-lh\xf4te",level:3},{value:"Comment puis-je tester le Plugin et que signifient les options des commandes ?",id:"comment-puis-je-tester-le-plugin-et-que-signifient-les-options-des-commandes-",level:2},{value:"Diagnostic des erreurs communes",id:"diagnostic-des-erreurs-communes",level:2},{value:"UNKNOWN: curl perform error : Timeout was reached",id:"unknown-curl-perform-error--timeout-was-reached",level:3},{value:"UNKNOWN: No containers found or no data available for this specific metric.",id:"unknown-no-containers-found-or-no-data-available-for-this-specific-metric",level:3}],m={toc:p};function k(e){var{components:t}=e,n=o(e,["components"]);return(0,r.kt)("wrapper",l({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",l({},{id:"overview"}),"Overview"),(0,r.kt)("p",null,"cAdvisor (Container Advisor) permet aux utilisateurs d'observer l'utilisation des ressources\net les performances de leurs conteneurs en cours d'ex\xe9cution."),(0,r.kt)("p",null,"C'est un d\xe9mon qui collecte et agr\xe8ge de multiples informations \xe0 propos des conteneurs. "),(0,r.kt)("p",null,"Ce Pack vise \xe0 superviser les m\xe9triques expos\xe9es au travers de l'API de cAdvisor."),(0,r.kt)("h2",l({},{id:"contenu-du-pack"}),"Contenu du Pack"),(0,r.kt)("h2",l({},{id:"objets-supervis\xe9s"}),"Objets supervis\xe9s"),(0,r.kt)("p",null,"Ce Pack comprend un Mod\xe8le d'H\xf4te et plusieurs Mod\xe8les de Services permettant d'observer le statut\nd'un noeud et les performances de conteneurs s'y ex\xe9cutant. Les Services suivants sont disponibles:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Container-Usage"),(0,r.kt)("li",{parentName:"ul"},"Container-Disk-IO"),(0,r.kt)("li",{parentName:"ul"},"Container-Traffic"),(0,r.kt)("li",{parentName:"ul"},"Node-Status")),(0,r.kt)("h3",l({},{id:"r\xe8gles-de-d\xe9couverte"}),"R\xe8gles de d\xe9couverte"),(0,r.kt)("p",null,"Le Pack cAdvisor API propose diff\xe9rentes r\xe8gles de d\xe9couverte de Service."),(0,r.kt)("p",null,"Pour superviser les m\xe9triques des conteneurs, il est n\xe9cessaire d'utiliser la fonctionnalit\xe9 de\nd\xe9couverte de Service de Centreon. Voici un r\xe9sum\xe9 des r\xe8gles disponibles: "),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",l({parentName:"tr"},{align:null}),"Rule"),(0,r.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:null}),"Cloud-cAdvisor-API-Container-Disk-IO"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"D\xe9couverte de conteneurs pour la supervision des E/S Disque")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:null}),"Cloud-cAdvisor-API-Container-Usage"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"D\xe9couverte de conteneurs pour la supervision du CPU et de la RAM")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:null}),"Cloud-cAdvisor-API-Container-Traffic"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"D\xe9couverte de conteneurs pour la supervision de la bande-passante")))),(0,r.kt)("h3",l({},{id:"m\xe9triques-collect\xe9es"}),"M\xe9triques collect\xe9es"),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"Container-Usage",label:"Container-Usage",mdxType:"TabItem"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",l({parentName:"tr"},{align:"left"}),"Metric name"),(0,r.kt)("th",l({parentName:"tr"},{align:"left"}),"Description"),(0,r.kt)("th",l({parentName:"tr"},{align:"left"}),"Unit"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"<container_name_or_id>#container.cpu.count"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"Number of allocated CPU(s)"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"count")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"<container_name_or_id>#container.cpu.utilization.percentage"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"CPU utilization"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"<container_name_or_id>#container.cpu.user.utilization.percentage"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"CPU User utilization"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"<container_name_or_id>#container.cpu.system.utilization.percentage"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"CPU System utilization"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"<container_name_or_id>#container.memory.usage.bytes"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"Memory usage"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"B")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"<container_name_or_id>#container.memory.cache.usage.bytes"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"Cached memory usage"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"B")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"<container_name_or_id>#container.memory.rss.usage.bytes"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"RSS memory usage"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"B")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"<container_name_or_id>#container.swap.usage.bytes"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"SWAP memory usage"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"B")))),(0,r.kt)("p",null,"By default, the --use-name flag will instance the metric with the <container_name>.\nIf you want to use the <container_id> instead, remove it from the EXTRAOPTIONS macro at the Service Template level.")),(0,r.kt)(i.Z,{value:"Container-Disk-IO",label:"Container-Disk-IO",mdxType:"TabItem"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",l({parentName:"tr"},{align:"left"}),"Metric name"),(0,r.kt)("th",l({parentName:"tr"},{align:"left"}),"Description"),(0,r.kt)("th",l({parentName:"tr"},{align:"left"}),"Unit"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"<container_name_or_id:device>#disk.io.read.bytespersecond"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"Disk I/O Read from the container"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"B/s")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"<container_name_or_id:device>#disk.io.write.bytespersecond"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"Disk I/O Read from the container"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"B/s")))),(0,r.kt)("p",null,"By default, the --use-name flag will instance the metric with the <container_name>.\nIf you want to use the <container_id> instead, remove it from the EXTRAOPTIONS macro at the Service Template level.")),(0,r.kt)(i.Z,{value:"Container-Traffic",label:"Container-Traffic",mdxType:"TabItem"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",l({parentName:"tr"},{align:"left"}),"Metric name"),(0,r.kt)("th",l({parentName:"tr"},{align:"left"}),"Description"),(0,r.kt)("th",l({parentName:"tr"},{align:"left"}),"Unit"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"<container_name_or_id.network_int>#container.traffic.in.bitspersecond"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"Container incoming traffic"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"bps")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"<container_name_or_id.network_int>#container.traffic.out.bitspersecond"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"Container outgoing traffic"),(0,r.kt)("td",l({parentName:"tr"},{align:"left"}),"bps")))),(0,r.kt)("p",null,"By default, the --use-name flag will instance the metric with the <container_name>.\nIf you want to use the <container_id> instead, remove it from the EXTRAOPTIONS macro at the Service Template level."))),(0,r.kt)("h2",l({},{id:"pr\xe9requis"}),"Pr\xe9requis"),(0,r.kt)("h3",l({},{id:"cadvisor"}),"cAdvisor"),(0,r.kt)("p",null,"Un conteneur ou un d\xe9mon cAdvisor doit \xeatre en cours d'ex\xe9cution et disponible. La\ndocumentation officielle permet de ",(0,r.kt)("a",l({parentName:"p"},{href:"https://github.com/google/cadvisor#quick-start-running-cadvisor-in-a-docker-container"}),"d\xe9ployer le n\xe9cessaire rapidement"),"."),(0,r.kt)("h3",l({},{id:"flux-r\xe9seaux"}),"Flux r\xe9seaux"),(0,r.kt)("p",null,"Le Collecteur doit \xeatre en mesure de contacter le serveur h\xe9bergeant cAdvisor au travers\ndu port TCP/8080. Attention, selon la configuration le port peut \xeatre diff\xe9rent. "),(0,r.kt)("h2",l({},{id:"installation"}),"Installation"),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Installer le Plugin sur tous les Collecteurs Centreon allant superviser des containers via cAdvisor:")),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Cloud-cAdvisor-Api\n")),(0,r.kt)("ol",l({},{start:2}),(0,r.kt)("li",{parentName:"ol"},"Dans l'interface de Centreon, installer le Plugin Pack ",(0,r.kt)("em",{parentName:"li"},"cAdvisor API")," depuis la page ",(0,r.kt)("inlineCode",{parentName:"li"},"Configuration > Plugin Packs > Manager")))),(0,r.kt)(i.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Installer le Plugin sur tous les collecteurs Centreon devant superviser des containers via cAdvisor:")),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Cloud-cAdvisor-Api\n")),(0,r.kt)("ol",l({},{start:2}),(0,r.kt)("li",{parentName:"ol"},"Installer le RPM du Pack sur le serveur Central:")),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-cloud-cadvisor-api\n")),(0,r.kt)("ol",l({},{start:3}),(0,r.kt)("li",{parentName:"ol"},"Dans l'interface de Centreon, installer le Plugin Pack ",(0,r.kt)("em",{parentName:"li"},"cAdvisor API")," depuis la page ",(0,r.kt)("inlineCode",{parentName:"li"},"Configuration > Plugin Packs > Manager"))))),(0,r.kt)("h3",l({},{id:"configuration-de-lh\xf4te"}),"Configuration de l'h\xf4te"),(0,r.kt)("p",null,"Ajouter un H\xf4te depuis le menu ",(0,r.kt)("inlineCode",{parentName:"p"},"Configuration > Hosts")," et s\xe9lectionner le Mod\xe8le ",(0,r.kt)("inlineCode",{parentName:"p"},"Cloud-cAdvisor-API"),"."),(0,r.kt)("p",null,"Voici une description rapide des Macros de configuration disponibles : "),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",l({parentName:"tr"},{align:null}),"Mandatory"),(0,r.kt)("th",l({parentName:"tr"},{align:null}),"Macro"),(0,r.kt)("th",l({parentName:"tr"},{align:null}),"Description"),(0,r.kt)("th",l({parentName:"tr"},{align:null}),"Default value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:null}),"x"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"CADVISORAPIPROTO")),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"Protocole utilis\xe9 pour communiquer avec l'API cAdvisor"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"http"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:null}),"x"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"CADVISORAPIPORT")),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"Port d'\xe9coute de l'API cAdvisor"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"8080"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:null}),"x"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"CADVISORAPIPATH")),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"Chemin pour acc\xe8der \xe0 la page contenant les m\xe9triques"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"/containers/docker/"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:null})),(0,r.kt)("td",l({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"CADVISORAPIEXTRAOPTIONS")),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"Options additionnelles pour customiser les commandes"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"--http-backend=curl --insecure"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:null})),(0,r.kt)("td",l({parentName:"tr"},{align:null}),(0,r.kt)("inlineCode",{parentName:"td"},"PROXYURL")),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"L'URL du proxy \xe0 utiliser pour atteindre l'API"),(0,r.kt)("td",l({parentName:"tr"},{align:null}))))),(0,r.kt)("p",null,"Cliquer sur ",(0,r.kt)("strong",{parentName:"p"},"Save"),", vous pouvez d\xe9sormais d\xe9ployer votre configuration vers les Collecteurs. "),(0,r.kt)("h2",l({},{id:"comment-puis-je-tester-le-plugin-et-que-signifient-les-options-des-commandes-"}),"Comment puis-je tester le Plugin et que signifient les options des commandes ?"),(0,r.kt)("p",null,"Une fois le Plugin install\xe9, vous pouvez tester celui-ci directement en ligne de commande depuis\nvotre collecteur Centreon en vous connectant avec l'utilisateur centreon-engine:"),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_cadvisor_api.pl \\\n    --plugin=cloud::cadvisor::restapi::plugin --mode=traffic \\\n    --hostname=10.1.1.136 --port='8080' --proto='http' \\\n    --api-path='/containers/docker/' --http-backend=curl --insecure \\\n    --container-id='' --container-name='' --filter-name='^gray$' \\\n    --warning-traffic-in='' --critical-traffic-in='' \\\n    --warning-traffic-out='' --critical-traffic-out='' \\\n    --verbose --use-name\n")),(0,r.kt)("p",null,"La commande devrait retourner un message de sortie similaire \xe0:"),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"OK: Container 'gray.eth0' Traffic In: 43.99 b/s, Traffic Out: 39.92 b/s | 'gray.eth0#container.traffic.in.bitspersecond'=43.99b/s;;;0; 'gray.eth0#container.traffic.out.bitspersecond'=39.92b/s;;;0;\nContainer 'gray.eth0' Traffic In: 43.99 b/s, Traffic Out: 39.92 b/s\n")),(0,r.kt)("p",null,"Cette commande contr\xf4le le traffic entrant et sortant d'un conteneur (",(0,r.kt)("inlineCode",{parentName:"p"},"--plugin=cloud::cadvisor::restapi::plugin --mode=traffic"),").\nLe conteneur cibl\xe9 a le nom gray (",(0,r.kt)("inlineCode",{parentName:"p"},"--filter-name='^gray$'"),") et nous faisons en sorte d'utiliser son nom comme instance pour les\ngraphiques de performances (",(0,r.kt)("inlineCode",{parentName:"p"},"--use-name"),"). "),(0,r.kt)("p",null,"Toutes les options disponibles et leur signification peuvent \xeatre affich\xe9es via le param\xe8tre ",(0,r.kt)("inlineCode",{parentName:"p"},"--help")," :"),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_cadvisor_api.pl \\\n    --plugin=cloud::cadvisor::restapi::plugin --mode=traffic \\\n    --help\n")),(0,r.kt)("h2",l({},{id:"diagnostic-des-erreurs-communes"}),"Diagnostic des erreurs communes"),(0,r.kt)("h3",l({},{id:"unknown-curl-perform-error--timeout-was-reached"}),"UNKNOWN: curl perform error : Timeout was reached"),(0,r.kt)("p",null,"Quand cette erreur est affich\xe9e, cela signifie qu'il n'a pas \xe9t\xe9 possible de rentrer en contact avec\nl'API cAdvisor."),(0,r.kt)("p",null,"L'utilisation du flag ",(0,r.kt)("inlineCode",{parentName:"p"},"--debug")," permet d'afficher des d\xe9tails utiles au diagnostic."),(0,r.kt)("p",null,"Si vous utilisez un proxy, assurez-vous de l'avoir renseign\xe9 dans la Macro PROXYURL de l'H\xf4te. "),(0,r.kt)("h3",l({},{id:"unknown-no-containers-found-or-no-data-available-for-this-specific-metric"}),"UNKNOWN: No containers found or no data available for this specific metric."),(0,r.kt)("p",null,"Cette erreur signifie qu'aucune donn\xe9e n'est disponible pour la m\xe9trique demand\xe9e ou que le nom du conteneur\nest erronn\xe9 (faute de frappe, ou conteneur arr\xeat\xe9)."))}k.isMDXComponent=!0},7626:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(67294),a=n(86010);const i="tabItem_Ymn6";function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function o({children:e,hidden:t,className:n}){return r.createElement("div",l({role:"tabpanel",className:(0,a.Z)(i,n)},{hidden:t}),e)}},67709:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(67294),a=n(86010),i=n(90980),l=n(35715),o=n(8854),s=n(8241);const u="tabList__CuJ",c="tabItem_LNqP";function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e){var t;const{lazy:n,block:i,defaultValue:p,values:m,groupId:k,className:f}=e,g=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),v=null!=m?m:g.map((({props:{value:e,label:t,attributes:n}})=>({value:e,label:t,attributes:n}))),N=(0,l.l)(v,((e,t)=>e.value===t.value));if(N.length>0)throw new Error(`Docusaurus error: Duplicate values "${N.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var b;const h=null===p?p:null!==(b=null!=p?p:null===(t=g.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==b?b:g[0].props.value;if(null!==h&&!v.some((e=>e.value===h)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${h}" but none of its children has the corresponding value. Available values are: ${v.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:y,setTabGroupChoices:C}=(0,o.U)(),[O,P]=(0,r.useState)(h),w=[],{blockElementScrollPositionUntilNextRender:A}=(0,s.o5)();if(null!=k){const e=y[k];null!=e&&e!==O&&v.some((t=>t.value===e))&&P(e)}const I=e=>{const t=e.currentTarget,n=w.indexOf(t),r=v[n].value;r!==O&&(A(t),P(r),null!=k&&C(k,String(r)))},T=e=>{let t=null;switch(e.key){case"ArrowRight":{const r=w.indexOf(e.currentTarget)+1;var n;t=null!==(n=w[r])&&void 0!==n?n:w[0];break}case"ArrowLeft":{const n=w.indexOf(e.currentTarget)-1;var r;t=null!==(r=w[n])&&void 0!==r?r:w[w.length-1];break}}null==t||t.focus()};return r.createElement("div",{className:(0,a.Z)("tabs-container",u)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":i},f)},v.map((({value:e,label:t,attributes:n})=>r.createElement("li",d({role:"tab",tabIndex:O===e?0:-1,"aria-selected":O===e,key:e,ref:e=>w.push(e),onKeyDown:T,onFocus:I,onClick:I},n,{className:(0,a.Z)("tabs__item",c,null==n?void 0:n.className,{"tabs__item--active":O===e})}),null!=t?t:e)))),n?(0,r.cloneElement)(g.filter((e=>e.props.value===O))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==O})))))}function m(e){const t=(0,i.Z)();return r.createElement(p,d({key:String(t)},e))}}}]);