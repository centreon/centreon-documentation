"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[36703],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>d});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=p(a),d=r,k=m["".concat(o,".").concat(d)]||m[d]||c[d]||l;return a?n.createElement(k,i(i({ref:t},u),{},{components:a})):n.createElement(k,i({ref:t},u))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=m;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},11657:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>p,default:()=>k,frontMatter:()=>o,metadata:()=>u,toc:()=>m});a(67294);var n=a(3905),r=a(67709),l=a(7626);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const o={id:"applications-databases-oracle",title:"Oracle Database"},p=void 0,u={unversionedId:"integrations/plugin-packs/procedures/applications-databases-oracle",id:"integrations/plugin-packs/procedures/applications-databases-oracle",title:"Oracle Database",description:"Vue d'ensemble",source:"@site/i18n/fr/docusaurus-plugin-content-docs-pp/current/integrations/plugin-packs/procedures/applications-databases-oracle.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/applications-databases-oracle",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-databases-oracle",draft:!1,tags:[],version:"current",frontMatter:{id:"applications-databases-oracle",title:"Oracle Database"},sidebar:"pp",previous:{title:"MySQL/MariaDB",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-databases-mysql"},next:{title:"PostgreSQL DB",permalink:"/centreon-documentation/pr-preview/pr-2832/fr/pp/integrations/plugin-packs/procedures/applications-databases-postgresql"}},c={},m=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Contenu du Plugin Pack",id:"contenu-du-plugin-pack",level:2},{value:"Objet supervis\xe9",id:"objet-supervis\xe9",level:3},{value:"M\xe9triques collect\xe9es",id:"m\xe9triques-collect\xe9es",level:3},{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"RPM",id:"rpm",level:3},{value:"Oracle instant client",id:"oracle-instant-client",level:3},{value:"Biblioth\xe8que Perl pour Oracle",id:"biblioth\xe8que-perl-pour-oracle",level:3},{value:"Compte d&#39;utilisateur",id:"compte-dutilisateur",level:3},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"Comment tester un contr\xf4le en ligne de commandes et que signifient les options principales ?",id:"comment-tester-un-contr\xf4le-en-ligne-de-commandes-et-que-signifient-les-options-principales-",level:3},{value:"J&#39;obtiens le message d&#39;erreur suivant :",id:"jobtiens-le-message-derreur-suivant-",level:3},{value:"<code>UNKNOWN: Cannot connect: (no error string) |</code>",id:"unknown-cannot-connect-no-error-string-",level:4},{value:"<code>DBD::Oracle is not root directory |</code>",id:"dbdoracle-is-not-root-directory-",level:4}],d={toc:m};function k(e){var{components:t}=e,a=s(e,["components"]);return(0,n.kt)("wrapper",i({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",i({},{id:"vue-densemble"}),"Vue d'ensemble"),(0,n.kt)("p",null,"Oracle est un syst\xe8me de gestion de bases de donn\xe9es fourni par Oracle Corporation."),(0,n.kt)("p",null,"Le plugin Centreon associ\xe9 ",(0,n.kt)("strong",{parentName:"p"},"Oracle Database")," permet d'interroger l'API Rest afin de r\xe9cup\xe9rer le statut de diverses m\xe9triques sur le serveur Oracle."),(0,n.kt)("h2",i({},{id:"contenu-du-plugin-pack"}),"Contenu du Plugin Pack"),(0,n.kt)("h3",i({},{id:"objet-supervis\xe9"}),"Objet supervis\xe9"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Serveur Oracle")),(0,n.kt)("h3",i({},{id:"m\xe9triques-collect\xe9es"}),"M\xe9triques collect\xe9es"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Connection-Time",label:"Connection-Time",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"connection_time"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Connection time to the database"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ms"))))),(0,n.kt)(l.Z,{value:"Tnsping",label:"Tnsping",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"status"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Check Oracle listener status"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"})))))),(0,n.kt)(l.Z,{value:"Tablespace-Usage",label:"Tablespace-Usage",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"tbs_#instance_usage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Tablespace usage per Instance"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"tbs_#instance_free"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Tablespace free space left per instance"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B"))))),(0,n.kt)(l.Z,{value:"Session-Usage",label:"Session-Usage",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"session_used"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The percentage of Oracle session used"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%"))))),(0,n.kt)(l.Z,{value:"Rman-Backup-Problems",label:"Rman-Backup-Problems",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"#backup_backup_problems"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of problems per backup (last 3 days by default)"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Count"))))),(0,n.kt)(l.Z,{value:"Process-Usage",label:"Process-Usage",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"process_used"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The percentage of Oracle process used"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%"))))),(0,n.kt)(l.Z,{value:"Datacache-Hitratio",label:"Datacache-Hitratio",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"sga_data_buffer_hit_ratio"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Check the 'Data Buffer Cache Hit Ratio' of the server"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%"))))),(0,n.kt)(l.Z,{value:"Corrupted-Blocks",label:"Corrupted-Blocks",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"corrupted_blocks"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The number of corrupted blocks in the database"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Count"))))),(0,n.kt)(l.Z,{value:"Connection-Number",label:"Connection-Number",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"connected_users"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The number of connection to the Oracle server"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Count")))))),(0,n.kt)("h2",i({},{id:"pr\xe9requis"}),"Pr\xe9requis"),(0,n.kt)("h3",i({},{id:"rpm"}),"RPM"),(0,n.kt)("p",null,"Pour utiliser le Plugin Pack Oracle, il est n\xe9cessaire d'installer l'outil de ligne de commande ",(0,n.kt)("inlineCode",{parentName:"p"},"wget")," et la collection de compilateurs GNU (",(0,n.kt)("inlineCode",{parentName:"p"},"gcc"),")."),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install -y gcc wget\n")),(0,n.kt)("h3",i({},{id:"oracle-instant-client"}),"Oracle instant client"),(0,n.kt)("p",null,"Se connecter sur ",(0,n.kt)("a",i({parentName:"p"},{href:"https://www.oracle.com/database/technologies/instant-client/downloads.html"}),"Instant Client Downloads"),".\nChoisir le groupe de paquets correspondant au syst\xe8me d'exploitation du collecteur et t\xe9l\xe9charger les paquets suivants :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"oracle-instantclient-basic"),(0,n.kt)("li",{parentName:"ul"},"oracle-instantclient-sqlplus"),(0,n.kt)("li",{parentName:"ul"},"oracle-instantclientdevel")),(0,n.kt)("p",null,"Installer les paquets avec la commande suivante :"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"rpm -ivh oracle-*.rpm\n")),(0,n.kt)("h3",i({},{id:"biblioth\xe8que-perl-pour-oracle"}),"Biblioth\xe8que Perl pour Oracle"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Remplacer 21.1 par la version d'instantclient install\xe9e.")),(0,n.kt)("p",null,"En tant que ",(0,n.kt)("strong",{parentName:"p"},"root"),", ex\xe9cuter :"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"cd /usr/local/src \nwget http://www.cpan.org/modules/by-module/DBD/DBD-Oracle-1.80.tar.gz \ntar xzf DBD-Oracle-1.80.tar.gz \ncd DBD-Oracle-1.80 \nexport ORACLE_HOME=/usr/lib/oracle/21/client64\nexport LD_LIBRARY_PATH=/usr/lib/oracle/21/client64/lib \nexport PATH=$ORACLE_HOME:$PATH\nperl Makefile.PL -m /usr/share/oracle/21/client64/demo/demo.mk\n")),(0,n.kt)("p",null,"Le message suivant devrait appara\xeetre :"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-text"}),"LD_RUN_PATH=/usr/lib/oracle/21/client64/lib*\nUsing DBD::Oracle 1.80.\nUsing DBI 1.52 (for perl 5.008008 on x86_64-linux-thread-multi) installed in /usr/lib64/perl5/vendor_perl/5.8.8/x86\\_64-linux-thread-multi/auto/DBI/\nWriting Makefile for DBD::Oracle\n")),(0,n.kt)("p",null,"Compiler la biblioth\xe8que :"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"make\n")),(0,n.kt)("p",null,"Puis l'installer :"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"make install\n")),(0,n.kt)("p",null,"Puis cr\xe9er le fichier : ",(0,n.kt)("strong",{parentName:"p"},"/etc/ld.so.conf.d/oracle.conf"),". \xc9diter et ajouter un lien vers la biblioth\xe8que Perl d\u2019Oracle\xa0:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"cat > /etc/ld.so.conf.d/oracle.conf <<EOF\n/usr/lib/oracle/21/client64/lib/\nEOF\n")),(0,n.kt)("p",null,"Parcourir le fichier et ex\xe9cuter la commande d\xe9finie ci-dessous :"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"cd /usr/lib/oracle/21/client64/lib/\n/sbin/ldconfig\n")),(0,n.kt)("h3",i({},{id:"compte-dutilisateur"}),"Compte d'utilisateur"),(0,n.kt)("p",null,"La fa\xe7on la plus s\xfbre de r\xe9cup\xe9rer des informations du serveur Oracle est de cr\xe9er un utilisateur d\xe9di\xe9 \xe0 Centreon."),(0,n.kt)("p",null,"Ce compte utilisateur doit avoir la permission de lecture sur les tables suivantes\xa0:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"dba","_","free","_","space"),(0,n.kt)("li",{parentName:"ul"},"dba","_","data","_","files"),(0,n.kt)("li",{parentName:"ul"},"dba","_","temp","_","files"),(0,n.kt)("li",{parentName:"ul"},"dba","_","segments"),(0,n.kt)("li",{parentName:"ul"},"dba","_","jobs"),(0,n.kt)("li",{parentName:"ul"},"dba","_","objects"),(0,n.kt)("li",{parentName:"ul"},"DBA","_","MVIEW","_","refresh","_","times"),(0,n.kt)("li",{parentName:"ul"},"dba","_","indexes"),(0,n.kt)("li",{parentName:"ul"},"dba","_","ind","_","partitions"),(0,n.kt)("li",{parentName:"ul"},"dba","_","ind","_","subpartitions"),(0,n.kt)("li",{parentName:"ul"},"dba","_","registry"),(0,n.kt)("li",{parentName:"ul"},"dba","_","tablespaces"),(0,n.kt)("li",{parentName:"ul"},"DBA","_","MVIEW","_","refresh","_","times"),(0,n.kt)("li",{parentName:"ul"},"DBA","_","TABLESPACE","_","USAGE","_","METRICS"),(0,n.kt)("li",{parentName:"ul"},"v$sysstat"),(0,n.kt)("li",{parentName:"ul"},"v$sgastat"),(0,n.kt)("li",{parentName:"ul"},"v$parameter"),(0,n.kt)("li",{parentName:"ul"},"v$process"),(0,n.kt)("li",{parentName:"ul"},"v$session"),(0,n.kt)("li",{parentName:"ul"},"v$filestat"),(0,n.kt)("li",{parentName:"ul"},"v$log"),(0,n.kt)("li",{parentName:"ul"},"v$instance"),(0,n.kt)("li",{parentName:"ul"},"V$ASM","_","DISKGROUP"),(0,n.kt)("li",{parentName:"ul"},"v$database","_","block","_","corruption"),(0,n.kt)("li",{parentName:"ul"},"v$tempstat"),(0,n.kt)("li",{parentName:"ul"},"v$rowcache"),(0,n.kt)("li",{parentName:"ul"},"v$system","_","event"),(0,n.kt)("li",{parentName:"ul"},"v$recovery","_","area","_","usage"),(0,n.kt)("li",{parentName:"ul"},"v$librarycache"),(0,n.kt)("li",{parentName:"ul"},"v$sql","_","monitor"),(0,n.kt)("li",{parentName:"ul"},"v$resource","_","limit"),(0,n.kt)("li",{parentName:"ul"},"v$rman","_","status"),(0,n.kt)("li",{parentName:"ul"},"v$backup"),(0,n.kt)("li",{parentName:"ul"},"v$rman","_","status"),(0,n.kt)("li",{parentName:"ul"},"v$rollstat"),(0,n.kt)("li",{parentName:"ul"},"v$resource","_","limit"),(0,n.kt)("li",{parentName:"ul"},"v$tablespace"),(0,n.kt)("li",{parentName:"ul"},"v$event","_","name"),(0,n.kt)("li",{parentName:"ul"},"v$waitstat")),(0,n.kt)("h2",i({},{id:"installation"}),"Installation"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Installer le plugin sur tous les collecteurs Centreon supervisant une base de donn\xe9es Oracle\xa0:")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Databases-Oracle\n")),(0,n.kt)("ol",i({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"Sur l'interface web de Centreon, installer le Plugin Pack ",(0,n.kt)("strong",{parentName:"li"},"Oracle Database")," depuis la page ",(0,n.kt)("strong",{parentName:"li"},"Configuration > Plugin packs > Manager"),"."))),(0,n.kt)(l.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Installer le plugin sur tous les collecteurs Centreon supervisant une base de donn\xe9es Oracle\xa0:")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Databases-Oracle\n")),(0,n.kt)("ol",i({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"Sur le serveur Central Centreon, installer le Plugin Pack via le RPM :")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-applications-databases-oracle\n")),(0,n.kt)("ol",i({},{start:3}),(0,n.kt)("li",{parentName:"ol"},"Sur l'interface web de Centreon, installer le Plugin Pack ",(0,n.kt)("strong",{parentName:"li"},"Oracle Database")," depuis la page ",(0,n.kt)("strong",{parentName:"li"},"Configuration > Plugin packs > Manager"),".")))),(0,n.kt)("h2",i({},{id:"configuration"}),"Configuration"),(0,n.kt)("p",null,"Toujours dans l'interface web Centreon, aller \xe0 la page ",(0,n.kt)("strong",{parentName:"p"},"Configuration > H\xf4tes")," et cliquer sur ",(0,n.kt)("strong",{parentName:"p"},"Ajouter"),". Remplir les champs du formulaire.\nDans le champ ",(0,n.kt)("strong",{parentName:"p"},"Mod\xe8les")," cliquer sur ",(0,n.kt)("strong",{parentName:"p"},"+ Ajouter une nouvelle entr\xe9e")," puis s\xe9lectionner ",(0,n.kt)("strong",{parentName:"p"},"App-DB-Oracle-custom"),"."),(0,n.kt)("p",null,"Une fois celui-ci configur\xe9, certaines macros doivent \xeatre renseign\xe9es :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Mandatory"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ORACLEPASSWORD"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The oracle user's password")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ORACLEPORT"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"By default: 1521")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ORACLESID"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The name of the oracle instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ORACLEUSERNAME"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The oracle user name")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"})),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ORACLESERVICENAME"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The oracle service name")))),(0,n.kt)("h2",i({},{id:"faq"}),"FAQ"),(0,n.kt)("h3",i({},{id:"comment-tester-un-contr\xf4le-en-ligne-de-commandes-et-que-signifient-les-options-principales-"}),"Comment tester un contr\xf4le en ligne de commandes et que signifient les options principales ?"),(0,n.kt)("p",null,"Une fois le plugin install\xe9, vous pouvez tester celui-ci directement en ligne de commandes depuis votre collecteur Centreon avec l'utilisateur ",(0,n.kt)("strong",{parentName:"p"},"centreon-engine"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_oracle.pl \\\n    --plugin=database::oracle::plugin \\\n    --hostname='10.30.2.38' \\\n    --port='1521' \\\n    --sid='XE' \\\n    --username='SYSTEM' \\\n    --password='Centreon75' \\\n    --mode='tablespace-usage' \\\n    --warning-tablespace='90' \\\n    --critical-tablespace='98' \\\n    --verbose \n")),(0,n.kt)("p",null,"Exemple de sortie :"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"OK: All tablespaces are OK | 'tbs_sysaux_usage_sysaux'=552075272B;0:27596154624;0:29069940992;0;30595726360 'tbs_system_usage_system'=945684080B;0:27636154624;0:29065940982;0;30595527360 'tbs_temp_usage_temp'=0B;0:27536080897;0:29065863169;0;30595645450 'tbs_users_usage_users'=2818049B;0:27536154625;0:29065940993;0;30595727460\nTablespace 'sysaux' Total: 29.48 GB Used: 527.60 MB (1.90%) Free: 27.88 GB (98.20%)\nTablespace 'system' Total: 29.48 GB Used: 902.76 MB (3.09%) Free: 27.71 GB (96.91%)\nTablespace 'temp' Total: 29.48 GB Used: 0.00 B (0.00%) Free: 28.59 GB (100.00%)\nTablespace 'users' Total: 29.48 GB Used: 2.78 MB (0.01%) Free: 28.48 GB (99.99%)\n")),(0,n.kt)("p",null,"La commande ci-dessus contr\xf4le l'espace utilis\xe9 dans les tablespaces (",(0,n.kt)("inlineCode",{parentName:"p"},"--mode='tablespace-usage'"),")\nd'une base de donn\xe9es oracle install\xe9e sur l'h\xf4te 10.30.2.38 (",(0,n.kt)("inlineCode",{parentName:"p"},"--hostname='10.30.2.38'"),").\nIl utilise les informations d'Oracle pour se connecter \xe0 la base de donn\xe9es (",(0,n.kt)("inlineCode",{parentName:"p"},"--username='SYSTEM' --password='Centreon75' --port='1521' --sid='XE'"),")."),(0,n.kt)("p",null,"Le seuil d'alerte est d\xe9pass\xe9 si le pourcentage d'espace utilis\xe9 dans une tablespace d\xe9passe 90% (",(0,n.kt)("inlineCode",{parentName:"p"},"--warning-tablespace='90'"),"). Le seuil critique est d\xe9pass\xe9 si ce pourcentage d\xe9passe 98% (",(0,n.kt)("inlineCode",{parentName:"p"},"--critical-tablespace='98'"),")."),(0,n.kt)("p",null,"Toutes les options et leur utilisation peuvent \xeatre consult\xe9es avec le param\xe8tre ",(0,n.kt)("inlineCode",{parentName:"p"},"--help")," ajout\xe9 \xe0 la commande :"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_oracle.pl \\\n    --plugin=database::oracle::plugin \\\n    --mode='tablespace-usage' \\\n    --help\n")),(0,n.kt)("p",null,"Tous les modes fournis avec le plugin peuvent \xeatre consult\xe9s avec le param\xe8tre ",(0,n.kt)("inlineCode",{parentName:"p"},"--list-mode")," :"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_oracle.pl \\\n    --plugin=database::oracle::plugin \\\n    --list-mode\n")),(0,n.kt)("h3",i({},{id:"jobtiens-le-message-derreur-suivant-"}),"J'obtiens le message d'erreur suivant :"),(0,n.kt)("h4",i({},{id:"unknown-cannot-connect-no-error-string-"}),(0,n.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: Cannot connect: (no error string) |")),(0,n.kt)("p",null,"Ce message d'erreur signifie que le plugin Centreon n'a pas pu se connecter \xe0 la base de donn\xe9es Oracle.\nV\xe9rifier qu'une base de donn\xe9es Oracle est install\xe9e sur cet h\xf4te. V\xe9rifier \xe9galement qu'aucun pare-feu ne bloque la connexion."),(0,n.kt)("h4",i({},{id:"dbdoracle-is-not-root-directory-"}),(0,n.kt)("inlineCode",{parentName:"h4"},"DBD::Oracle is not root directory |")),(0,n.kt)("p",null,"Ce message d'erreur signifie que le module ",(0,n.kt)("strong",{parentName:"p"},"DBD::Oracle")," est install\xe9 sous le r\xe9pertoire ",(0,n.kt)("strong",{parentName:"p"},"/root"),".\nSupprimer la variable d'environnement shell avec PERL et compiler ",(0,n.kt)("strong",{parentName:"p"},"DBD::Oracle Perl Module"),"."))}k.isMDXComponent=!0},7626:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(67294),r=a(86010);const l="tabItem_Ymn6";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function s({children:e,hidden:t,className:a}){return n.createElement("div",i({role:"tabpanel",className:(0,r.Z)(l,a)},{hidden:t}),e)}},67709:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(67294),r=a(86010),l=a(90980),i=a(35715),s=a(8854),o=a(8241);const p="tabList__CuJ",u="tabItem_LNqP";function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(this,arguments)}function m(e){var t;const{lazy:a,block:l,defaultValue:m,values:d,groupId:k,className:b}=e,g=n.Children.map(e.children,(e=>{if((0,n.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),N=null!=d?d:g.map((({props:{value:e,label:t,attributes:a}})=>({value:e,label:t,attributes:a}))),f=(0,i.l)(N,((e,t)=>e.value===t.value));if(f.length>0)throw new Error(`Docusaurus error: Duplicate values "${f.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var v;const h=null===m?m:null!==(v=null!=m?m:null===(t=g.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==v?v:g[0].props.value;if(null!==h&&!N.some((e=>e.value===h)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${h}" but none of its children has the corresponding value. Available values are: ${N.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:y,setTabGroupChoices:O}=(0,s.U)(),[_,T]=(0,n.useState)(h),C=[],{blockElementScrollPositionUntilNextRender:D}=(0,o.o5)();if(null!=k){const e=y[k];null!=e&&e!==_&&N.some((t=>t.value===e))&&T(e)}const P=e=>{const t=e.currentTarget,a=C.indexOf(t),n=N[a].value;n!==_&&(D(t),T(n),null!=k&&O(k,String(n)))},w=e=>{let t=null;switch(e.key){case"ArrowRight":{const n=C.indexOf(e.currentTarget)+1;var a;t=null!==(a=C[n])&&void 0!==a?a:C[0];break}case"ArrowLeft":{const a=C.indexOf(e.currentTarget)-1;var n;t=null!==(n=C[a])&&void 0!==n?n:C[C.length-1];break}}null==t||t.focus()};return n.createElement("div",{className:(0,r.Z)("tabs-container",p)},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":l},b)},N.map((({value:e,label:t,attributes:a})=>n.createElement("li",c({role:"tab",tabIndex:_===e?0:-1,"aria-selected":_===e,key:e,ref:e=>C.push(e),onKeyDown:w,onFocus:P,onClick:P},a,{className:(0,r.Z)("tabs__item",u,null==a?void 0:a.className,{"tabs__item--active":_===e})}),null!=t?t:e)))),a?(0,n.cloneElement)(g.filter((e=>e.props.value===_))[0],{className:"margin-top--md"}):n.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==_})))))}function d(e){const t=(0,l.Z)();return n.createElement(m,c({key:String(t)},e))}}}]);