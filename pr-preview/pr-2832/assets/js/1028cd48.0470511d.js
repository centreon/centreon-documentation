"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[37131],{3905:(t,e,a)=>{a.d(e,{Zo:()=>m,kt:()=>u});var n=a(67294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var p=n.createContext({}),s=function(t){var e=n.useContext(p),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},m=function(t){var e=s(t.components);return n.createElement(p.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},d=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,p=t.parentName,m=o(t,["components","mdxType","originalType","parentName"]),d=s(a),u=r,g=d["".concat(p,".").concat(u)]||d[u]||c[u]||l;return a?n.createElement(g,i(i({ref:e},m),{},{components:a})):n.createElement(g,i({ref:e},m))}));function u(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,i=new Array(l);i[0]=d;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=t,o.mdxType="string"==typeof t?t:r,i[1]=o;for(var s=2;s<l;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},65655:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>s,default:()=>g,frontMatter:()=>p,metadata:()=>m,toc:()=>d});a(67294);var n=a(3905),r=a(67709),l=a(7626);function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},i.apply(this,arguments)}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}const p={id:"applications-monitoring-netdata-restapi",title:"Netdata RestAPI"},s=void 0,m={unversionedId:"integrations/plugin-packs/procedures/applications-monitoring-netdata-restapi",id:"integrations/plugin-packs/procedures/applications-monitoring-netdata-restapi",title:"Netdata RestAPI",description:"Overview",source:"@site/pp/integrations/plugin-packs/procedures/applications-monitoring-netdata-restapi.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/applications-monitoring-netdata-restapi",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/applications-monitoring-netdata-restapi",draft:!1,tags:[],version:"current",frontMatter:{id:"applications-monitoring-netdata-restapi",title:"Netdata RestAPI"},sidebar:"pp",previous:{title:"Netbackup NSClient++ API",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/applications-netbackup-nsclient-05-restapi"},next:{title:"Nginx Server",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/applications-webservers-nginx-serverstatus"}},c={},d=[{value:"Overview",id:"overview",level:2},{value:"Plugin-Pack assets",id:"plugin-pack-assets",level:2},{value:"Monitored Objects",id:"monitored-objects",level:3},{value:"Available services",id:"available-services",level:3},{value:"Collected metrics",id:"collected-metrics",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Netdata agent setup",id:"netdata-agent-setup",level:3},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"How can I test my configuration and what do the main parameters stand for ?",id:"how-can-i-test-my-configuration-and-what-do-the-main-parameters-stand-for-",level:3},{value:"Why do I get the following error message:",id:"why-do-i-get-the-following-error-message",level:3},{value:"<code>UNKNOWN: 500 Can&#39;t connect to myserver.mycompany.com:19999</code>",id:"unknown-500-cant-connect-to-myservermycompanycom19999",level:4},{value:"<code>UNKNOWN: 501 Protocol scheme &#39;connect&#39; is not supported |</code>",id:"unknown-501-protocol-scheme-connect-is-not-supported-",level:4},{value:"<code>UNKNOWN: Cannot load module &#39;Net::Curl::Easy&#39;</code>",id:"unknown-cannot-load-module-netcurleasy",level:4}],u={toc:d};function g(t){var{components:e}=t,a=o(t,["components"]);return(0,n.kt)("wrapper",i({},u,a,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h2",i({},{id:"overview"}),"Overview"),(0,n.kt)("p",null,"Netdata is an open source tool to visualize and monitor real-time metrics, optimized to accumulate all types of data, such as CPU usage, disk activity,\nSQL queries, visits to a website, etc."),(0,n.kt)("p",null,"The tool is designed to visualize activity in the greatest possible detail, allowing the user to obtain an overview of what is happening and\nwhat has just happened in their system or application."),(0,n.kt)("h2",i({},{id:"plugin-pack-assets"}),"Plugin-Pack assets"),(0,n.kt)("h3",i({},{id:"monitored-objects"}),"Monitored Objects"),(0,n.kt)("p",null,"The Netdata RestAPI Centreon Plugin-Pack allows to collect and monitor servers' key metrics by interacting with the Netdata agent RestAPI.\nThe open-source and highly efficient Netdata agent can be used on the following platforms"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Linux (Debian, Ubuntu, RedHat, CentOS, Fedora, Arch...)"),(0,n.kt)("li",{parentName:"ul"},"BSD"),(0,n.kt)("li",{parentName:"ul"},"MacOs"),(0,n.kt)("li",{parentName:"ul"},"pfSense"),(0,n.kt)("li",{parentName:"ul"},"Synology")),(0,n.kt)("h3",i({},{id:"available-services"}),"Available services"),(0,n.kt)("p",null,"The current version of the Netdata RestAPI Plugin-Pack can monitor the following services:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Alarms"),(0,n.kt)("li",{parentName:"ul"},"CPU"),(0,n.kt)("li",{parentName:"ul"},"Disks (Usage & Inodes)"),(0,n.kt)("li",{parentName:"ul"},"Load"),(0,n.kt)("li",{parentName:"ul"},"RAM"),(0,n.kt)("li",{parentName:"ul"},"Swap"),(0,n.kt)("li",{parentName:"ul"},"Inodes"),(0,n.kt)("li",{parentName:"ul"},"Network traffic"),(0,n.kt)("li",{parentName:"ul"},'Custom Netdata "chart"')),(0,n.kt)("h3",i({},{id:"collected-metrics"}),"Collected metrics"),(0,n.kt)("p",null,"The following metrics are collected by the Centreon Netdata RestAPI Plugin:"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Alarms",label:"Alarms",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"netdata.alarms.current.total.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Current total active alarms triggered by the Netdata agent"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"netdata.alarms.current.warning.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Current warning alarms triggered by the Netdata agent"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"netdata.alarms.current.critical.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Current critical alarms triggered by the Netdata agent"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"})))))),(0,n.kt)(l.Z,{value:"CPU",label:"CPU",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"cpu.utilization.percentage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Average total CPU usage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"core.cpu.utilization.percentage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Per core CPU usage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%"))))),(0,n.kt)(l.Z,{value:"Disks",label:"Disks",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"storage.partitions.count"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Total number of partitions"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"storage.space.usage.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Per partition space usage (in Bytes)"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"storage.space.usage.percentage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Per partition space usage (in %)"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"storage.space.free.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Per partition free space (in Bytes)"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B"))))),(0,n.kt)(l.Z,{value:"Inodes",label:"Inodes",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"storage.inodes.usage.percentage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Per partition Inodes usage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%"))))),(0,n.kt)(l.Z,{value:"Load",label:"Load",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"center"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"load1"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"System load average on a 1 minute period"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"load5"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"System load average on a 5 minutes period"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"load15"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"System load average on a 15 minutes period"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"})))))),(0,n.kt)(l.Z,{value:"Memory",label:"Memory",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"center"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"memory.usage.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Total current memory usage (in Bytes)"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"memory.usage.percentage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Total current memory usage (in %)"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"}),"%")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"memory.free.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Current free memory"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"memory.buffer.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Current amount of memory allocated to 'buffer'"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"memory.cached.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Current amount of memory allocated to 'cached'"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"memory.shared.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Current amount of memory allocated to 'shared'"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"}),"B"))))),(0,n.kt)(l.Z,{value:"Swap",label:"Swap",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"center"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"swap.usage.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Swap space usage (in Bytes)"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"swap.usage.percentage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Swap space usage (in %)"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"}),"%")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"swap.free.bytes"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Free Swap space"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"}),"B"))))),(0,n.kt)(l.Z,{value:"Traffic",label:"Traffic",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"center"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"network.traffic.in.bitspersecond"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Per interface incoming traffic"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"}),"b/s")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"network.traffic.out.bitspersecond"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Per interface outgoing traffic"),(0,n.kt)("td",i({parentName:"tr"},{align:"center"}),"b/s")))))),(0,n.kt)("h2",i({},{id:"prerequisites"}),"Prerequisites"),(0,n.kt)("h3",i({},{id:"netdata-agent-setup"}),"Netdata agent setup"),(0,n.kt)("p",null,"The Netdata agent has to be set up and configured on the targeted server in order to use the Plugin-Pack."),(0,n.kt)("p",null,"More information about how to get and install the agent is available in the official Netdata documentation:\n",(0,n.kt)("a",i({parentName:"p"},{href:"https://learn.netdata.cloud/docs/agent/packaging/installer"}),"https://learn.netdata.cloud/docs/agent/packaging/installer")),(0,n.kt)("h2",i({},{id:"installation"}),"Installation"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Install the Centreon Plugin package on every Centreon poller expected to monitor Netdata agents:")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Monitoring-Netdata-Restapi\n")),(0,n.kt)("ol",i({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"On the centreon Web interface, install the ",(0,n.kt)("em",{parentName:"li"},"Netdata RestAPI"),' Centreon Plugin-Pack on the "Configuration > Plugin Packs > Manager" page'))),(0,n.kt)(l.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Install the Centreon Plugin package on every Centreon poller expected to monitor Netdata agents:")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Monitoring-Netdata-Restapi\n")),(0,n.kt)("ol",i({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"Install the Centreon Plugin-Pack RPM on the Centreon Central server:")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-applications-monitoring-netdata-restapi.noarch\n")),(0,n.kt)("ol",i({},{start:3}),(0,n.kt)("li",{parentName:"ol"},"On the centreon Web interface, install the ",(0,n.kt)("em",{parentName:"li"},"Netdata RestAPI"),' Centreon Plugin-Pack on the "Configuration > Plugin Packs > Manager" page')))),(0,n.kt)("h2",i({},{id:"configuration"}),"Configuration"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'Log into Centreon and add new host through "Configuration > Hosts".'),(0,n.kt)("li",{parentName:"ul"},"Apply the template ",(0,n.kt)("em",{parentName:"li"},"App-Monitoring-Netdata-Restapi")," to the Host and configure all the mandatories Macros:")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Mandatory"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"NETDATAAPIPORT"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Port used (Default: 19999)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"NETDATAAPIPROTOCOL"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Specify https if needed (Default: 'http')")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"NETDATAAPIENDPOINT"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Specify the API URL path (Default: '/api/v1')")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"})),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"EXTRAOPTIONS"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Any extra option you may want to add to the command (eg. a ",(0,n.kt)("inlineCode",{parentName:"td"},"--verbose")," flag)")))),(0,n.kt)("h2",i({},{id:"faq"}),"FAQ"),(0,n.kt)("h3",i({},{id:"how-can-i-test-my-configuration-and-what-do-the-main-parameters-stand-for-"}),"How can I test my configuration and what do the main parameters stand for ?"),(0,n.kt)("p",null,"Once the Centreon plugin installed, you can test it directly from the Centreon Poller CLI by logging with the ",(0,n.kt)("em",{parentName:"p"},"centreon-engine")," user:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_monitoring_netdata_restapi.pl \\\n    --plugin=apps::monitoring::netdata::restapi::plugin \\\n    --hostname=10.0.0.1 \\\n    --mode=cpu \\\n    --warning-average=70 \\\n    --critical-average=80 \\\n    --verbose\n")),(0,n.kt)("p",null,"Expected command output is shown below:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"OK: 2 CPU(s) average usage is 17.23 % | \n'cpu.utilization.percentage'=17.23%;0:40;0:50;0;100 '0#core.cpu.utilization.percentage'=16.71%;;;0;100 '1#core.cpu.utilization.percentage'=17.75%;;;0;100\nCPU '0' usage: 16.71 %\nCPU '1' usage: 17.75 %\n")),(0,n.kt)("p",null,"The above command checks the average CPU usage (",(0,n.kt)("inlineCode",{parentName:"p"},"--mode=cpu"),") of an Unix server hosting the Netdata agent. The Plugin gets the information by\nrequesting the agent API (",(0,n.kt)("inlineCode",{parentName:"p"},"--plugin=apps::monitoring::netdata::restapi::plugin --hostname=10.0.0.1"),")."),(0,n.kt)("p",null,"This command would trigger a WARNING alarm if the average CPU usage raises beyond 70% (",(0,n.kt)("inlineCode",{parentName:"p"},"--warning-average=70"),")\nand a CRITICAL beyond 80% (",(0,n.kt)("inlineCode",{parentName:"p"},"--critical-average=80"),")."),(0,n.kt)("p",null,"The available thresholds as well as all of the options that can be used with this Plugin\ncan be displayed by adding the ",(0,n.kt)("inlineCode",{parentName:"p"},"--help")," parameter to the command:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{}),"/usr/lib/centreon/plugins/centreon_monitoring_netdata_restapi.pl \\\n    --plugin=apps::monitoring::netdata::restapi::plugin \\\n    --hostname=10.0.0.1 \\\n    --mode=cpu \\\n    --help\n")),(0,n.kt)("h3",i({},{id:"why-do-i-get-the-following-error-message"}),"Why do I get the following error message:"),(0,n.kt)("h4",i({},{id:"unknown-500-cant-connect-to-myservermycompanycom19999"}),(0,n.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: 500 Can't connect to myserver.mycompany.com:19999")),(0,n.kt)("p",null,"This error message means that the Centreon Plugin couldn't successfully connect to the Netdata agent API.\nCheck that no third party device (such as a firewall) is blocking the request.\nA proxy connection may also be necessary to connect to the API.\nThis can be done by using this option in the command: ",(0,n.kt)("inlineCode",{parentName:"p"},"--proxyurl='http://proxy.mycompany:8080'"),"."),(0,n.kt)("h4",i({},{id:"unknown-501-protocol-scheme-connect-is-not-supported-"}),(0,n.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: 501 Protocol scheme 'connect' is not supported |")),(0,n.kt)("p",null,"When using a proxy to connect to the Netdata agent API, this error message means that the Centreon Plugin library does not support\nthe proxy connection protocol."),(0,n.kt)("p",null,"In order to prevent this issue, use the ",(0,n.kt)("em",{parentName:"p"},"curl")," HTTP backend by adding the following option to the command: ",(0,n.kt)("inlineCode",{parentName:"p"},"--http-backend='curl'"),"."),(0,n.kt)("h4",i({},{id:"unknown-cannot-load-module-netcurleasy"}),(0,n.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: Cannot load module 'Net::Curl::Easy'")),(0,n.kt)("p",null,"This error message means that a Perl library required to use the ",(0,n.kt)("em",{parentName:"p"},"curl")," backend is missing."),(0,n.kt)("p",null,"In order to fix this issue, install the 'Net::Curl::Easy' Perl library using the following command:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install perl-Net-Curl\n")))}g.isMDXComponent=!0},7626:(t,e,a)=>{a.d(e,{Z:()=>o});var n=a(67294),r=a(86010);const l="tabItem_Ymn6";function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},i.apply(this,arguments)}function o({children:t,hidden:e,className:a}){return n.createElement("div",i({role:"tabpanel",className:(0,r.Z)(l,a)},{hidden:e}),t)}},67709:(t,e,a)=>{a.d(e,{Z:()=>u});var n=a(67294),r=a(86010),l=a(90980),i=a(35715),o=a(8854),p=a(8241);const s="tabList__CuJ",m="tabItem_LNqP";function c(){return c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},c.apply(this,arguments)}function d(t){var e;const{lazy:a,block:l,defaultValue:d,values:u,groupId:g,className:k}=t,N=n.Children.map(t.children,(t=>{if((0,n.isValidElement)(t)&&"value"in t.props)return t;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof t.type?t.type:t.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),f=null!=u?u:N.map((({props:{value:t,label:e,attributes:a}})=>({value:t,label:e,attributes:a}))),h=(0,i.l)(f,((t,e)=>t.value===e.value));if(h.length>0)throw new Error(`Docusaurus error: Duplicate values "${h.map((t=>t.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var b;const y=null===d?d:null!==(b=null!=d?d:null===(e=N.find((t=>t.props.default)))||void 0===e?void 0:e.props.value)&&void 0!==b?b:N[0].props.value;if(null!==y&&!f.some((t=>t.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${f.map((t=>t.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:v,setTabGroupChoices:w}=(0,o.U)(),[P,C]=(0,n.useState)(y),T=[],{blockElementScrollPositionUntilNextRender:O}=(0,p.o5)();if(null!=g){const t=v[g];null!=t&&t!==P&&f.some((e=>e.value===t))&&C(t)}const I=t=>{const e=t.currentTarget,a=T.indexOf(e),n=f[a].value;n!==P&&(O(e),C(n),null!=g&&w(g,String(n)))},A=t=>{let e=null;switch(t.key){case"ArrowRight":{const n=T.indexOf(t.currentTarget)+1;var a;e=null!==(a=T[n])&&void 0!==a?a:T[0];break}case"ArrowLeft":{const a=T.indexOf(t.currentTarget)-1;var n;e=null!==(n=T[a])&&void 0!==n?n:T[T.length-1];break}}null==e||e.focus()};return n.createElement("div",{className:(0,r.Z)("tabs-container",s)},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":l},k)},f.map((({value:t,label:e,attributes:a})=>n.createElement("li",c({role:"tab",tabIndex:P===t?0:-1,"aria-selected":P===t,key:t,ref:t=>T.push(t),onKeyDown:A,onFocus:I,onClick:I},a,{className:(0,r.Z)("tabs__item",m,null==a?void 0:a.className,{"tabs__item--active":P===t})}),null!=e?e:t)))),a?(0,n.cloneElement)(N.filter((t=>t.props.value===P))[0],{className:"margin-top--md"}):n.createElement("div",{className:"margin-top--md"},N.map(((t,e)=>(0,n.cloneElement)(t,{key:e,hidden:t.props.value!==P})))))}function u(t){const e=(0,l.Z)();return n.createElement(d,c({key:String(e)},t))}}}]);