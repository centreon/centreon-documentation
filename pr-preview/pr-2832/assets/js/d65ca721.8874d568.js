"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[43146],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=p(a),m=r,k=u["".concat(o,".").concat(m)]||u[m]||c[m]||i;return a?n.createElement(k,l(l({ref:t},d),{},{components:a})):n.createElement(k,l({ref:t},d))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=u;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var p=2;p<i;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},72732:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>p,default:()=>k,frontMatter:()=>o,metadata:()=>d,toc:()=>u});a(67294);var n=a(3905),r=a(67709),i=a(7626);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const o={id:"applications-drbd-ssh",title:"DRBD SSH"},p=void 0,d={unversionedId:"integrations/plugin-packs/procedures/applications-drbd-ssh",id:"integrations/plugin-packs/procedures/applications-drbd-ssh",title:"DRBD SSH",description:"Overview",source:"@site/pp/integrations/plugin-packs/procedures/applications-drbd-ssh.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/applications-drbd-ssh",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/applications-drbd-ssh",draft:!1,tags:[],version:"current",frontMatter:{id:"applications-drbd-ssh",title:"DRBD SSH"},sidebar:"pp",previous:{title:"Commvault CommServe Rest API",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/applications-commvault-commserve-restapi"},next:{title:"Dynatrace Rest API",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/applications-monitoring-dynatrace-restapi"}},c={},u=[{value:"Overview",id:"overview",level:2},{value:"Plugin-Pack Assets",id:"plugin-pack-assets",level:2},{value:"Monitored Objects",id:"monitored-objects",level:3},{value:"Collected Metrics",id:"collected-metrics",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setup",id:"setup",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"How to check in the CLI that the configuration is OK and what are the main options for ?",id:"how-to-check-in-the-cli-that-the-configuration-is-ok-and-what-are-the-main-options-for-",level:3},{value:"I have that error message: <code>UNKNOWN: Command error: Host key verification failed.</code>. What does it mean ?",id:"i-have-that-error-message-unknown-command-error-host-key-verification-failed-what-does-it-mean-",level:3}],m={toc:u};function k(e){var{components:t}=e,a=s(e,["components"]);return(0,n.kt)("wrapper",l({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",l({},{id:"overview"}),"Overview"),(0,n.kt)("p",null,"DRBD (Distributed Replicated Block Device) is a distributed storage architecture for GNU/Linux,\nallowing the replication of block devices (disks, partitions, logical volumes etc.) between servers.\nDRBD is free software, but support exists. DRBD consists of a kernel module, administration tools in\nuser space as well as shell scripts."),(0,n.kt)("h2",l({},{id:"plugin-pack-assets"}),"Plugin-Pack Assets"),(0,n.kt)("h3",l({},{id:"monitored-objects"}),"Monitored Objects"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"DRBD replication including roles, peers, devices")),(0,n.kt)("h3",l({},{id:"collected-metrics"}),"Collected Metrics"),(0,n.kt)("p",null,"More information about collected metrics is available in the official DRBD documentation : ",(0,n.kt)("a",l({parentName:"p"},{href:"https://www.linbit.com/drbd-user-guide/drbd-guide-9_0-en/"}),"https://www.linbit.com/drbd-user-guide/drbd-guide-9_0-en/")),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(i.Z,{value:"Resources",label:"Resources",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"disk-status"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Disk status"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"peer-connection-status"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Peer connection status"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"peer-device-replication-status"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Peer device replication status"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"peer-device-disk-status"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Peer device disk status"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"resources.total.count"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Total number of resources"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"count")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"disk.data.read.bytespersecond"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Disk data read"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"B/s")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"disk.data.written.bytespersecond"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Disk data written"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"B/s")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"peer.traffic.in.bitspersecond"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Peer traffic in"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"b/s")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"peer.traffic.out.bitspersecond"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Peer traffic out"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"b/s")))))),(0,n.kt)("h2",l({},{id:"prerequisites"}),"Prerequisites"),(0,n.kt)("p",null,"A number of distributions provide DRBD, including pre-built binary packages.\nSupport for these builds, if any, is being provided by the associated distribution vendor.\nTheir release cycle may lag behind DRBD source releases."),(0,n.kt)("p",null,"More information is available on the official documentation of DRBD : ",(0,n.kt)("a",l({parentName:"p"},{href:"https://www.linbit.com/drbd-user-guide/drbd-guide-9_0-en/#ch-install-packages"}),"https://www.linbit.com/drbd-user-guide/drbd-guide-9_0-en/#ch-install-packages")),(0,n.kt)("p",null,"The centreon-engine user performs a SSH connection to a remote system user. This user must have enough privileges to run ",(0,n.kt)("inlineCode",{parentName:"p"},"/usr/bin/drbdsetup")," command."),(0,n.kt)("h2",l({},{id:"setup"}),"Setup"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(i.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Install the Centreon Plugin on every Poller monitoring DRBD resources:")),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Drbd-Ssh.noarch\n")),(0,n.kt)("ol",l({},{start:2}),(0,n.kt)("li",{parentName:"ol"},'On the Centreon Web interface in "Configuration > Plugin packs > Manager", install the ',(0,n.kt)("em",{parentName:"li"},"DRBD SSH")," Plugin-Pack"))),(0,n.kt)(i.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Install the Centreon Plugin on every Poller monitoring DRBD resources:")),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Drbd-Ssh.noarch\n")),(0,n.kt)("ol",l({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"On the Centreon Central server, install the Centreon Plugin-Pack from the RPM:")),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"yum install ccentreon-pack-applications-drbd-ssh.noarch\n")),(0,n.kt)("ol",l({},{start:3}),(0,n.kt)("li",{parentName:"ol"},'On the Centreon Web interface in "Configuration > Plugin packs > Manager", install the ',(0,n.kt)("em",{parentName:"li"},"DRBD SSH")," Plugin-Pack")))),(0,n.kt)("h2",l({},{id:"configuration"}),"Configuration"),(0,n.kt)("p",null,"Adding a Host into Centreon, link it to the Template named ",(0,n.kt)("em",{parentName:"p"},"App-Drbd-SSH-custom"),".\nOnce the Template set, you have to set values according to the chosen SSH backend.\n3 SSH backends are available to connect to the remote server: ",(0,n.kt)("em",{parentName:"p"},"sshcli"),", ",(0,n.kt)("em",{parentName:"p"},"plink")," and ",(0,n.kt)("em",{parentName:"p"},"libssh")," which are detailed below."),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(i.Z,{value:"sshcli backend",label:"sshcli backend",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Mandatory"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Name"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHBACKEND"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Name of the backend: ",(0,n.kt)("inlineCode",{parentName:"td"},"sshcli"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHUSERNAME"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"By default, it uses the user running process ",(0,n.kt)("inlineCode",{parentName:"td"},"centengine")," on your Poller")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"})),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHPASSWORD"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Cannot be used with backend. Only ssh key authentication")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"})),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHPORT"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"By default: 22")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"})),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHEXTRAOPTIONS"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Customize it with your own if needed. E.g.: ",(0,n.kt)("inlineCode",{parentName:"td"},"--ssh-priv-key=/user/.ssh/id_rsa"))))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"With that backend, you have to validate the target server fingerprint manually (with the SSHUSERNAME used)."))),(0,n.kt)(i.Z,{value:"plink backend",label:"plink backend",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Mandatory"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Name"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHBACKEND"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Name of the backend: ",(0,n.kt)("inlineCode",{parentName:"td"},"plink"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHUSERNAME"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"By default, it uses the user running process ",(0,n.kt)("inlineCode",{parentName:"td"},"centengine")," on your Poller")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"})),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHPASSWORD"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Can be used. If not set, SSH key authentication is used")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"})),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHPORT"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"By default: 22")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"})),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHEXTRAOPTIONS"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Customize it with your own if needed. E.g.: ",(0,n.kt)("inlineCode",{parentName:"td"},"--ssh-priv-key=/user/.ssh/id_rsa"))))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"With that backend, you have to validate the target server fingerprint manually (with the SSHUSERNAME used)."))),(0,n.kt)(i.Z,{value:"libssh backend (default)",label:"libssh backend (default)",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Mandatory"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Name"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHBACKEND"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Name of the backend: ",(0,n.kt)("inlineCode",{parentName:"td"},"libssh"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHUSERNAME"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"By default, it uses the user running process ",(0,n.kt)("inlineCode",{parentName:"td"},"centengine")," on your Poller")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"})),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHPASSWORD"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Can be used. If not set, SSH key authentication is used")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"})),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHPORT"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"By default: 22")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"})),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"SSHEXTRAOPTIONS"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Customize it with your own if needed. E.g.: ",(0,n.kt)("inlineCode",{parentName:"td"},"--ssh-priv-key=/user/.ssh/id_rsa"))))),(0,n.kt)("p",null,"With that backend, you do not have to validate the target server fingerprint manually."))),(0,n.kt)("h2",l({},{id:"faq"}),"FAQ"),(0,n.kt)("h3",l({},{id:"how-to-check-in-the-cli-that-the-configuration-is-ok-and-what-are-the-main-options-for-"}),"How to check in the CLI that the configuration is OK and what are the main options for ?"),(0,n.kt)("p",null,"Once the Plugin installed, log into your Poller using the ",(0,n.kt)("em",{parentName:"p"},"centreon-engine")," user account and test by running the following command :"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_drbd_ssh.pl \\\n    --plugin=apps::drbd::local::plugin.pm \\\n    --mode=resources \\\n    --hostname=10.30.2.81 \\\n    --ssh-username=centreon \\\n    --ssh-password=centreon-password \\\n    --ssh-backend=libssh \\\n    --legacy-proc \\\n    --verbose\n")),(0,n.kt)("p",null,"Which output something similar to:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"OK: total resources: 9 - All drbd resources are ok\n| 'resources.total.count'=9;;;0; '0#disk.data.read.bytespersecond'=0B/s;;;0; '0#disk.data.written.bytespersecond'=0B/s;;;0; '0~0#peer.traffic.in.bitspersecond'=0b/s;;;0;\n'0~0#peer.traffic.out.bitspersecond'=0b/s;;;0; '1#disk.data.read.bytespersecond'=0B/s;;;0; '1#disk.data.written.bytespersecond'=0B/s;;;0; '1~0#peer.traffic.in.bitspersecond'=0b/s;;;0;\n'1~0#peer.traffic.out.bitspersecond'=0b/s;;;0; '2#disk.data.read.bytespersecond'=0B/s;;;0; '2#disk.data.written.bytespersecond'=0B/s;;;0; '2~0#peer.traffic.in.bitspersecond'=0b/s;;;0;\n'2~0#peer.traffic.out.bitspersecond'=0b/s;;;0; '3#disk.data.read.bytespersecond'=0B/s;;;0; '3#disk.data.written.bytespersecond'=0B/s;;;0; '3~0#peer.traffic.in.bitspersecond'=0b/s;;;0;\n'3~0#peer.traffic.out.bitspersecond'=0b/s;;;0; '4#disk.data.read.bytespersecond'=0B/s;;;0; '4#disk.data.written.bytespersecond'=0B/s;;;0; '4~0#peer.traffic.in.bitspersecond'=0b/s;;;0;\n'4~0#peer.traffic.out.bitspersecond'=0b/s;;;0; '5#disk.data.read.bytespersecond'=0B/s;;;0; '5#disk.data.written.bytespersecond'=0B/s;;;0; '5~0#peer.traffic.in.bitspersecond'=0b/s;;;0;\n'5~0#peer.traffic.out.bitspersecond'=0b/s;;;0; '6#disk.data.read.bytespersecond'=0B/s;;;0; '6#disk.data.written.bytespersecond'=0B/s;;;0; '6~0#peer.traffic.in.bitspersecond'=0b/s;;;0;\n'6~0#peer.traffic.out.bitspersecond'=0b/s;;;0; '7#disk.data.read.bytespersecond'=0B/s;;;0; '7#disk.data.written.bytespersecond'=0B/s;;;0; '7~0#peer.traffic.in.bitspersecond'=0b/s;;;0;\n'7~0#peer.traffic.out.bitspersecond'=0b/s;;;0; '8#disk.data.read.bytespersecond'=0B/s;;;0; '8#disk.data.written.bytespersecond'=0B/s;;;0; '8~0#peer.traffic.in.bitspersecond'=0b/s;;;0;\n'8~0#peer.traffic.out.bitspersecond'=0b/s;;;0;\n")),(0,n.kt)("p",null,"The command above gets the status of resources DRBD SSH (",(0,n.kt)("inlineCode",{parentName:"p"},"--mode=resources"),").\nIt uses a SSH username ",(0,n.kt)("em",{parentName:"p"},"centreon")," (",(0,n.kt)("inlineCode",{parentName:"p"},"--ssh-username=centreon"),"), a SSH password ",(0,n.kt)("em",{parentName:"p"},"centreon-password")," (",(0,n.kt)("inlineCode",{parentName:"p"},"--ssh-password='centreon-password'"),"),\nuses a SSH backend ",(0,n.kt)("em",{parentName:"p"},"libssh")," (",(0,n.kt)("inlineCode",{parentName:"p"},"--ssh-backend='libssh'"),") and it connects to the host ",(0,n.kt)("em",{parentName:"p"},"10.30.2.81")," (",(0,n.kt)("inlineCode",{parentName:"p"},"--hostname=10.30.2.81"),")\non the SSH default port ",(0,n.kt)("em",{parentName:"p"},"22")," (",(0,n.kt)("inlineCode",{parentName:"p"},"--ssh-port=22"),")."),(0,n.kt)("p",null,"The ",(0,n.kt)("em",{parentName:"p"},"legacy-proc")," (",(0,n.kt)("inlineCode",{parentName:"p"},"--legacy-proc"),") option allows you to use the old proc file (",(0,n.kt)("inlineCode",{parentName:"p"},"/proc/drbd"),"). This makes it possible to use a version prior to version 9."),(0,n.kt)("p",null,"All the options that can be used with this plugin can be found over the ",(0,n.kt)("inlineCode",{parentName:"p"},"--help")," options:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_drbd_ssh.pl \\\n--plugin=apps::drbd::local::plugin.pm \\\n--mode=resources --help\n")),(0,n.kt)("h3",l({},{id:"i-have-that-error-message-unknown-command-error-host-key-verification-failed-what-does-it-mean-"}),"I have that error message: ",(0,n.kt)("inlineCode",{parentName:"h3"},"UNKNOWN: Command error: Host key verification failed."),". What does it mean ?"),(0,n.kt)("p",null,"It means you haven't manually validated the target server fingerprint with ",(0,n.kt)("inlineCode",{parentName:"p"},"ssh")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"plink")," on the Centreon Poller."))}k.isMDXComponent=!0},7626:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(67294),r=a(86010);const i="tabItem_Ymn6";function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}function s({children:e,hidden:t,className:a}){return n.createElement("div",l({role:"tabpanel",className:(0,r.Z)(i,a)},{hidden:t}),e)}},67709:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(67294),r=a(86010),i=a(90980),l=a(35715),s=a(8854),o=a(8241);const p="tabList__CuJ",d="tabItem_LNqP";function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(this,arguments)}function u(e){var t;const{lazy:a,block:i,defaultValue:u,values:m,groupId:k,className:f}=e,b=n.Children.map(e.children,(e=>{if((0,n.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),h=null!=m?m:b.map((({props:{value:e,label:t,attributes:a}})=>({value:e,label:t,attributes:a}))),g=(0,l.l)(h,((e,t)=>e.value===t.value));if(g.length>0)throw new Error(`Docusaurus error: Duplicate values "${g.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var N;const y=null===u?u:null!==(N=null!=u?u:null===(t=b.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==N?N:b[0].props.value;if(null!==y&&!h.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${h.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:v,setTabGroupChoices:w}=(0,s.U)(),[S,O]=(0,n.useState)(y),C=[],{blockElementScrollPositionUntilNextRender:D}=(0,o.o5)();if(null!=k){const e=v[k];null!=e&&e!==S&&h.some((t=>t.value===e))&&O(e)}const P=e=>{const t=e.currentTarget,a=C.indexOf(t),n=h[a].value;n!==S&&(D(t),O(n),null!=k&&w(k,String(n)))},T=e=>{let t=null;switch(e.key){case"ArrowRight":{const n=C.indexOf(e.currentTarget)+1;var a;t=null!==(a=C[n])&&void 0!==a?a:C[0];break}case"ArrowLeft":{const a=C.indexOf(e.currentTarget)-1;var n;t=null!==(n=C[a])&&void 0!==n?n:C[C.length-1];break}}null==t||t.focus()};return n.createElement("div",{className:(0,r.Z)("tabs-container",p)},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":i},f)},h.map((({value:e,label:t,attributes:a})=>n.createElement("li",c({role:"tab",tabIndex:S===e?0:-1,"aria-selected":S===e,key:e,ref:e=>C.push(e),onKeyDown:T,onFocus:P,onClick:P},a,{className:(0,r.Z)("tabs__item",d,null==a?void 0:a.className,{"tabs__item--active":S===e})}),null!=t?t:e)))),a?(0,n.cloneElement)(b.filter((e=>e.props.value===S))[0],{className:"margin-top--md"}):n.createElement("div",{className:"margin-top--md"},b.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==S})))))}function m(e){const t=(0,i.Z)();return n.createElement(u,c({key:String(t)},e))}}}]);