"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[58902],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=c(n),d=r,f=m["".concat(s,".").concat(d)]||m[d]||u[d]||o;return n?a.createElement(f,i(i({ref:t},p),{},{components:n})):a.createElement(f,i({ref:t},p))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},66103:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>f,frontMatter:()=>s,metadata:()=>p,toc:()=>m});n(67294);var a=n(3905),r=n(67709),o=n(7626);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const s={id:"applications-cisco-ssms-restapi",title:"Cisco SSMS"},c=void 0,p={unversionedId:"integrations/plugin-packs/procedures/applications-cisco-ssms-restapi",id:"integrations/plugin-packs/procedures/applications-cisco-ssms-restapi",title:"Cisco SSMS",description:"Overview",source:"@site/pp/integrations/plugin-packs/procedures/applications-cisco-ssms-restapi.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/applications-cisco-ssms-restapi",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/applications-cisco-ssms-restapi",draft:!1,tags:[],version:"current",frontMatter:{id:"applications-cisco-ssms-restapi",title:"Cisco SSMS"},sidebar:"pp",previous:{title:"Cisco ISE",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/applications-cisco-ise-restapi"},next:{title:"Commvault CommServe Rest API",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/applications-commvault-commserve-restapi"}},u={},m=[{value:"Overview",id:"overview",level:2},{value:"Plugin-Pack Assets",id:"plugin-pack-assets",level:2},{value:"Monitored Objects",id:"monitored-objects",level:3},{value:"Collected Metrics",id:"collected-metrics",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setup",id:"setup",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"How to check in the CLI that the configuration is OK and what are the main options for ?",id:"how-to-check-in-the-cli-that-the-configuration-is-ok-and-what-are-the-main-options-for-",level:3},{value:"Why do I get the following error:",id:"why-do-i-get-the-following-error",level:3},{value:"<code>UNKNOWN: 500 Can&#39;t connect to api.ssms.com:443</code>",id:"unknown-500-cant-connect-to-apissmscom443",level:4},{value:"<code>UNKNOWN: 501 Protocol scheme &#39;connect&#39; is not supported |</code>",id:"unknown-501-protocol-scheme-connect-is-not-supported-",level:4},{value:"How do I remove the <em>count</em> perfdatas if I want to filter on just one application ?",id:"how-do-i-remove-the-count-perfdatas-if-i-want-to-filter-on-just-one-application-",level:3}],d={toc:m};function f(e){var{components:t}=e,n=l(e,["components"]);return(0,a.kt)("wrapper",i({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",i({},{id:"overview"}),"Overview"),(0,a.kt)("p",null,"Cisco Smart Software Manager On-Prem (formerly known as Cisco Smart Software Manager satellite) is a component of Cisco Smart Licensing\nthat works in conjunction with Cisco Smart Software Manager (SSM).\nIt offers near real-time visibility and reporting of the Cisco licensesyou purchase and consume while giving security-sensitive organizations,\na way to access a subset of Cisco SSM functionality without using a direct Internet connection to manage their install base."),(0,a.kt)("h2",i({},{id:"plugin-pack-assets"}),"Plugin-Pack Assets"),(0,a.kt)("h3",i({},{id:"monitored-objects"}),"Monitored Objects"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Applications"),(0,a.kt)("li",{parentName:"ul"},"Servers"),(0,a.kt)("li",{parentName:"ul"},"Licences"),(0,a.kt)("li",{parentName:"ul"},"Alerts")),(0,a.kt)("h3",i({},{id:"collected-metrics"}),"Collected Metrics"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Alerts",label:"Alerts",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric Name"),(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"account.alerts.minor.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of alerts minor.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"account.alerts.major.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of alerts major."))))),(0,a.kt)(o.Z,{value:"Licenses",label:"Licenses",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric Name"),(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"status"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Status of licenses.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"licenses.usage.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of licenses usage.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"licenses.free.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of licenses free.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"licenses.usage.percentage"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Percentage of licenses usage. Unit : %")))))),(0,a.kt)("h2",i({},{id:"prerequisites"}),"Prerequisites"),(0,a.kt)("p",null,"A service account is required to query the Cisco SSMS API. It must have sufficient read privileges in the account targeted.\nMore information is available in the official Cisco SSMS API : ",(0,a.kt)("a",i({parentName:"p"},{href:"https://www.cisco.com/c/dam/en_us/buy/smart-accounts/smart-software-manager-satellite-enhanced-edition-6-2-0-user-guide.pdf"}),"https://www.cisco.com/c/dam/en_us/buy/smart-accounts/smart-software-manager-satellite-enhanced-edition-6-2-0-user-guide.pdf")),(0,a.kt)("h2",i({},{id:"setup"}),"Setup"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install the Centreon Plugin on every poller monitoring Cisco SSMS resources:")),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Cisco-Ssms-Restapi.noarch\n")),(0,a.kt)("ol",i({},{start:2}),(0,a.kt)("li",{parentName:"ol"},'On the Centreon Web interface in "Configuration > Plugin packs > Manager", install the ',(0,a.kt)("em",{parentName:"li"},"Cisco SSMS")," Plugin-Pack"))),(0,a.kt)(o.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install the Centreon Plugin on every poller monitoring Cisco SSMS resources:")),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Cisco-Ssms-Restapi.noarch\n")),(0,a.kt)("ol",i({},{start:2}),(0,a.kt)("li",{parentName:"ol"},"On the Centreon Central server, install the Centreon Plugin-Pack from the RPM:")),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-applications-cisco-ssms-restapi.noarch\n")),(0,a.kt)("ol",i({},{start:3}),(0,a.kt)("li",{parentName:"ol"},'On the Centreon Web interface in "Configuration > Plugin packs > Manager", install the ',(0,a.kt)("em",{parentName:"li"},"Cisco SSMS")," Plugin-Pack")))),(0,a.kt)("h2",i({},{id:"configuration"}),"Configuration"),(0,a.kt)("p",null,"The Plugin-Pack is designed to monitor resources based on one host per account.\nAdding a host into Centreon, link it to the template named ",(0,a.kt)("em",{parentName:"p"},"App-Cisco-Ssms-Restapi-custom"),".\nOnce the template applied, some Macros have to be configured:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Mandatory"),(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Name"),(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"APIPORT"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Port used. Default is 8443")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"APIPROTO"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Protocol used. Default is https")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"CLIENTID"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Client ID to access to the API.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"CLIENTSECRET"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Client Secret to access to the API.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"})),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"APIEXTRAOPTIONS"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Any extra option you may want to add to the command")))),(0,a.kt)("h2",i({},{id:"faq"}),"FAQ"),(0,a.kt)("h3",i({},{id:"how-to-check-in-the-cli-that-the-configuration-is-ok-and-what-are-the-main-options-for-"}),"How to check in the CLI that the configuration is OK and what are the main options for ?"),(0,a.kt)("p",null,"Once the Plugin installed, log into your poller using the ",(0,a.kt)("em",{parentName:"p"},"centreon-engine")," user account and test by running the following command\n(Parameters such as ",(0,a.kt)("inlineCode",{parentName:"p"},"account")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"client-id"),"have to be adjusted):"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_cisco_ssms_restapi.pl \\\n    --plugin=apps::cisco::ssms::restapi::plugin \\\n    --mode=licenses \\\n    --hostname='api.ssms.com' \\\n    --client-id='myapiclientid' \\\n    --client-secret='myapiclientsecret' \\\n    --account='1234abc-56de-78fg-90hi-1234abcdefg' \\\n    --filter-counters='status' \\\n    --filter-license-name='mylicence'\n    --critical-license-status='%{status} !~ /in compliance/i' \\\n    --verbose\n")),(0,a.kt)("p",null,"The command above gets the status of a Cisco SSMS licenses (",(0,a.kt)("inlineCode",{parentName:"p"},"--mode=licenses"),") named ",(0,a.kt)("em",{parentName:"p"},"mylicense")," (",(0,a.kt)("inlineCode",{parentName:"p"},"--filter-licence-name='mylicence'"),").\nThis license belongs to account ",(0,a.kt)("em",{parentName:"p"},"1234abc-56de-78fg-90hi-1234abcdefg")," (",(0,a.kt)("inlineCode",{parentName:"p"},"--account='1234abc-56de-78fg-90hi-1234abcdefg'"),"). "),(0,a.kt)("p",null,"This command will trigger a CRITICAL alarm if the status of the license is different from ",(0,a.kt)("em",{parentName:"p"},"in compliance")," (",(0,a.kt)("inlineCode",{parentName:"p"},"--critical-license-status='%{status} !~ /in compliance/i'"),") "),(0,a.kt)("p",null,"All the options that can be used with this plugin can be found over the ",(0,a.kt)("inlineCode",{parentName:"p"},"--help")," command:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_cisco_ssms_restapi.pl --plugin=apps::cisco::ssms::restapi::plugin \n--mode=licences --help\n")),(0,a.kt)("h3",i({},{id:"why-do-i-get-the-following-error"}),"Why do I get the following error:"),(0,a.kt)("h4",i({},{id:"unknown-500-cant-connect-to-apissmscom443"}),(0,a.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: 500 Can't connect to api.ssms.com:443")),(0,a.kt)("p",null,"This error message means that the Centreon Plugin couldn't successfully connect to the Cisco SSMS API.\nCheck that no third party device (such as a firewall) is blocking the request.\nA proxy connection may also be necessary to connect to the API. This can be done by using the ",(0,a.kt)("inlineCode",{parentName:"p"},"--proxyurl")," option in the command."),(0,a.kt)("h4",i({},{id:"unknown-501-protocol-scheme-connect-is-not-supported-"}),(0,a.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: 501 Protocol scheme 'connect' is not supported |")),(0,a.kt)("p",null,"When using a proxy to connect to the Cisco SSMS API, this error message means that the Centreon Plugin library does not support\nthe proxy connection protocol."),(0,a.kt)("p",null,"In order to prevent this issue, use the ",(0,a.kt)("em",{parentName:"p"},"curl")," HTTP backend by adding the following option to the command: ",(0,a.kt)("inlineCode",{parentName:"p"},"--http-backend='curl'"),"."),(0,a.kt)("h3",i({},{id:"how-do-i-remove-the-count-perfdatas-if-i-want-to-filter-on-just-one-application-"}),"How do I remove the ",(0,a.kt)("em",{parentName:"h3"},"count")," perfdatas if I want to filter on just one application ?"),(0,a.kt)("p",null,"The Plugin adds the count of objects by default. This can be useless if the objects are filtered with the ",(0,a.kt)("inlineCode",{parentName:"p"},"--filter-license-name")," parameter.\nTherefore, these useless perfdatas can be omitted by adding a perfdata filter : ",(0,a.kt)("inlineCode",{parentName:"p"},"--filter-perfdata='^$'"),"."))}f.isMDXComponent=!0},7626:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(67294),r=n(86010);const o="tabItem_Ymn6";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}function l({children:e,hidden:t,className:n}){return a.createElement("div",i({role:"tabpanel",className:(0,r.Z)(o,n)},{hidden:t}),e)}},67709:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(67294),r=n(86010),o=n(90980),i=n(35715),l=n(8854),s=n(8241);const c="tabList__CuJ",p="tabItem_LNqP";function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(this,arguments)}function m(e){var t;const{lazy:n,block:o,defaultValue:m,values:d,groupId:f,className:h}=e,g=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),k=null!=d?d:g.map((({props:{value:e,label:t,attributes:n}})=>({value:e,label:t,attributes:n}))),b=(0,i.l)(k,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var v;const N=null===m?m:null!==(v=null!=m?m:null===(t=g.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==v?v:g[0].props.value;if(null!==N&&!k.some((e=>e.value===N)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${N}" but none of its children has the corresponding value. Available values are: ${k.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:y,setTabGroupChoices:w}=(0,l.U)(),[C,O]=(0,a.useState)(N),S=[],{blockElementScrollPositionUntilNextRender:P}=(0,s.o5)();if(null!=f){const e=y[f];null!=e&&e!==C&&k.some((t=>t.value===e))&&O(e)}const T=e=>{const t=e.currentTarget,n=S.indexOf(t),a=k[n].value;a!==C&&(P(t),O(a),null!=f&&w(f,String(a)))},I=e=>{let t=null;switch(e.key){case"ArrowRight":{const a=S.indexOf(e.currentTarget)+1;var n;t=null!==(n=S[a])&&void 0!==n?n:S[0];break}case"ArrowLeft":{const n=S.indexOf(e.currentTarget)-1;var a;t=null!==(a=S[n])&&void 0!==a?a:S[S.length-1];break}}null==t||t.focus()};return a.createElement("div",{className:(0,r.Z)("tabs-container",c)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":o},h)},k.map((({value:e,label:t,attributes:n})=>a.createElement("li",u({role:"tab",tabIndex:C===e?0:-1,"aria-selected":C===e,key:e,ref:e=>S.push(e),onKeyDown:I,onFocus:T,onClick:T},n,{className:(0,r.Z)("tabs__item",p,null==n?void 0:n.className,{"tabs__item--active":C===e})}),null!=t?t:e)))),n?(0,a.cloneElement)(g.filter((e=>e.props.value===C))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==C})))))}function d(e){const t=(0,o.Z)();return a.createElement(m,u({key:String(t)},e))}}}]);