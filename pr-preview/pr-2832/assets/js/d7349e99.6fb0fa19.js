"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[52509],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=u(n),d=a,k=m["".concat(s,".").concat(d)]||m[d]||c[d]||l;return n?r.createElement(k,o(o({ref:t},p),{},{components:n})):r.createElement(k,o({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,o=new Array(l);o[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var u=2;u<l;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},96992:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>k,frontMatter:()=>s,metadata:()=>p,toc:()=>m});n(67294);var r=n(3905),a=n(67709),l=n(7626);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const s={id:"hardware-pdu-cyberpower-snmp",title:"CyberPower Systems PDU SNMP"},u=void 0,p={unversionedId:"integrations/plugin-packs/procedures/hardware-pdu-cyberpower-snmp",id:"integrations/plugin-packs/procedures/hardware-pdu-cyberpower-snmp",title:"CyberPower Systems PDU SNMP",description:"Overview",source:"@site/pp/integrations/plugin-packs/procedures/hardware-pdu-cyberpower-snmp.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/hardware-pdu-cyberpower-snmp",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/hardware-pdu-cyberpower-snmp",draft:!1,tags:[],version:"current",frontMatter:{id:"hardware-pdu-cyberpower-snmp",title:"CyberPower Systems PDU SNMP"},sidebar:"pp",previous:{title:"Clever PDU",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/hardware-pdu-clever-snmp"},next:{title:"CyberPower Systems UPS SNMP",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/hardware-ups-cyberpower-snmp"}},c={},m=[{value:"Overview",id:"overview",level:2},{value:"Plugin-Pack assets",id:"plugin-pack-assets",level:2},{value:"Monitored objects",id:"monitored-objects",level:3},{value:"Collected metrics",id:"collected-metrics",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"How to check in the CLI that the configuration is OK and what are the main options for ?",id:"how-to-check-in-the-cli-that-the-configuration-is-ok-and-what-are-the-main-options-for-",level:3},{value:"UNKNOWN: SNMP GET Request : Timeout",id:"unknown-snmp-get-request--timeout",level:3},{value:"UNKNOWN: SNMP GET Request : Cant get a single value.",id:"unknown-snmp-get-request--cant-get-a-single-value",level:3}],d={toc:m};function k(e){var{components:t}=e,n=i(e,["components"]);return(0,r.kt)("wrapper",o({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",o({},{id:"overview"}),"Overview"),(0,r.kt)("p",null,"CyberPower Basic Power Distribution Units (PDUs) provide reliable unfiltered power distribution\nfrom a UPS system, generator, or utility source to multiple devices"),(0,r.kt)("h2",o({},{id:"plugin-pack-assets"}),"Plugin-Pack assets"),(0,r.kt)("h3",o({},{id:"monitored-objects"}),"Monitored objects"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"PDUs Physical entities (outlets, bank, phases)")),(0,r.kt)("h2",o({},{id:"collected-metrics"}),"Collected metrics"),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"Load",label:"Load",mdxType:"TabItem"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",o({parentName:"tr"},{align:"left"}),"Metric name"),(0,r.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"),(0,r.kt)("th",o({parentName:"tr"},{align:"left"}),"Unit"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"bank status"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"Bank status, possible to set string-based alerts"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"bank.current.ampere"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"Current Bank Ampere level"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"A")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"phase status"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"Phase status, possible to set string-based alerts"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"phase.current.ampere"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"Current Ampere level on a given Phase"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"A")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"phase.power.watt"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"Current Watt Power on a given Phase"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"W"))))),(0,r.kt)(l.Z,{value:"Outlets",label:"Outlets",mdxType:"TabItem"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",o({parentName:"tr"},{align:"left"}),"Metric name"),(0,r.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"),(0,r.kt)("th",o({parentName:"tr"},{align:"left"}),"Unit"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"outlet status"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"Outlet status, possible to set string-based alerts"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"outlet.current.ampere"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"Current Ampere on a given outlet"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"A")))))),(0,r.kt)("h2",o({},{id:"prerequisites"}),"Prerequisites"),(0,r.kt)("p",null,"Le Service SNMP doit \xeatre activ\xe9 et configur\xe9 sur l'\xe9quipement CyberPower. "),(0,r.kt)("p",null,"Le Collecteur Centreon doit \xeatre en mesure d'atteindre le PDU CyberPower via le port\nUDP/161. "),(0,r.kt)("p",null,"Afin d'obtenir plus d'information sur la configuration SNMP, il est recommand\xe9 de se r\xe9f\xe9rer \xe0 la\ndocumentation officielle:\n",(0,r.kt)("a",o({parentName:"p"},{href:"https://dl4jz3rbrsfum.cloudfront.net/documents/CyberPower_UM_IntelligentPDUUserGuide.pdf"}),"https://dl4jz3rbrsfum.cloudfront.net/documents/CyberPower_UM_IntelligentPDUUserGuide.pdf"),"."),(0,r.kt)("h2",o({},{id:"installation"}),"Installation"),(0,r.kt)(a.Z,{groupId:"sync",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Installer le Plugin sur tous les collecteurs Centreon devant superviser des ressources ",(0,r.kt)("em",{parentName:"li"},"CyberPower Systems PDU SNMP"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Hardware-Pdu-Cyberpower-Snmp\n")),(0,r.kt)("ol",o({},{start:2}),(0,r.kt)("li",{parentName:"ol"},"Sur l'interface Web de Centreon, installer le Plugin-Pack ",(0,r.kt)("em",{parentName:"li"},"CyberPower Systems PDU SNMP"),' depuis la page "Configuration > Plugin packs > Manager"'))),(0,r.kt)(l.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Install the Centreon Plugin package on every Centreon poller expected to monitor ",(0,r.kt)("em",{parentName:"li"},"CyberPower Systems PDU SNMP")," applications:")),(0,r.kt)("pre",null,(0,r.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Hardware-Pdu-Cyberpower-Snmp\n")),(0,r.kt)("ol",o({},{start:2}),(0,r.kt)("li",{parentName:"ol"},"Installer le RPM Centreon Plugin-Pack sur votre serveur Centreon Central:")),(0,r.kt)("pre",null,(0,r.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-hardware-pdu-cyberpower-snmp\n")),(0,r.kt)("ol",o({},{start:2}),(0,r.kt)("li",{parentName:"ol"},"Sur l'interface Web de Centreon, installer le Plugin-Pack ",(0,r.kt)("em",{parentName:"li"},"CyberPower Systems PDU SNMP"),' depuis la page "Configuration > Plugin packs > Manager"')))),(0,r.kt)("h2",o({},{id:"configuration"}),"Configuration"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},'Log into Centreon and add a new Host through "Configuration > Hosts". ')),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},'Fill the "Name", "Alias", "IP Address / DNS", "Snmp Community" and "Snmp version" fields according to your device\'s configuration')),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Select the ",(0,r.kt)("em",{parentName:"p"},"HW-Pdu-Cyberpower-SNMP"),"."),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"When using SNMP v3, use the SNMPEXTRAOPTIONS Macro to add specific auth parameters")))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",o({parentName:"tr"},{align:"left"}),"Mandatory"),(0,r.kt)("th",o({parentName:"tr"},{align:"left"}),"Name"),(0,r.kt)("th",o({parentName:"tr"},{align:"left"}),"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",o({parentName:"tr"},{align:"left"})),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"SNMPEXTRAOPTIONS"),(0,r.kt)("td",o({parentName:"tr"},{align:"left"}),"Configure your own SNMPv3 credentials combo")))),(0,r.kt)("h2",o({},{id:"faq"}),"FAQ"),(0,r.kt)("h3",o({},{id:"how-to-check-in-the-cli-that-the-configuration-is-ok-and-what-are-the-main-options-for-"}),"How to check in the CLI that the configuration is OK and what are the main options for ?"),(0,r.kt)("p",null,"Once the plugin installed, log into your Centreon Poller CLI using the ",(0,r.kt)("em",{parentName:"p"},"centreon-engine"),"\nuser account and test the Plugin by running the following command (some of the parameters\nsuch as ",(0,r.kt)("inlineCode",{parentName:"p"},"--snmp-community")," have to be adjusted):"),(0,r.kt)("pre",null,(0,r.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_pdu_cyberpower_snmp.pl \\\n--plugin=hardware::pdu::cyberpower::snmp::plugin \\\n--mode=outlets \\\n--snmp-community=cps_pdu \\\n--hostname=10.31.2.1 \\\n--snmp-version=2c \\\n--verbose \n")),(0,r.kt)("p",null,"Expected command output is shown below: "),(0,r.kt)("pre",null,(0,r.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"OK: Device 'PDU81005' outlets are ok | 'PDU81005~Outlet3 bank 1#outlet.current.ampere'=0.4A;;;0; 'PDU81005~Outlet7 bank 1#outlet.current.ampere'=0.4A;;;0; 'PDU81005~Outlet8 bank 1#outlet.current.ampere'=0.9A;;;0;checking device 'PDU81005'outlet 'Outlet1 bank 1' state: 'on' [phase: seqPhase1ToNeutral]outlet 'Outlet2 bank 1' state: 'on' [phase: seqPhase1ToNeutral]outlet 'Outlet3 bank 1' state: 'on' [phase: seqPhase1ToNeutral], current : 0.4 Aoutlet 'Outlet4 bank 1' state: 'on' [phase: seqPhase1ToNeutral]outlet 'Outlet5 bank 1' state: 'on' [phase: seqPhase1ToNeutral]outlet 'Outlet6 bank 1' state: 'on' [phase: seqPhase1ToNeutral]outlet 'Outlet7 bank 1' state: 'on' [phase: seqPhase1ToNeutral], current : 0.4 Aoutlet 'Outlet8 bank 1' state: 'on' [phase: seqPhase1ToNeutral], current : 0.9 A\n")),(0,r.kt)("p",null,"In this example, the Plugin gets the status and utilization metrics of the Outlets:\n(",(0,r.kt)("inlineCode",{parentName:"p"},"--plugin=hardware::pdu::cyberpower::snmp::plugin --mode=outlets"),")"),(0,r.kt)("p",null,"All the available thresholds parameters can be displayed by adding the  ",(0,r.kt)("inlineCode",{parentName:"p"},"--help"),"\nparameter to the command:"),(0,r.kt)("pre",null,(0,r.kt)("code",o({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_pdu_cyberpower_snmp.pl \\\n--plugin=hardware::pdu::cyberpower::snmp::plugin \\\n--mode=outlets \\\n--help\n")),(0,r.kt)("h3",o({},{id:"unknown-snmp-get-request--timeout"}),"UNKNOWN: SNMP GET Request : Timeout"),(0,r.kt)("p",null,"If you get this message, you're probably facing one of theses issues: "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Your SNMP isn't started or misconfigured on the CyberPower PDU System"),(0,r.kt)("li",{parentName:"ul"},"An external device is blocking your request (firewall, ...)")),(0,r.kt)("h3",o({},{id:"unknown-snmp-get-request--cant-get-a-single-value"}),"UNKNOWN: SNMP GET Request : Cant get a single value."),(0,r.kt)("p",null,"This message generally means that SNMP privileges are not wide enough for the mode/plugin to work properly\nor that the polled device doesn't support required MIBs."))}k.isMDXComponent=!0},7626:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(67294),a=n(86010);const l="tabItem_Ymn6";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function i({children:e,hidden:t,className:n}){return r.createElement("div",o({role:"tabpanel",className:(0,a.Z)(l,n)},{hidden:t}),e)}},67709:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(67294),a=n(86010),l=n(90980),o=n(35715),i=n(8854),s=n(8241);const u="tabList__CuJ",p="tabItem_LNqP";function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function m(e){var t;const{lazy:n,block:l,defaultValue:m,values:d,groupId:k,className:g}=e,b=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),h=null!=d?d:b.map((({props:{value:e,label:t,attributes:n}})=>({value:e,label:t,attributes:n}))),f=(0,o.l)(h,((e,t)=>e.value===t.value));if(f.length>0)throw new Error(`Docusaurus error: Duplicate values "${f.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var v;const N=null===m?m:null!==(v=null!=m?m:null===(t=b.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==v?v:b[0].props.value;if(null!==N&&!h.some((e=>e.value===N)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${N}" but none of its children has the corresponding value. Available values are: ${h.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:y,setTabGroupChoices:P}=(0,i.U)(),[w,O]=(0,r.useState)(N),C=[],{blockElementScrollPositionUntilNextRender:S}=(0,s.o5)();if(null!=k){const e=y[k];null!=e&&e!==w&&h.some((t=>t.value===e))&&O(e)}const T=e=>{const t=e.currentTarget,n=C.indexOf(t),r=h[n].value;r!==w&&(S(t),O(r),null!=k&&P(k,String(r)))},D=e=>{let t=null;switch(e.key){case"ArrowRight":{const r=C.indexOf(e.currentTarget)+1;var n;t=null!==(n=C[r])&&void 0!==n?n:C[0];break}case"ArrowLeft":{const n=C.indexOf(e.currentTarget)-1;var r;t=null!==(r=C[n])&&void 0!==r?r:C[C.length-1];break}}null==t||t.focus()};return r.createElement("div",{className:(0,a.Z)("tabs-container",u)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":l},g)},h.map((({value:e,label:t,attributes:n})=>r.createElement("li",c({role:"tab",tabIndex:w===e?0:-1,"aria-selected":w===e,key:e,ref:e=>C.push(e),onKeyDown:D,onFocus:T,onClick:T},n,{className:(0,a.Z)("tabs__item",p,null==n?void 0:n.className,{"tabs__item--active":w===e})}),null!=t?t:e)))),n?(0,r.cloneElement)(b.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},b.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function d(e){const t=(0,l.Z)();return r.createElement(m,c({key:String(t)},e))}}}]);