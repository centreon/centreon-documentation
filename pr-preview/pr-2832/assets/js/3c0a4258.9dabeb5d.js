"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[83116],{3905:(e,t,r)=>{r.d(t,{Zo:()=>m,kt:()=>d});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),s=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},m=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),u=s(r),d=a,g=u["".concat(l,".").concat(d)]||u[d]||c[d]||o;return r?n.createElement(g,i(i({ref:t},m),{},{components:r})):n.createElement(g,i({ref:t},m))}));function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=u;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p.mdxType="string"==typeof e?e:a,i[1]=p;for(var s=2;s<o;s++)i[s]=r[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},14481:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>p,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>m});r(67294);var n=r(3905);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const i={id:"import-into-map-web",title:"Switching from MAP (Legacy) to MAP"},p=void 0,l={unversionedId:"graph-views/import-into-map-web",id:"version-23.10/graph-views/import-into-map-web",title:"Switching from MAP (Legacy) to MAP",description:"This topic describes how to move from Centreon MAP (Legacy) to Centreon MAP by importing your legacy maps into your MAP module.",source:"@site/versioned_docs/version-23.10/graph-views/import-into-map-web.md",sourceDirName:"graph-views",slug:"/graph-views/import-into-map-web",permalink:"/centreon-documentation/pr-preview/pr-2832/docs/graph-views/import-into-map-web",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/next/versioned_docs/version-23.10/graph-views/import-into-map-web.md",tags:[],version:"23.10",lastUpdatedAt:1700565273,formattedLastUpdatedAt:"Nov 21, 2023",frontMatter:{id:"import-into-map-web",title:"Switching from MAP (Legacy) to MAP"},sidebar:"version-23.10/docs",previous:{title:"Updating MAP",permalink:"/centreon-documentation/pr-preview/pr-2832/docs/graph-views/map-web-update"},next:{title:"Managing access rights in MAP",permalink:"/centreon-documentation/pr-preview/pr-2832/docs/graph-views/map-web-access"}},s={},m=[{value:"Requirements",id:"requirements",level:2},{value:"Importing legacy maps into MAP",id:"importing-legacy-maps-into-map",level:2},{value:"Step 1: Install MAP",id:"step-1-install-map",level:3},{value:"Step 2: Migrate images",id:"step-2-migrate-images",level:3},{value:"Step 3: Update MAP (Legacy)",id:"step-3-update-map-legacy",level:3},{value:"Step 4: Migrate maps",id:"step-4-migrate-maps",level:3}],c={toc:m};function u(e){var{components:t}=e,i=o(e,["components"]);return(0,n.kt)("wrapper",a({},c,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"This topic describes how to move from Centreon MAP (Legacy) to Centreon MAP by importing your legacy maps into your MAP module."),(0,n.kt)("h2",a({},{id:"requirements"}),"Requirements"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Centreon MAP must be installed in your environment. See the ",(0,n.kt)("a",a({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/graph-views/map-web-install"}),"MAP installation")," procedure if needed.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Before you start the procedure to import legacy maps into MAP, you need to switch from MAP (Legacy) to MAP by ",(0,n.kt)("a",a({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/graph-views/map-web-install#step-3-activate-the-map-module"}),"activating the MAP module"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"In case you want to install MAP on the same server as MAP (Legacy), you need to make sure that free disk space is at least equal to used space. This is because after migration, the new database will coexist with the legacy one."))),(0,n.kt)("h2",a({},{id:"importing-legacy-maps-into-map"}),"Importing legacy maps into MAP"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"When you import your legacy maps, any content created in MAP is deleted.")),(0,n.kt)("h3",a({},{id:"step-1-install-map"}),"Step 1: Install MAP"),(0,n.kt)("p",null,"You need first to install Centreon MAP. Go to this ",(0,n.kt)("a",a({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/graph-views/map-web-install"}),"page")," to perform the installation and switch to the MAP Engine server."),(0,n.kt)("h3",a({},{id:"step-2-migrate-images"}),"Step 2: Migrate images"),(0,n.kt)("p",null,"If you have imported images into your desktop client (to custom folders outside the Centreon folder), and used them in your maps, you need first to migrate them to your central server."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"In the MAP (Legacy) desktop client, in the ",(0,n.kt)("strong",{parentName:"p"},"Media")," panel, select all images you want to migrate from your custom folders, then right-click them and select ",(0,n.kt)("strong",{parentName:"p"},"Export"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Save the images to your computer.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"In the central server, go to ",(0,n.kt)("strong",{parentName:"p"},"Administration > Parameters > Images"),", then upload all the images from your computer to the ",(0,n.kt)("strong",{parentName:"p"},"centreon-map")," folder. Be careful not to change the name of your images during this process."))),(0,n.kt)("h3",a({},{id:"step-3-update-map-legacy"}),"Step 3: Update MAP (Legacy)"),(0,n.kt)("p",null,"For the icons to be displayed properly after you migrate your maps, you need to update your MAP (legacy) by running the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",a({parentName:"pre"},{className:"language-shell"}),"systemctl stop centreon-map\nyum update centreon-map-server\nsystemctl daemon-reload\nsystemctl start centreon-map\n")),(0,n.kt)("h3",a({},{id:"step-4-migrate-maps"}),"Step 4: Migrate maps"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"To import your legacy maps into MAP, go to the ",(0,n.kt)("strong",{parentName:"p"},"Monitoring > Map")," page, then click the ",(0,n.kt)("strong",{parentName:"p"},"Migrate")," button. The following window appears:"),(0,n.kt)("p",{parentName:"li"},(0,n.kt)("img",{alt:"image",src:r(64694).Z,width:"594",height:"223"}))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click ",(0,n.kt)("strong",{parentName:"p"},"Migrate"),"."),(0,n.kt)("p",{parentName:"li"},(0,n.kt)("img",{alt:"image",src:r(64776).Z,width:"498",height:"601"}))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"When the migration has succeeded, you can close the window."),(0,n.kt)("p",{parentName:"li"},"Your legacy maps are now displayed on the ",(0,n.kt)("strong",{parentName:"p"},"Map")," page."))))}u.isMDXComponent=!0},64694:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/map-migrate-1-50f769e9d8eef2b79f87a6221d93a39a.png"},64776:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/map-migrate-2-6fe4a2f1e7e242da2a5854be92fec25c.png"}}]);