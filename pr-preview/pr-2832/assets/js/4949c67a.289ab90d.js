"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[94243],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var i=n.createContext({}),p=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=p(a),m=l,k=d["".concat(i,".").concat(m)]||d[m]||c[m]||r;return a?n.createElement(k,o(o({ref:t},u),{},{components:a})):n.createElement(k,o({ref:t},u))}));function m(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,o=new Array(r);o[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:l,o[1]=s;for(var p=2;p<r;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},7626:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(67294),l=a(86010);const r="tabItem_Ymn6";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}function s({children:e,hidden:t,className:a}){return n.createElement("div",o({role:"tabpanel",className:(0,l.Z)(r,a)},{hidden:t}),e)}},67709:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(67294),l=a(86010),r=a(90980),o=a(35715),s=a(8854),i=a(8241);const p="tabList__CuJ",u="tabItem_LNqP";function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(this,arguments)}function d(e){var t;const{lazy:a,block:r,defaultValue:d,values:m,groupId:k,className:h}=e,g=n.Children.map(e.children,(e=>{if((0,n.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),b=null!=m?m:g.map((({props:{value:e,label:t,attributes:a}})=>({value:e,label:t,attributes:a}))),f=(0,o.l)(b,((e,t)=>e.value===t.value));if(f.length>0)throw new Error(`Docusaurus error: Duplicate values "${f.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var y;const N=null===d?d:null!==(y=null!=d?d:null===(t=g.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==y?y:g[0].props.value;if(null!==N&&!b.some((e=>e.value===N)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${N}" but none of its children has the corresponding value. Available values are: ${b.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:v,setTabGroupChoices:T}=(0,s.U)(),[w,E]=(0,n.useState)(N),R=[],{blockElementScrollPositionUntilNextRender:x}=(0,i.o5)();if(null!=k){const e=v[k];null!=e&&e!==w&&b.some((t=>t.value===e))&&E(e)}const O=e=>{const t=e.currentTarget,a=R.indexOf(t),n=b[a].value;n!==w&&(x(t),E(n),null!=k&&T(k,String(n)))},L=e=>{let t=null;switch(e.key){case"ArrowRight":{const n=R.indexOf(e.currentTarget)+1;var a;t=null!==(a=R[n])&&void 0!==a?a:R[0];break}case"ArrowLeft":{const a=R.indexOf(e.currentTarget)-1;var n;t=null!==(n=R[a])&&void 0!==n?n:R[R.length-1];break}}null==t||t.focus()};return n.createElement("div",{className:(0,l.Z)("tabs-container",p)},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":r},h)},b.map((({value:e,label:t,attributes:a})=>n.createElement("li",c({role:"tab",tabIndex:w===e?0:-1,"aria-selected":w===e,key:e,ref:e=>R.push(e),onKeyDown:L,onFocus:O,onClick:O},a,{className:(0,l.Z)("tabs__item",u,null==a?void 0:a.className,{"tabs__item--active":w===e})}),null!=t?t:e)))),a?(0,n.cloneElement)(g.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):n.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function m(e){const t=(0,r.Z)();return n.createElement(d,c({key:String(t)},e))}},56332:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>p,default:()=>k,frontMatter:()=>i,metadata:()=>u,toc:()=>d});a(67294);var n=a(3905),l=a(67709),r=a(7626);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}const i={id:"using-packages",title:"Using packages"},p=void 0,u={unversionedId:"installation/installation-of-a-remote-server/using-packages",id:"version-23.10/installation/installation-of-a-remote-server/using-packages",title:"Using packages",description:"Centreon provides RPM and DEB packages for its products through the Centreon Open",source:"@site/versioned_docs/version-23.10/installation/installation-of-a-remote-server/using-packages.md",sourceDirName:"installation/installation-of-a-remote-server",slug:"/installation/installation-of-a-remote-server/using-packages",permalink:"/centreon-documentation/pr-preview/pr-2832/docs/installation/installation-of-a-remote-server/using-packages",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/next/versioned_docs/version-23.10/installation/installation-of-a-remote-server/using-packages.md",tags:[],version:"23.10",lastUpdatedAt:1700565273,formattedLastUpdatedAt:"Nov 21, 2023",frontMatter:{id:"using-packages",title:"Using packages"},sidebar:"version-23.10/docs",previous:{title:"Using packages",permalink:"/centreon-documentation/pr-preview/pr-2832/docs/installation/installation-of-a-poller/using-packages"},next:{title:"Attach a poller to a central or a remote server",permalink:"/centreon-documentation/pr-preview/pr-2832/docs/monitoring/monitoring-servers/add-a-poller-to-configuration"}},c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Additional configuration",id:"additional-configuration",level:3},{value:"Additional configuration",id:"additional-configuration-1",level:3},{value:"Step 1: Pre-installation",id:"step-1-pre-installation",level:2},{value:"Disable SELinux",id:"disable-selinux",level:3},{value:"Configure or disable the firewall",id:"configure-or-disable-the-firewall",level:3},{value:"Install the repositories",id:"install-the-repositories",level:3},{value:"Remi repository",id:"remi-repository",level:4},{value:"Remi and CodeReady Builder repository",id:"remi-and-codeready-builder-repository",level:4},{value:"Remi and CodeReady Builder repositories",id:"remi-and-codeready-builder-repositories",level:4},{value:"Install dependencies",id:"install-dependencies",level:4},{value:"Add Sury APT repository for PHP 8.1",id:"add-sury-apt-repository-for-php-81",level:4},{value:"MariaDB repository",id:"mariadb-repository",level:4},{value:"Centreon repository",id:"centreon-repository",level:4},{value:"Step 2: Installation",id:"step-2-installation",level:2},{value:"With a local database",id:"with-a-local-database",level:3},{value:"With a remote database",id:"with-a-remote-database",level:3},{value:"Additional configuration for Debian 11",id:"additional-configuration-for-debian-11",level:4},{value:"Step 3: Configuration",id:"step-3-configuration",level:2},{value:"Server name",id:"server-name",level:3},{value:"Set the PHP time zone",id:"set-the-php-time-zone",level:3},{value:"Service startup during system bootup",id:"service-startup-during-system-bootup",level:3},{value:"Secure the database",id:"secure-the-database",level:3},{value:"Step 4: Web installation",id:"step-4-web-installation",level:2},{value:"Step 5: Register the server",id:"step-5-register-the-server",level:2},{value:"Main error messages",id:"main-error-messages",level:3},{value:"Step 6: Extend local DBMS rights",id:"step-6-extend-local-dbms-rights",level:2},{value:"Step 7: Add the Remote Server to the configuration",id:"step-7-add-the-remote-server-to-the-configuration",level:2},{value:"Step 8: Secure your platform",id:"step-8-secure-your-platform",level:2}],m={toc:d};function k(e){var{components:t}=e,a=s(e,["components"]);return(0,n.kt)("wrapper",o({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Centreon provides RPM and DEB packages for its products through the Centreon Open\nSource version available free of charge in our repository."),(0,n.kt)("p",null,"These packages can be installed on Alma/RHEL/Oracle Linux 8 and 9 and on Debian 11."),(0,n.kt)("p",null,"You must run the installation procedure as a privileged user."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"When you run a command, check its output. If you get an error message, stop the procedure and fix the issue.")),(0,n.kt)("h2",o({},{id:"prerequisites"}),"Prerequisites"),(0,n.kt)("p",null,"After installing your server, update your operating system using the following\ncommand:"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf update\n")),(0,n.kt)("h3",o({},{id:"additional-configuration"}),"Additional configuration"),(0,n.kt)("p",null,"If you intend to use Centreon in French, Spanish, Portuguese or German, install the corresponding packages:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install glibc-langpack-fr\ndnf install glibc-langpack-es\ndnf install glibc-langpack-pt\ndnf install glibc-langpack-de\n")),(0,n.kt)("p",null,"Use the following command to check which languages are installed on your system:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"locale -a\n"))),(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf update\n")),(0,n.kt)("h3",o({},{id:"additional-configuration-1"}),"Additional configuration"),(0,n.kt)("p",null,"If you intend to use Centreon in French, Spanish, Portuguese or German, install the corresponding packages:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install glibc-langpack-fr\ndnf install glibc-langpack-es\ndnf install glibc-langpack-pt\ndnf install glibc-langpack-de\n")),(0,n.kt)("p",null,"Use the following command to check which languages are installed on your system:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"locale -a\n"))),(0,n.kt)(r.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"apt update && apt upgrade\n")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Accept all GPG keys and consider rebooting your server if a kernel update is proposed.")),(0,n.kt)("h2",o({},{id:"step-1-pre-installation"}),"Step 1: Pre-installation"),(0,n.kt)("h3",o({},{id:"disable-selinux"}),"Disable SELinux"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("p",null,"During installation, SELinux should be disabled. To do this, edit the file ",(0,n.kt)("strong",{parentName:"p"},"/etc/selinux/config")," and replace\n",(0,n.kt)("strong",{parentName:"p"},"enforcing")," with ",(0,n.kt)("strong",{parentName:"p"},"disabled"),". You can also run the following command:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"sed -i s/^SELINUX=.*$/SELINUX=disabled/ /etc/selinux/config\n")),(0,n.kt)("p",null,"Reboot your operating system to apply the change."),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"reboot\n")),(0,n.kt)("p",null,"After the system reboot, perform a quick check of the SELinux status:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"getenforce\n")),(0,n.kt)("p",null,"You should have this result:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"Disabled\n"))),(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,n.kt)("p",null,"During installation, SELinux should be disabled. To do this, edit the file ",(0,n.kt)("strong",{parentName:"p"},"/etc/selinux/config")," and replace\n",(0,n.kt)("strong",{parentName:"p"},"enforcing")," with ",(0,n.kt)("strong",{parentName:"p"},"disabled"),". You can also run the following command:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"sed -i s/^SELINUX=.*$/SELINUX=disabled/ /etc/selinux/config\n")),(0,n.kt)("p",null,"Reboot your operating system to apply the change."),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"reboot\n")),(0,n.kt)("p",null,"After system startup, perform a quick check of the SELinux status:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"getenforce\n")),(0,n.kt)("p",null,"You should have this result:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"Disabled\n"))),(0,n.kt)(r.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,n.kt)("p",null,"SELinux is not installed on Debian 11, continue."))),(0,n.kt)("h3",o({},{id:"configure-or-disable-the-firewall"}),"Configure or disable the firewall"),(0,n.kt)("p",null,"If your firewall is active, add ",(0,n.kt)("a",o({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/administration/secure-platform#enable-firewalld"}),"firewall rules"),".\nYou can also disable the firewall during installation by running the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"systemctl stop firewalld\nsystemctl disable firewalld\n")),(0,n.kt)("h3",o({},{id:"install-the-repositories"}),"Install the repositories"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"Alma 8",label:"Alma 8",mdxType:"TabItem"},(0,n.kt)("h4",o({},{id:"remi-repository"}),"Remi repository"),(0,n.kt)("p",null,"To install Centreon you will need to install the ",(0,n.kt)("strong",{parentName:"p"},"remi")," repository."),(0,n.kt)("p",null,"Run the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install -y dnf-plugins-core\ndnf install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\ndnf install -y https://rpms.remirepo.net/enterprise/remi-release-8.rpm\ndnf config-manager --set-enabled 'powertools'\n")),(0,n.kt)("p",null,"Enable PHP 8.1 using the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf module reset php\ndnf module install php:remi-8.1\n"))),(0,n.kt)(r.Z,{value:"RHEL 8",label:"RHEL 8",mdxType:"TabItem"},(0,n.kt)("h4",o({},{id:"remi-and-codeready-builder-repository"}),"Remi and CodeReady Builder repository"),(0,n.kt)("p",null,"To install Centreon you will need to install the ",(0,n.kt)("strong",{parentName:"p"},"remi")," and ",(0,n.kt)("strong",{parentName:"p"},"CodeReady Builder")," repositories."),(0,n.kt)("p",null,"Run the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install -y dnf-plugins-core\ndnf install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\ndnf install -y https://rpms.remirepo.net/enterprise/remi-release-8.rpm\nsubscription-manager repos --enable codeready-builder-for-rhel-8-x86_64-rpms\ndnf config-manager --set-enabled codeready-builder-for-rhel-8-rhui-rpms\n")),(0,n.kt)("p",null,"Enable PHP 8.1 using the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf module reset php\ndnf module install php:remi-8.1\n"))),(0,n.kt)(r.Z,{value:"Oracle Linux 8",label:"Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("h4",o({},{id:"remi-and-codeready-builder-repositories"}),"Remi and CodeReady Builder repositories"),(0,n.kt)("p",null,"To install Centreon you will need to install the ",(0,n.kt)("strong",{parentName:"p"},"remi")," and ",(0,n.kt)("strong",{parentName:"p"},"CodeReady Builder")," repositories."),(0,n.kt)("p",null,"Run the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install -y dnf-plugins-core\ndnf install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\ndnf install -y https://rpms.remirepo.net/enterprise/remi-release-8.rpm\ndnf config-manager --set-enabled ol8_codeready_builder\n")),(0,n.kt)("p",null,"Enable PHP 8.1 using the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf module reset php\ndnf module install php:remi-8.1\n"))),(0,n.kt)(r.Z,{value:"Alma 9",label:"Alma 9",mdxType:"TabItem"},(0,n.kt)("p",null,"To install Centreon you will need to install the ",(0,n.kt)("strong",{parentName:"p"},"CodeReady Builder")," repository."),(0,n.kt)("p",null,"Run the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install dnf-plugins-core\ndnf install epel-release\ndnf config-manager --set-enabled crb\n")),(0,n.kt)("p",null,"Enable PHP 8.1 using the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf module reset php\ndnf module install php:8.1\n"))),(0,n.kt)(r.Z,{value:"RHEL 9",label:"RHEL 9",mdxType:"TabItem"},(0,n.kt)("p",null,"To install Centreon you will need to install the ",(0,n.kt)("strong",{parentName:"p"},"CodeReady Builder")," repository."),(0,n.kt)("p",null,"Run the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install -y dnf-plugins-core\ndnf install -y http://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm\nsubscription-manager repos --enable codeready-builder-for-rhel-9-x86_64-rpms\ndnf config-manager --set-enabled codeready-builder-for-rhel-9-rhui-rpms\n")),(0,n.kt)("p",null,"Enable PHP 8.1 using the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf module reset php\ndnf module install php:8.1\n"))),(0,n.kt)(r.Z,{value:"Oracle Linux 9",label:"Oracle Linux 9",mdxType:"TabItem"},(0,n.kt)("p",null,"To install Centreon you will need to install the ",(0,n.kt)("strong",{parentName:"p"},"CodeReady Builder")," repository."),(0,n.kt)("p",null,"Run the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install dnf-plugins-core\ndnf install -y http://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm\ndnf config-manager --set-enabled ol9_codeready_builder\n")),(0,n.kt)("p",null,"Enable PHP 8.1 using the following commands:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf module reset php\ndnf module install php:8.1\n"))),(0,n.kt)(r.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,n.kt)("h4",o({},{id:"install-dependencies"}),"Install dependencies"),(0,n.kt)("p",null,"Install the following dependencies:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"apt update && apt install lsb-release ca-certificates apt-transport-https software-properties-common wget gnupg2 curl\n")),(0,n.kt)("h4",o({},{id:"add-sury-apt-repository-for-php-81"}),"Add Sury APT repository for PHP 8.1"),(0,n.kt)("p",null,"To install the Sury repository, execute the following command:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),'echo "deb https://packages.sury.org/php/ $(lsb_release -sc) main" | tee /etc/apt/sources.list.d/sury-php.list\n')),(0,n.kt)("p",null,"Then import the repository key:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"wget -O- https://packages.sury.org/php/apt.gpg | gpg --dearmor | tee /etc/apt/trusted.gpg.d/php.gpg  > /dev/null 2>&1\napt update\n")))),(0,n.kt)("h4",o({},{id:"mariadb-repository"}),"MariaDB repository"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),'curl -LsS https://r.mariadb.com/downloads/mariadb_repo_setup | sudo bash -s -- --os-type=rhel --os-version=8 --mariadb-server-version="mariadb-10.5"\n'))),(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),'curl -LsS https://r.mariadb.com/downloads/mariadb_repo_setup | sudo bash -s -- --os-type=rhel --os-version=9 --mariadb-server-version="mariadb-10.5"\n'))),(0,n.kt)(r.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),'curl -LsS https://r.mariadb.com/downloads/mariadb_repo_setup | bash -s -- --os-type=debian --os-version=11 --mariadb-server-version="mariadb-10.5"\n')))),(0,n.kt)("h4",o({},{id:"centreon-repository"}),"Centreon repository"),(0,n.kt)("p",null,"To install Centreon software from the repository, you should first install the\ncentreon-release package, which will provide the repository file."),(0,n.kt)("p",null,"Install the Centreon repository using this command:"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf config-manager --add-repo https://packages.centreon.com/rpm-standard/23.04/el8/centreon-23.04.repo\ndnf clean all --enablerepo=*\ndnf update\n"))),(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf config-manager --add-repo https://packages.centreon.com/rpm-standard/23.04/el9/centreon-23.04.repo\ndnf clean all --enablerepo=*\ndnf update\n"))),(0,n.kt)(r.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,n.kt)("p",null,"To install the Centreon repository, execute the following command:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),'echo "deb https://packages.centreon.com/apt-standard-23.04-stable/ $(lsb_release -sc) main" | tee /etc/apt/sources.list.d/centreon.list\necho "deb https://packages.centreon.com/apt-plugins-stable/ $(lsb_release -sc) main" | tee /etc/apt/sources.list.d/centreon-plugins.list\n')),(0,n.kt)("p",null,"Then import the repository key:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"wget -O- https://apt-key.centreon.com | gpg --dearmor | tee /etc/apt/trusted.gpg.d/centreon.gpg > /dev/null 2>&1\napt update\n")))),(0,n.kt)("h2",o({},{id:"step-2-installation"}),"Step 2: Installation"),(0,n.kt)("p",null,"This section describes how to install a Centreon Remote Server."),(0,n.kt)("p",null,"You can install this server with a local database on the server or\na remote database on a dedicated server."),(0,n.kt)("h3",o({},{id:"with-a-local-database"}),"With a local database"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install -y centreon\nsystemctl daemon-reload\nsystemctl restart mariadb\n"))),(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install -y centreon\nsystemctl daemon-reload\nsystemctl restart mariadb\n"))),(0,n.kt)(r.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"apt update\napt install -y --no-install-recommends centreon\nsystemctl daemon-reload\nsystemctl restart mariadb\n")))),(0,n.kt)("p",null,"You can now move on to the ",(0,n.kt)("a",o({parentName:"p"},{href:"#step-3-configuration"}),"next step"),"."),(0,n.kt)("h3",o({},{id:"with-a-remote-database"}),"With a remote database"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"If you are installing a database on a dedicated server, this server should also have\nthe required repositories.")),(0,n.kt)("p",null,"Run the following command on the central server:"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install -y centreon-central\n"))),(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install -y centreon-central\n"))),(0,n.kt)(r.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"apt update\napt install -y --no-install-recommends centreon-central\n")))),(0,n.kt)("p",null,"Then run the following commands on the dedicated server:"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install -y centreon-database\nsystemctl daemon-reload\nsystemctl restart mariadb\n"))),(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"dnf install -y centreon-database\nsystemctl daemon-reload\nsystemctl restart mariadb\n"))),(0,n.kt)(r.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"apt update\napt install -y --no-install-recommends centreon-database\nsystemctl daemon-reload\nsystemctl restart mariadb\n")))),(0,n.kt)("p",null,"Secure your MariaDB installation by executing the following command:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"mysql_secure_installation\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"It is mandatory to set a password for the root user of the database.")),(0,n.kt)("p",null,"Then, in the remote dabatase, create a user with ",(0,n.kt)("strong",{parentName:"p"},"root")," privileges. You will have to enter this user during the\nweb installation process (at ",(0,n.kt)("a",o({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/installation/web-and-post-installation#step-6-database-infomation"}),"step 6"),",\nin the ",(0,n.kt)("strong",{parentName:"p"},"Root user")," and ",(0,n.kt)("strong",{parentName:"p"},"Root password")," fields)."),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-SQL"}),"CREATE USER '<USER>'@'<IP>' IDENTIFIED BY '<PASSWORD>';\nGRANT ALL PRIVILEGES ON *.* TO '<USER>'@'<IP>' WITH GRANT OPTION;\nFLUSH PRIVILEGES;\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Replace ",(0,n.kt)("strong",{parentName:"p"},"<IP",">")," with the Centreon Central IP address that will connect to the database server."),(0,n.kt)("p",{parentName:"blockquote"},"Replace ",(0,n.kt)("strong",{parentName:"p"},"<USER",">")," and ",(0,n.kt)("strong",{parentName:"p"},"<PASSWORD",">")," with the user's credentials.")),(0,n.kt)("p",null,"This user will only be used for the installation process. Once the ",(0,n.kt)("a",o({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/installation/web-and-post-installation"}),"web installation")," is complete, you can delete this user using:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-SQL"}),"DROP USER '<USER>'@'<IP>';\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"The package ",(0,n.kt)("strong",{parentName:"p"},"centreon-database")," installs an optimized MariaDB configuration\nto be used with Centreon."),(0,n.kt)("p",{parentName:"blockquote"},"If this package is not installed, system limitation ",(0,n.kt)("strong",{parentName:"p"},"LimitNOFILE")," should be\nat least set to ",(0,n.kt)("strong",{parentName:"p"},"32000")," using a dedicated configuration file; for example:"),(0,n.kt)("pre",{parentName:"blockquote"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"$ cat /etc/systemd/system/mariadb.service.d/centreon.conf\n[Service]\nLimitNOFILE=32000\n")),(0,n.kt)("p",{parentName:"blockquote"},"Same for the MariaDB ",(0,n.kt)("strong",{parentName:"p"},"open_files_limit")," directive, example for Centos 7, Alma/RHEL/OL 8:"),(0,n.kt)("pre",{parentName:"blockquote"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"$ cat /etc/my.cnf.d/centreon.cnf\n[server]\ninnodb_file_per_table=1\nopen_files_limit=32000\n")),(0,n.kt)("p",{parentName:"blockquote"},"For Debian 11:"),(0,n.kt)("pre",{parentName:"blockquote"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"$ cat /etc/mysql/mariadb.conf.d/80-centreon.cnf\n[server]\ninnodb_file_per_table=1\nopen_files_limit=32000\n")),(0,n.kt)("p",{parentName:"blockquote"},"Remember to restart MariaDB after changing the configuration.")),(0,n.kt)("h4",o({},{id:"additional-configuration-for-debian-11"}),"Additional configuration for Debian 11"),(0,n.kt)("p",null,"MariaDB must listen to all interfaces instead of localhost/127.0.0.1, which is the default value. Edit the following file:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"/etc/mysql/mariadb.conf.d/50-server.cnf\n")),(0,n.kt)("p",null,"Set the ",(0,n.kt)("strong",{parentName:"p"},"bind-address")," parameter to ",(0,n.kt)("strong",{parentName:"p"},"0.0.0.0"),"."),(0,n.kt)("h2",o({},{id:"step-3-configuration"}),"Step 3: Configuration"),(0,n.kt)("h3",o({},{id:"server-name"}),"Server name"),(0,n.kt)("p",null,"If you want to change the server's name, use the following command:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"hostnamectl set-hostname new-server-name\n")),(0,n.kt)("p",null,"Replace ",(0,n.kt)("strong",{parentName:"p"},"new-server-name")," with the name of your choice. Example:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"hostnamectl set-hostname remote1\n")),(0,n.kt)("h3",o({},{id:"set-the-php-time-zone"}),"Set the PHP time zone"),(0,n.kt)("p",null,"You are required to set the PHP time zone."),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("p",null,"Run the command:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),'echo "date.timezone = Europe/Paris" >> /etc/php.d/50-centreon.ini\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Replace ",(0,n.kt)("strong",{parentName:"p"},"Europe/Paris")," with your time zone. You can find the list of\nsupported time zones ",(0,n.kt)("a",o({parentName:"p"},{href:"http://php.net/manual/en/timezones.php"}),"here"),".")),(0,n.kt)("p",null,"After saving the file, remember to restart the PHP-FPM service:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"systemctl restart php-fpm\n"))),(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,n.kt)("p",null,"Run the command:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),'echo "date.timezone = Europe/Paris" >> /etc/php.d/50-centreon.ini\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Replace ",(0,n.kt)("strong",{parentName:"p"},"Europe/Paris")," with your time zone. You can find the list of\nsupported time zones ",(0,n.kt)("a",o({parentName:"p"},{href:"http://php.net/manual/en/timezones.php"}),"here"),".")),(0,n.kt)("p",null,"After saving the file, remember to restart the PHP-FPM service:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"systemctl restart php-fpm\n"))),(0,n.kt)(r.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,n.kt)("p",null,"Run the command:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),'echo "date.timezone = Europe/Paris" >> /etc/php/8.1/mods-available/centreon.ini\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"The PHP timezone was defined during the installation process by retrieving the timezone configured on the operating system.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"You can find the list of\nsupported time zones ",(0,n.kt)("a",o({parentName:"p"},{href:"http://php.net/manual/en/timezones.php"}),"here"),".")),(0,n.kt)("p",null,"After saving the file, restart the PHP-FPM service:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"systemctl restart php8.1-fpm\n")))),(0,n.kt)("h3",o({},{id:"service-startup-during-system-bootup"}),"Service startup during system bootup"),(0,n.kt)("p",null,"To make services start automatically during system bootup, run these commands\non the central server:"),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"systemctl enable php-fpm httpd centreon cbd centengine gorgoned snmptrapd centreontrapd snmpd\nsystemctl enable crond\nsystemctl start crond\n"))),(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"systemctl enable php-fpm httpd centreon cbd centengine gorgoned snmptrapd centreontrapd snmpd\nsystemctl enable crond\nsystemctl start crond\n"))),(0,n.kt)(r.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"systemctl enable php8.1-fpm apache2 centreon cbd centengine gorgoned centreontrapd snmpd snmptrapd\n")))),(0,n.kt)("p",null,"Then execute the following command (on the remote server if you are using a local database, or on your dedicated database server):"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"systemctl enable mariadb\nsystemctl restart mariadb\n")),(0,n.kt)("h3",o({},{id:"secure-the-database"}),"Secure the database"),(0,n.kt)("p",null,"If you have installed the Centreon server with a local database, since MariaDB 10.5, it is mandatory to secure the database's root access before installing Centreon. Run the following command:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"mysql_secure_installation\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Answer ",(0,n.kt)("strong",{parentName:"li"},"yes"),' to all questions except "Disallow root login remotely?".'),(0,n.kt)("li",{parentName:"ul"},"It is mandatory to set a password for the ",(0,n.kt)("strong",{parentName:"li"},"root")," user of the database. You will need this password during the ",(0,n.kt)("a",o({parentName:"li"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/installation/web-and-post-installation"}),"web installation"),".")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For more information, please see the ",(0,n.kt)("a",o({parentName:"p"},{href:"https://mariadb.com/kb/en/mysql_secure_installation/"}),"official MariaDB documentation"),".")),(0,n.kt)("h2",o({},{id:"step-4-web-installation"}),"Step 4: Web installation"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Start the Apache server with the\nfollowing command:")),(0,n.kt)(l.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 8",label:"Alma / RHEL / Oracle Linux 8",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"systemctl start httpd\n"))),(0,n.kt)(r.Z,{value:"Alma / RHEL / Oracle Linux 9",label:"Alma / RHEL / Oracle Linux 9",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"systemctl start httpd\n"))),(0,n.kt)(r.Z,{value:"Debian 11",label:"Debian 11",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"systemctl start apache2\n")))),(0,n.kt)("ol",o({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"To complete the installation, follow the\n",(0,n.kt)("a",o({parentName:"li"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/installation/web-and-post-installation#web-installation"}),"web installation steps")," procedure.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"During web installation, it is not necessary to install the Autodiscovery module.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"In the step ",(0,n.kt)("strong",{parentName:"p"},"Initialization of the monitoring"),", only actions 6 to 8 need to be done.")),(0,n.kt)("h2",o({},{id:"step-5-register-the-server"}),"Step 5: Register the server"),(0,n.kt)("p",null,"To transform the server into a Remote Server and to register it to the Central server or another Remote server, execute the following command on the future remote server:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"/usr/share/centreon/bin/registerServerTopology.sh -u <API_ACCOUNT> \\\n-t remote -h <IP_TARGET_NODE> -n <REMOTE_SERVER_NAME>\n")),(0,n.kt)("p",null,"Example:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"/usr/share/centreon/bin/registerServerTopology.sh -u admin -t remote -h 192.168.0.1 -n remote-1\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Replace ",(0,n.kt)("strong",{parentName:"p"},"<IP_TARGET_NODE>")," with the IP of the central server, as seen by the remote server.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"The ",(0,n.kt)("strong",{parentName:"p"},"<API_ACCOUNT>")," must have access to the configuration API. You can use the default ",(0,n.kt)("strong",{parentName:"p"},"admin")," account.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"If you need to change the HTTP method or the port, you can use the following format for the ",(0,n.kt)("strong",{parentName:"p"},"-h")," option:\n",(0,n.kt)("inlineCode",{parentName:"p"},"HTTPS://<IP_TARGET_NODE>:PORT"))),(0,n.kt)("p",null,"Then follow instructions by"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Entering your password:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"192.168.0.1: please enter your password:\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Select the IP address if multiple network interfaces exist:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"Which IP do you want to use as CURRENT NODE IP?\n1) 192.168.0.2\n2) 192.168.0.3\n1\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Then validate the information:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"Summary of the information that will be sent:\n\nAPI connection:\nusername: admin\npassword: ******\ntarget server: 192.168.0.1\n\nPending Registration Server:\nname: remote-1\ntype: remote\naddress: 192.168.0.2\n\nDo you want to register this server with the previous information? (y/n)y\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Add additional information to enable future communication between your Remote Server and its Central,\nfill in the required information to convert your platform into a Remote server:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"<CURRENT_NODE_ADDRESS>: Please enter your username:\nadmin\n<CURRENT_NODE_ADDRESS>: Please enter your password:\n\n<CURRENT_NODE_ADDRESS>: Protocol [http]:\n<CURRENT_NODE_ADDRESS>: Port [80]:\n<CURRENT_NODE_ADDRESS> : centreon root folder [centreon]:\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"If you use a proxy, please define credentials:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"Are you using a proxy? (y/n)\ny\nenter your proxy Host:\nmyproxy.example.com\nenter your proxy Port [3128]:\nAre you using a username/password? (y/n)\ny\nenter your username:\nmy_proxy_username\nenter your password:\n\n")))),(0,n.kt)("p",null,"You will receive the validation of the Centreon central server:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"2020-10-16T17:19:37+02:00 [INFO]: The CURRENT NODE 'remote: 'remote-1@192.168.0.2' has been converted and registered successfully.\n")),(0,n.kt)("h3",o({},{id:"main-error-messages"}),"Main error messages"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"2020-10-20T10:23:15+02:00 [ERROR]: Invalid credentials\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Your credentials are incorrect for the ",(0,n.kt)("strong",{parentName:"p"},"<API_ACCOUNT>"),".")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"2020-10-20T10:24:59+02:00 [ERROR]: Access Denied.\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"The ",(0,n.kt)("strong",{parentName:"p"},"<API_ACCOUNT>")," doesn't have access to configuration API.")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"Couldn't connect to 192.168.0.1:444; Connection refused\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Unable to access the API. Please check ",(0,n.kt)("strong",{parentName:"p"},"<IP_TARGET_NODE>"),", scheme and port.")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"2020-10-20T10:39:30+02:00 [ERROR]: Can\u2019t connect to the API using: https://192.168.0.1:443/centreon/api/latest/login\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"The access url is incomplete or invalid. Use the ",(0,n.kt)("strong",{parentName:"p"},"--root")," option to define the API URL Path. For example: ",(0,n.kt)("strong",{parentName:"p"},"--root monitoring"),".")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-shell"}),"2020-10-20T10:42:23+02:00 [ERROR]: No route found for \u201cPOST /centreon/api/latest/platform/topology\u201d\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Your Centreon target version is invalid. It should be greater than or equal to 23.04.")),(0,n.kt)("h2",o({},{id:"step-6-extend-local-dbms-rights"}),"Step 6: Extend local DBMS rights"),(0,n.kt)("p",null,"Finally, add rights for the ",(0,n.kt)("strong",{parentName:"p"},"centreon")," database user to use ",(0,n.kt)("strong",{parentName:"p"},"LOAD DATA INFILE"),"\ncommand:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"language-sql"}),"mysql -u root -p\nGRANT FILE on *.* to 'centreon'@'localhost';\nexit\n")),(0,n.kt)("h2",o({},{id:"step-7-add-the-remote-server-to-the-configuration"}),"Step 7: Add the Remote Server to the configuration"),(0,n.kt)("p",null,"Go to the\n",(0,n.kt)("a",o({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/monitoring/monitoring-servers/add-a-remote-server-to-configuration"}),"Add a Remote Server to configuration"),"."),(0,n.kt)("h2",o({},{id:"step-8-secure-your-platform"}),"Step 8: Secure your platform"),(0,n.kt)("p",null,"Remember to secure your Centreon platform following our\n",(0,n.kt)("a",o({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/administration/secure-platform"}),"recommendations")))}k.isMDXComponent=!0}}]);