"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[70634],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,h=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7626:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(67294),r=n(86010);const o="tabItem_Ymn6";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}function l({children:e,hidden:t,className:n}){return a.createElement("div",i({role:"tabpanel",className:(0,r.Z)(o,n)},{hidden:t}),e)}},67709:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(67294),r=n(86010),o=n(90980),i=n(35715),l=n(8854),s=n(8241);const u="tabList__CuJ",c="tabItem_LNqP";function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}function d(e){var t;const{lazy:n,block:o,defaultValue:d,values:m,groupId:h,className:g}=e,f=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),v=null!=m?m:f.map((({props:{value:e,label:t,attributes:n}})=>({value:e,label:t,attributes:n}))),b=(0,i.l)(v,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var y;const k=null===d?d:null!==(y=null!=d?d:null===(t=f.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==y?y:f[0].props.value;if(null!==k&&!v.some((e=>e.value===k)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${k}" but none of its children has the corresponding value. Available values are: ${v.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:N,setTabGroupChoices:w}=(0,l.U)(),[C,I]=(0,a.useState)(k),O=[],{blockElementScrollPositionUntilNextRender:S}=(0,s.o5)();if(null!=h){const e=N[h];null!=e&&e!==C&&v.some((t=>t.value===e))&&I(e)}const T=e=>{const t=e.currentTarget,n=O.indexOf(t),a=v[n].value;a!==C&&(S(t),I(a),null!=h&&w(h,String(a)))},E=e=>{let t=null;switch(e.key){case"ArrowRight":{const a=O.indexOf(e.currentTarget)+1;var n;t=null!==(n=O[a])&&void 0!==n?n:O[0];break}case"ArrowLeft":{const n=O.indexOf(e.currentTarget)-1;var a;t=null!==(a=O[n])&&void 0!==a?a:O[O.length-1];break}}null==t||t.focus()};return a.createElement("div",{className:(0,r.Z)("tabs-container",u)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":o},g)},v.map((({value:e,label:t,attributes:n})=>a.createElement("li",p({role:"tab",tabIndex:C===e?0:-1,"aria-selected":C===e,key:e,ref:e=>O.push(e),onKeyDown:E,onFocus:T,onClick:T},n,{className:(0,r.Z)("tabs__item",c,null==n?void 0:n.className,{"tabs__item--active":C===e})}),null!=t?t:e)))),n?(0,a.cloneElement)(f.filter((e=>e.props.value===C))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},f.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==C})))))}function m(e){const t=(0,o.Z)();return a.createElement(d,p({key:String(t)},e))}},94531:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>u,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>d});n(67294);var a=n(3905),r=n(67709),o=n(7626);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const s={id:"saml",title:"Configuring connection via SAML"},u=void 0,c={unversionedId:"connect/saml",id:"version-23.10/connect/saml",title:"Configuring connection via SAML",description:"Configure SAML authentication",source:"@site/versioned_docs/version-23.10/connect/saml.md",sourceDirName:"connect",slug:"/connect/saml",permalink:"/centreon-documentation/pr-preview/pr-2832/docs/connect/saml",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/next/versioned_docs/version-23.10/connect/saml.md",tags:[],version:"23.10",lastUpdatedAt:1700565273,formattedLastUpdatedAt:"Nov 21, 2023",frontMatter:{id:"saml",title:"Configuring connection via SAML"},sidebar:"version-23.10/docs",previous:{title:"Configuring connection via OpenId Connect",permalink:"/centreon-documentation/pr-preview/pr-2832/docs/connect/openid"},next:{title:"Configuring Autologin",permalink:"/centreon-documentation/pr-preview/pr-2832/docs/connect/autologin"}},p={},d=[{value:"Configure SAML authentication",id:"configure-saml-authentication",level:2},{value:"Step 1: Enable authentication",id:"step-1-enable-authentication",level:3},{value:"Step 2: Configure Identity Provider access credentials",id:"step-2-configure-identity-provider-access-credentials",level:3},{value:"Step 3: Configure authentication conditions",id:"step-3-configure-authentication-conditions",level:3},{value:"Step 4: Manage user creation",id:"step-4-manage-user-creation",level:3},{value:"Step 5: Manage Authorizations",id:"step-5-manage-authorizations",level:3},{value:"Step 6: Manage Contact groups",id:"step-6-manage-contact-groups",level:3},{value:"Step 7: Configure your Identity Provider (IdP)",id:"step-7-configure-your-identity-provider-idp",level:3}],m={toc:d};function h(e){var{components:t}=e,n=l(e,["components"]);return(0,a.kt)("wrapper",i({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",i({},{id:"configure-saml-authentication"}),"Configure SAML authentication"),(0,a.kt)("p",null,"Go to ",(0,a.kt)("strong",{parentName:"p"},"Administration > Authentication > SAML Configuration"),"."),(0,a.kt)("h3",i({},{id:"step-1-enable-authentication"}),"Step 1: Enable authentication"),(0,a.kt)("p",null,"Enable SAML authentication:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Enable SAMLv2 authentication"),": enables or disables SAML authentication."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Authentication mode"),": indicates if the authentication should be done using only SAML or using local\nauthentication as well (",(0,a.kt)("strong",{parentName:"li"},"Mixed"),"). In mixed mode, users created manually in Centreon (and not identified via SAML)\nwill also be able to log in.")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},'When setting the parameters, it is recommended to activate the "mixed" mode. This will allow you to retain access to\nthe local ',(0,a.kt)("inlineCode",{parentName:"p"},"admin")," account in the event of a misconfiguration.")),(0,a.kt)("h3",i({},{id:"step-2-configure-identity-provider-access-credentials"}),"Step 2: Configure Identity Provider access credentials"),(0,a.kt)("p",null,"Configure Identity Provider information:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Remote login URL"),": defines the identity provider's login URL to identify users (mandatory)."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Issuer (Entity ID) URL"),": defines the URL representing the unique name for a SAML entity (mandatory)."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Copy/paste x509 certificate"),": add here the x509 certificate of the identity provider (mandatory)."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"User ID (login) attribute for Centreon user"),": defines which of the variables returned by the identity provider\nmust be used to authenticate users. For example, ",(0,a.kt)("strong",{parentName:"li"},"email"),". (mandatory)."),(0,a.kt)("li",{parentName:"ul"},"Logout from:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Centreon UI Only"),": users will only be logged out from Centreon."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Both Identity Provider and Centreon UI"),":  users will be logged out both from Centreon and the identity provider.",(0,a.kt)("blockquote",{parentName:"li"},(0,a.kt)("p",{parentName:"blockquote"},"If you select ",(0,a.kt)("strong",{parentName:"p"},"Both Identity Provider and Centreon UI"),", you need to define a ",(0,a.kt)("strong",{parentName:"p"},"Logout URL"),".")))))),(0,a.kt)("h3",i({},{id:"step-3-configure-authentication-conditions"}),"Step 3: Configure authentication conditions"),(0,a.kt)("p",null,"You can define conditions according to which users will be allowed to log in or not, based on the data received by a\nparticular endpoint:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Activate ",(0,a.kt)("strong",{parentName:"li"},"Enable conditions on identity provider"),"."),(0,a.kt)("li",{parentName:"ul"},"Define which attribute will be used to validate the conditions."),(0,a.kt)("li",{parentName:"ul"},"In ",(0,a.kt)("strong",{parentName:"li"},"Define authorized conditions values"),", define which will be the authorized values returned.\nIf you enter several values, all will have to be met for the condition to be validated. All users that try to connect\nwith another value will be unable to log in.")),(0,a.kt)("h3",i({},{id:"step-4-manage-user-creation"}),"Step 4: Manage user creation"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Users automatic management",label:"Automatic management",mdxType:"TabItem"},(0,a.kt)("p",null,"If you turn on ",(0,a.kt)("strong",{parentName:"p"},"Enable auto import"),", users that log in to Centreon for the first time will be created in the Centreon\nconfiguration. (Turning the option on does not import automatically all users in your infrastructure.)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Enable auto import"),": enables or disables automatic users import.  If auto import is disabled, you will have to\n",(0,a.kt)("a",i({parentName:"li"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/monitoring/basic-objects/contacts-create"}),"create each user manually")," before they can log in."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Contact template"),": select a ",(0,a.kt)("a",i({parentName:"li"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/monitoring/basic-objects/contacts-templates"}),"contact template")," that will be\napplied to newly imported users. This allows in particular to manage the default configuration of the\n",(0,a.kt)("a",i({parentName:"li"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/alerts-notifications/notif-configuration"}),"notifications"),"."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Email attribute path"),": defines which of the variables returned by the identity provider must be used to get the\nuser's email address."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Fullname attribute path"),": defines which of the variables returned by the identity provider must be used to get the\nuser's full name."))),(0,a.kt)(o.Z,{value:"Users manual management",label:"Manual management",mdxType:"TabItem"},(0,a.kt)("p",null,"On page ",(0,a.kt)("strong",{parentName:"p"},"Configuration > Users > Contacts/Users"),", ",(0,a.kt)("a",i({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/monitoring/basic-objects/contacts-create"}),"create the users"),"\nthat will log on to Centreon using SAML."))),(0,a.kt)("h3",i({},{id:"step-5-manage-authorizations"}),"Step 5: Manage Authorizations"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Role automatic management",label:"Automatic management",mdxType:"TabItem"},(0,a.kt)("p",null,"If you turn on ",(0,a.kt)("strong",{parentName:"p"},"Enable automatic management"),", users that log in to Centreon will be automatically\n",(0,a.kt)("a",i({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/administration/access-control-lists"}),"granted rights"),", as they will be linked to\n",(0,a.kt)("a",i({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/administration/access-control-lists#creating-an-access-group"}),"access groups")," according to the rules you have defined."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Apply only first role"),": If several roles are found for a specific user in the identity provider's information, then\nonly the first role will be applied. If the option is turned off, all roles will be applied."),(0,a.kt)("li",{parentName:"ul"},"Define which attribute from which endpoint will be used to retrieve values to create relationships with access groups."),(0,a.kt)("li",{parentName:"ul"},"Match the attributes retrieved from the identity provider with the contact groups you want the user to belong to.")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Each time the user logs in, authorization management is reinitialized to take into account any new information from the\nidentity provider."))),(0,a.kt)(o.Z,{value:"Role manual management",label:"Manual management",mdxType:"TabItem"},(0,a.kt)("p",null,"If you turn off ",(0,a.kt)("strong",{parentName:"p"},"Enable automatic management"),", you have to ",(0,a.kt)("a",i({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/administration/access-control-lists"}),"grant users rights"),"\nmanually by linking them to ",(0,a.kt)("a",i({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/administration/access-control-lists#creating-an-access-group"}),"access groups"),"."))),(0,a.kt)("h3",i({},{id:"step-6-manage-contact-groups"}),"Step 6: Manage Contact groups"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Groups automatic management",label:"Automatic management",mdxType:"TabItem"},(0,a.kt)("p",null,"If you turn on ",(0,a.kt)("strong",{parentName:"p"},"Enable automatic management"),", users that log in to Centreon will be attached to the\n",(0,a.kt)("a",i({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/monitoring/basic-objects/contacts-groups#contact-groups"}),"contact groups")," you have defined."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Define which attribute from the identity provider will be used to retrieve values to create relationships with access groups."),(0,a.kt)("li",{parentName:"ul"},"Match the attributes retrieved from the identity provider with the contact groups you want the user to belong to.")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Each time the user logs in, groups management is reinitialized to take into account any new information from the identity provider."))),(0,a.kt)(o.Z,{value:"Groups manual management",label:"Manual management",mdxType:"TabItem"},(0,a.kt)("p",null,"If you turn off ",(0,a.kt)("strong",{parentName:"p"},"Enable automatic management"),", you have to manage manually the relation between contact and\n",(0,a.kt)("a",i({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/monitoring/basic-objects/contacts-groups#contact-groups"}),"contact groups"),"."))),(0,a.kt)("h3",i({},{id:"step-7-configure-your-identity-provider-idp"}),"Step 7: Configure your Identity Provider (IdP)"),(0,a.kt)("p",null,"Configure your identity provider so that the Centreon application can use the SAML protocol to authenticate your\nusers. Here is an example of fields you may have to fill in:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"IdP option"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Centreon value"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Client ID"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"https://<Centreon_IP_address>")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Assertion Consumer Service (ACS) URL"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"https://<Centreon_IP_address>/centreon/api/latest/saml/acs")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Redirect Binding URLs for SLO"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"https://<Centreon_IP_address>/centreon/api/latest/saml/sls")))))}h.isMDXComponent=!0}}]);