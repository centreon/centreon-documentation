"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[11520],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=u(a),m=r,k=c["".concat(s,".").concat(m)]||c[m]||d[m]||o;return a?n.createElement(k,l(l({ref:t},p),{},{components:a})):n.createElement(k,l({ref:t},p))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,l=new Array(o);l[0]=c;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var u=2;u<o;u++)l[u]=a[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},56651:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>k,frontMatter:()=>s,metadata:()=>p,toc:()=>c});a(67294);var n=a(3905),r=a(67709),o=a(7626);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const s={id:"cloud-aws-ebs",title:"Amazon EBS"},u=void 0,p={unversionedId:"integrations/plugin-packs/procedures/cloud-aws-ebs",id:"integrations/plugin-packs/procedures/cloud-aws-ebs",title:"Amazon EBS",description:"Overview",source:"@site/pp/integrations/plugin-packs/procedures/cloud-aws-ebs.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/cloud-aws-ebs",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/cloud-aws-ebs",draft:!1,tags:[],version:"current",frontMatter:{id:"cloud-aws-ebs",title:"Amazon EBS"},sidebar:"pp",previous:{title:"Amazon CloudWatch Logs",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/cloud-aws-cloudwatchlogs"},next:{title:"Amazon EC2",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/cloud-aws-ec2"}},d={},c=[{value:"Overview",id:"overview",level:2},{value:"Plugin-Pack assets",id:"plugin-pack-assets",level:2},{value:"Monitored objects",id:"monitored-objects",level:3},{value:"Discovery rules",id:"discovery-rules",level:3},{value:"Monitored metrics",id:"monitored-metrics",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"AWS Configuration",id:"aws-configuration",level:3},{value:"Plugin dependencies",id:"plugin-dependencies",level:3},{value:"Setup",id:"setup",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"How to check in the CLI that the configuration is OK and what are the main options for ?",id:"how-to-check-in-the-cli-that-the-configuration-is-ok-and-what-are-the-main-options-for-",level:3},{value:"Why do I get the following result:",id:"why-do-i-get-the-following-result",level:3},{value:"<code>UNKNOWN: No metrics. Check your options or use --zeroed option to set 0 on undefined values</code> ?",id:"unknown-no-metrics-check-your-options-or-use---zeroed-option-to-set-0-on-undefined-values-",level:4},{value:"<code>UNKNOWN: Command error:  - An error occurred (AuthFailure) [...]</code> ?",id:"unknown-command-error----an-error-occurred-authfailure--",level:4},{value:"<code>UNKNOWN: Command error:  - An error occurred (InvalidParameterValue) [...]</code>",id:"unknown-command-error----an-error-occurred-invalidparametervalue-",level:4}],m={toc:c};function k(e){var{components:t}=e,a=i(e,["components"]);return(0,n.kt)("wrapper",l({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",l({},{id:"overview"}),"Overview"),(0,n.kt)("p",null,"Amazon Elastic Block Store (Amazon EBS) provides block level storage volumes for use with EC2 instances.\nEBS volumes behave like raw, unformatted block devices. You can mount these volumes as devices on your instances.\nYou can mount multiple volumes on the same instance, and you can mount a volume to multiple instances at a time.\nYou can create a file system on top of these volumes, or use them in any way you would use a block device (like a hard drive).\nYou can dynamically change the configuration of a volume attached to an instance."),(0,n.kt)("p",null,"The Amazon EBS Centreon Plugin uses the Amazon Cloudwatch API to collect the related EBS metrics."),(0,n.kt)("h2",l({},{id:"plugin-pack-assets"}),"Plugin-Pack assets"),(0,n.kt)("h3",l({},{id:"monitored-objects"}),"Monitored objects"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"EBS volumes: standard, gp2, st1, sc1 & io1")),(0,n.kt)("h3",l({},{id:"discovery-rules"}),"Discovery rules"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(o.Z,{value:"Hosts",label:"Hosts",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Rule name"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Cloud-Aws-Ebs-Api-HostDiscovery"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Discover EBS volumes"))))),(0,n.kt)(o.Z,{value:"Services",label:"Services",mdxType:"TabItem"},(0,n.kt)("p",null,"No services discovery rule available on this pack"))),(0,n.kt)("h2",l({},{id:"monitored-metrics"}),"Monitored metrics"),(0,n.kt)("p",null,"You can get more details on Amazon EBS Cloudwatch metrics in the official AWS documentation:\n",(0,n.kt)("a",l({parentName:"p"},{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using_cloudwatch_ebs"}),"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using_cloudwatch_ebs")),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(o.Z,{value:"Ebs-Volume-Io",label:"Ebs-Volume-Io",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"VolumeReadBytes"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Provides information on the read operations in a specified period of time. Unit: Bytes")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"VolumeWriteBytes"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Provides information on the write operations in a specified period of time. Unit: Bytes"))))),(0,n.kt)(o.Z,{value:"Ebs-Iops",label:"Ebs-Iops",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"VolumeReadOps"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"The total number of read operations in a specified period of time. Unit: Count")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"VolumeWriteOps"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"The total number of write operations in a specified period of time. Unit: Count")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"VolumeThroughputPercentage"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"The percentage of I/O operations per second (IOPS) delivered of the total IOPS provisioned for an Amazon EBS volume. Unit: Percent")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"VolumeConsumedReadWriteOps"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"The total amount of read and write operations (normalized to 256K capacity units) consumed in a specified period of time. Unit: Count")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"VolumeQueueLength"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"The number of read and write operation requests waiting to be completed in a specified period of time. Unit: Count"))))),(0,n.kt)(o.Z,{value:"Ebs-Time",label:"Ebs-Time",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"VolumeTotalReadTime"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"The total number of seconds spent by all read operations that completed in a specified period of time. Unit: Seconds")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"VolumeTotalWriteTime"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"The total number of seconds spent by all write operations that completed in a specified period of time. Unit: Seconds")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"VolumeIdleTime"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"The total number of seconds in a specified period of time when no read or write operations were submitted. Unit: Seconds")))))),(0,n.kt)("h2",l({},{id:"prerequisites"}),"Prerequisites"),(0,n.kt)("h3",l({},{id:"aws-configuration"}),"AWS Configuration"),(0,n.kt)("p",null,"Configure a service account (",(0,n.kt)("em",{parentName:"p"},"access/secret keys")," combo) for which the following privileges have to be granted:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"AWS Privilege"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"ec2:DescribeVolumes"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Describes the specified EBS volumes or all of your EBS volumes.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"cloudwatch:getMetricStatistics"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Get metrics from the AWS/EBS namespace on Cloudwatch")))),(0,n.kt)("h3",l({},{id:"plugin-dependencies"}),"Plugin dependencies"),(0,n.kt)("p",null,"To interact with Amazon APIs, you can use either use the ",(0,n.kt)("em",{parentName:"p"},"awscli")," binary provided by Amazon or ",(0,n.kt)("em",{parentName:"p"},"paws"),", a Perl AWS SDK (recommended).\nYou must install it on every Centreon poller expected to monitor Amazon EBS resources: "),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(o.Z,{value:"perl-Paws-installation",label:"perl-Paws-installation",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"yum install perl-Paws\n"))),(0,n.kt)(o.Z,{value:"aws-cli-installation",label:"aws-cli-installation",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"yum install awscli\n")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"For now, it is not possible to use ",(0,n.kt)("em",{parentName:"p"},"paws")," in the following situations:"),(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"if you are using a proxy to reach AWS Cloudwatch APIs. "),(0,n.kt)("li",{parentName:"ul"},"to automatically add Hosts in Centreon using the ",(0,n.kt)("em",{parentName:"li"},"Host Discovery")," feature"))),(0,n.kt)("h2",l({},{id:"setup"}),"Setup"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(o.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Install the Centreon Plugin package on every Centreon poller expected to monitor Amazon EBS ressources:")),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Cloud-Aws-Ebs-Api\n")),(0,n.kt)("ol",l({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"On the Centreon Web interface, install the 'Amazon EBS' Centreon Plugin-Pack on the \"Configuration > Plugin Packs > Manager\" page"))),(0,n.kt)(o.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Install the Centreon Plugin package on every Centreon poller expected to monitor Amazon EBS resources:")),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Cloud-Aws-Ebs-Api\n")),(0,n.kt)("ol",l({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"Install the Centreon Plugin-Pack RPM on the Centreon Central server:")),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-cloud-aws-ec2.noarch\n")),(0,n.kt)("ol",l({},{start:3}),(0,n.kt)("li",{parentName:"ol"},"On the Centreon Web interface, install the 'Amazon EBS' Centreon Plugin-Pack on the \"Configuration > Plugin Packs > Manager\" page")))),(0,n.kt)("h2",l({},{id:"configuration"}),"Configuration"),(0,n.kt)("p",null,'Log into Centreon and add a new Host through "Configuration > Hosts". Select the ',(0,n.kt)("em",{parentName:"p"},"Cloud-Aws-Ebs-custom")," template to apply to the Host."),(0,n.kt)("p",null,"Once the template applied, some Macros have to be configured:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Mandatory"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Nom"),(0,n.kt)("th",l({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"AWSSECRETKEY"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"AWS Secret key of your IAM role. Password checkbox must be checked")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"AWSACESSKEY"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"AWS Access key of your IAM role. Password checkbox must be checked")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"AWSREGION"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Region where the instance is running")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"AWSCUSTOMMODE"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Custom mode to get metrics, 'awscli' is the default, you can also use 'paws' perl library")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"AWSVOLUMEID"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"EBS Volume ID")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"})),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"PROXYURL"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Configure proxy URL")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"})),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"EXTRAOPTIONS"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Any extra option you may want to add to every command","_","line (eg. a --verbose flag)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"})),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"DUMMYSTATUS"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Host state. Default is OK, do not modify it unless you know what you are doing")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:"left"})),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"DUMMYOUTPUT"),(0,n.kt)("td",l({parentName:"tr"},{align:"left"}),"Host check output. Default is 'This is a dummy check'. Customize it with your own if needed")))),(0,n.kt)("h2",l({},{id:"faq"}),"FAQ"),(0,n.kt)("h3",l({},{id:"how-to-check-in-the-cli-that-the-configuration-is-ok-and-what-are-the-main-options-for-"}),"How to check in the CLI that the configuration is OK and what are the main options for ?"),(0,n.kt)("p",null,"Once the plugin installed, log into your Centreon Poller CLI using the ",(0,n.kt)("em",{parentName:"p"},"centreon-engine")," user account and test the Plugin\nby running the following command (Some of the parameters such as ",(0,n.kt)("inlineCode",{parentName:"p"},"volume-id")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"proxyurl")," have to be adjusted):"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_aws_ebs_api.pl \\\n    --plugin=cloud::aws::ebs::plugin \\\n    --mode=volumeio \\\n    --custommode='awscli' \\\n    --aws-secret-key='***' \\\n    --aws-access-key='***' \\\n    --region='eu-west-1' \\\n    --proxyurl='http://myproxy.mycompany.org:8080' \\\n    --volume-id='vol-1234abcd' \\\n    --statistic='average' \\\n    --timeframe='600' \\\n    --period='60' \\\n    --warning-volume-write-bytes='60000000' \\\n    --critical-volume-write-bytes='90000000' \\\n    -- verbose\n")),(0,n.kt)("p",null,"Expected command output is shown below: "),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-bash"}),"OK: 'vol-1234abcd' Statistic 'Average' Metrics Volume Read Bytes: 28.40 KB, Volume Write Bytes: 54.61 MB | \n'vol-1234abcd~average#ebs.volume.bytes.read.bytes'=29081.60B;;;; 'vol-1234abcd~average#ebs.volume.bytes.write.bytes'=57261465.60B;0:60000000;0:90000000;;\nAWS EBS Volume'vol-1234abcd'\n    Statistic 'Average' Metrics Volume Read Bytes: 28.40 KB, Volume Write Bytes: 54.61 MB\n")),(0,n.kt)("p",null,"The command above monitors the Volume IOs  (",(0,n.kt)("inlineCode",{parentName:"p"},"--mode=volumeio"),") of the ",(0,n.kt)("em",{parentName:"p"},"vol-1234abcd")," EBS volume (",(0,n.kt)("inlineCode",{parentName:"p"},"--volume-id='vol-1234abcd'"),").\nThis volume is hosted within the AWS ",(0,n.kt)("em",{parentName:"p"},"eu-west-1")," region (",(0,n.kt)("inlineCode",{parentName:"p"},"--region='eu-west-1'"),").\nThe collected metrics will be parsed as average statistics (",(0,n.kt)("inlineCode",{parentName:"p"},"--statistic='average'"),") over a timeframe of 600 secondes (",(0,n.kt)("inlineCode",{parentName:"p"},"--timeframe='600'"),")\nwith a sample of 1 point per minute (",(0,n.kt)("inlineCode",{parentName:"p"},"--period='60'"),")."),(0,n.kt)("p",null,"This command would trigger a WARNING alert if the average writing operations on the volume are higher than 60MB and a CRITICAL alert if they're higher than 90MB."),(0,n.kt)("p",null,"All the options that can be used with this Plugin can be displayed by adding the  ",(0,n.kt)("inlineCode",{parentName:"p"},"--help")," parameter to the command:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),"/usr/lib/centreon/plugins/centreon_aws_ebs_api.pl --plugin=cloud::aws::ebs::plugin --mode=volumeio --help\n")),(0,n.kt)("h3",l({},{id:"why-do-i-get-the-following-result"}),"Why do I get the following result:"),(0,n.kt)("h4",l({},{id:"unknown-no-metrics-check-your-options-or-use---zeroed-option-to-set-0-on-undefined-values-"}),(0,n.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: No metrics. Check your options or use --zeroed option to set 0 on undefined values")," ?"),(0,n.kt)("p",null,"This command result means that Amazon Cloudwatch does not have any value for the requested period."),(0,n.kt)("p",null,"This result can be overriden by adding the ",(0,n.kt)("inlineCode",{parentName:"p"},"--zeroed")," option in the command. This will force a value of 0 when no metric\nhas been collected and will prevent the UNKNOWN error message. "),(0,n.kt)("h4",l({},{id:"unknown-command-error----an-error-occurred-authfailure--"}),(0,n.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: Command error:  - An error occurred (AuthFailure) [...]")," ?"),(0,n.kt)("p",null,"This command result means that the credentials provided don't have enough privileges to perform the underlying AWS Operation."),(0,n.kt)("h4",l({},{id:"unknown-command-error----an-error-occurred-invalidparametervalue-"}),(0,n.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: Command error:  - An error occurred (InvalidParameterValue) [...]")),(0,n.kt)("p",null,"Most of the time, this command result highlights typo/mispelling in the Amazon Dimension name (",(0,n.kt)("inlineCode",{parentName:"p"},"--volume-id"),")."))}k.isMDXComponent=!0},7626:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(67294),r=a(86010);const o="tabItem_Ymn6";function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}function i({children:e,hidden:t,className:a}){return n.createElement("div",l({role:"tabpanel",className:(0,r.Z)(o,a)},{hidden:t}),e)}},67709:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(67294),r=a(86010),o=a(90980),l=a(35715),i=a(8854),s=a(8241);const u="tabList__CuJ",p="tabItem_LNqP";function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d.apply(this,arguments)}function c(e){var t;const{lazy:a,block:o,defaultValue:c,values:m,groupId:k,className:h}=e,f=n.Children.map(e.children,(e=>{if((0,n.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),g=null!=m?m:f.map((({props:{value:e,label:t,attributes:a}})=>({value:e,label:t,attributes:a}))),b=(0,l.l)(g,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var v;const y=null===c?c:null!==(v=null!=c?c:null===(t=f.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==v?v:f[0].props.value;if(null!==y&&!g.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${g.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:N,setTabGroupChoices:w}=(0,i.U)(),[C,O]=(0,n.useState)(y),T=[],{blockElementScrollPositionUntilNextRender:S}=(0,s.o5)();if(null!=k){const e=N[k];null!=e&&e!==C&&g.some((t=>t.value===e))&&O(e)}const A=e=>{const t=e.currentTarget,a=T.indexOf(t),n=g[a].value;n!==C&&(S(t),O(n),null!=k&&w(k,String(n)))},E=e=>{let t=null;switch(e.key){case"ArrowRight":{const n=T.indexOf(e.currentTarget)+1;var a;t=null!==(a=T[n])&&void 0!==a?a:T[0];break}case"ArrowLeft":{const a=T.indexOf(e.currentTarget)-1;var n;t=null!==(n=T[a])&&void 0!==n?n:T[T.length-1];break}}null==t||t.focus()};return n.createElement("div",{className:(0,r.Z)("tabs-container",u)},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":o},h)},g.map((({value:e,label:t,attributes:a})=>n.createElement("li",d({role:"tab",tabIndex:C===e?0:-1,"aria-selected":C===e,key:e,ref:e=>T.push(e),onKeyDown:E,onFocus:A,onClick:A},a,{className:(0,r.Z)("tabs__item",p,null==a?void 0:a.className,{"tabs__item--active":C===e})}),null!=t?t:e)))),a?(0,n.cloneElement)(f.filter((e=>e.props.value===C))[0],{className:"margin-top--md"}):n.createElement("div",{className:"margin-top--md"},f.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==C})))))}function m(e){const t=(0,o.Z)();return n.createElement(c,d({key:String(t)},e))}}}]);