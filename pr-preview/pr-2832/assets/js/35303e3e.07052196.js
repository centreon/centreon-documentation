"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[5384],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>f});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(a),f=r,m=d["".concat(s,".").concat(f)]||d[f]||c[f]||o;return a?n.createElement(m,i(i({ref:t},p),{},{components:a})):n.createElement(m,i({ref:t},p))}));function f(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var u=2;u<o;u++)i[u]=a[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},7626:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(67294),r=a(86010);const o="tabItem_Ymn6";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function l({children:e,hidden:t,className:a}){return n.createElement("div",i({role:"tabpanel",className:(0,r.Z)(o,a)},{hidden:t}),e)}},67709:(e,t,a)=>{a.d(t,{Z:()=>f});var n=a(67294),r=a(86010),o=a(90980),i=a(35715),l=a(8854),s=a(8241);const u="tabList__CuJ",p="tabItem_LNqP";function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(this,arguments)}function d(e){var t;const{lazy:a,block:o,defaultValue:d,values:f,groupId:m,className:h}=e,g=n.Children.map(e.children,(e=>{if((0,n.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),v=null!=f?f:g.map((({props:{value:e,label:t,attributes:a}})=>({value:e,label:t,attributes:a}))),b=(0,i.l)(v,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var y;const k=null===d?d:null!==(y=null!=d?d:null===(t=g.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==y?y:g[0].props.value;if(null!==k&&!v.some((e=>e.value===k)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${k}" but none of its children has the corresponding value. Available values are: ${v.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:w,setTabGroupChoices:N}=(0,l.U)(),[O,C]=(0,n.useState)(k),T=[],{blockElementScrollPositionUntilNextRender:j}=(0,s.o5)();if(null!=m){const e=w[m];null!=e&&e!==O&&v.some((t=>t.value===e))&&C(e)}const E=e=>{const t=e.currentTarget,a=T.indexOf(t),n=v[a].value;n!==O&&(j(t),C(n),null!=m&&N(m,String(n)))},x=e=>{let t=null;switch(e.key){case"ArrowRight":{const n=T.indexOf(e.currentTarget)+1;var a;t=null!==(a=T[n])&&void 0!==a?a:T[0];break}case"ArrowLeft":{const a=T.indexOf(e.currentTarget)-1;var n;t=null!==(n=T[a])&&void 0!==n?n:T[T.length-1];break}}null==t||t.focus()};return n.createElement("div",{className:(0,r.Z)("tabs-container",u)},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":o},h)},v.map((({value:e,label:t,attributes:a})=>n.createElement("li",c({role:"tab",tabIndex:O===e?0:-1,"aria-selected":O===e,key:e,ref:e=>T.push(e),onKeyDown:x,onFocus:E,onClick:E},a,{className:(0,r.Z)("tabs__item",p,null==a?void 0:a.className,{"tabs__item--active":O===e})}),null!=t?t:e)))),a?(0,n.cloneElement)(g.filter((e=>e.props.value===O))[0],{className:"margin-top--md"}):n.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==O})))))}function f(e){const t=(0,o.Z)();return n.createElement(d,c({key:String(t)},e))}},89648:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>m,frontMatter:()=>s,metadata:()=>p,toc:()=>d});a(67294);var n=a(3905),r=a(67709),o=a(7626);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const s={id:"grafana",title:"Centreon plugin for Grafana"},u=void 0,p={unversionedId:"metrology/grafana",id:"version-23.10/metrology/grafana",title:"Centreon plugin for Grafana",description:"The Centreon plugin for Grafana allows you to view data from Centreon platforms in Grafana. If you are already using Grafana to retrieve data from other monitoring platforms, you will be able to view this data side by side with data from Centreon.",source:"@site/versioned_docs/version-23.10/metrology/grafana.md",sourceDirName:"metrology",slug:"/metrology/grafana",permalink:"/centreon-documentation/pr-preview/pr-2832/docs/metrology/grafana",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/next/versioned_docs/version-23.10/metrology/grafana.md",tags:[],version:"23.10",lastUpdatedAt:1700565273,formattedLastUpdatedAt:"Nov 21, 2023",frontMatter:{id:"grafana",title:"Centreon plugin for Grafana"},sidebar:"version-23.10/docs",previous:{title:"Virtual metrics",permalink:"/centreon-documentation/pr-preview/pr-2832/docs/metrology/chart-virtual-metrics"},next:{title:"Introduction to Centreon BAM",permalink:"/centreon-documentation/pr-preview/pr-2832/docs/service-mapping/introduction"}},c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Available data",id:"available-data",level:2},{value:"Where do I find the plugin?",id:"where-do-i-find-the-plugin",level:2},{value:"How do I set up the plugin?",id:"how-do-i-set-up-the-plugin",level:2},{value:"Comparing data within a graph",id:"comparing-data-within-a-graph",level:2},{value:"Filtering using variables",id:"filtering-using-variables",level:2}],f={toc:d};function m(e){var{components:t}=e,s=l(e,["components"]);return(0,n.kt)("wrapper",i({},f,s,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"The Centreon plugin for Grafana allows you to view data from Centreon platforms in Grafana. If you are already using Grafana to retrieve data from other monitoring platforms, you will be able to view this data side by side with data from Centreon."),(0,n.kt)("h2",i({},{id:"prerequisites"}),"Prerequisites"),(0,n.kt)("p",null,"To be able to use the Centreon plugin for Grafana, you must have a valid ",(0,n.kt)("a",i({parentName:"p"},{href:"/centreon-documentation/pr-preview/pr-2832/docs/reporting/introduction"}),"MBI")," license, and the module must be installed on your platform."),(0,n.kt)("h2",i({},{id:"available-data"}),"Available data"),(0,n.kt)("p",null,"A Centreon Data source allows you to view performance data from Centreon in your Grafana dashboards.\nTo select the performance data to display, you can combine filters on various types of resources available on your Centreon platform. You can display metrics, virtual metrics and meta services by building filters on the following types of resources:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Hosts"),(0,n.kt)("li",{parentName:"ul"},"Host groups"),(0,n.kt)("li",{parentName:"ul"},"Service Groups"),(0,n.kt)("li",{parentName:"ul"},"Services"),(0,n.kt)("li",{parentName:"ul"},"Business Activities (if BAM is installed and you have a license for it)"),(0,n.kt)("li",{parentName:"ul"},"Anomaly Detection (if the module is installed and you have a license for it)")),(0,n.kt)("p",null,"Performance data are available, but not data such as the status of hosts and services, or acknowledgments and downtimes."),(0,n.kt)("h2",i({},{id:"where-do-i-find-the-plugin"}),"Where do I find the plugin?"),(0,n.kt)("p",null,"The Centreon plugin for Grafana is available on ",(0,n.kt)("a",i({parentName:"p"},{href:"https://download.centreon.com/"}),"Centreon's download page"),"."),(0,n.kt)("h2",i({},{id:"how-do-i-set-up-the-plugin"}),"How do I set up the plugin?"),(0,n.kt)("p",null,"You can use the Centreon data source for Grafana as an unsigned plugin in your private Grafana installation. (This is not possible with a Cloud instance.)"),(0,n.kt)("p",null,"To use the Centreon data source as an unsigned plugin:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Make sure you have administration privileges on the machine where Grafana runs.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Download the zip file containing the data source from ",(0,n.kt)("a",i({parentName:"p"},{href:"https://download.centreon.com/"}),"Centreon's download page"),". The data source is located in the ",(0,n.kt)("strong",{parentName:"p"},"Grafana")," subsection of the ",(0,n.kt)("strong",{parentName:"p"},"Custom platform")," section.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"If you do not have a custom init file, create a copy of the ",(0,n.kt)("strong",{parentName:"p"},"grafana/conf/default.ini")," file and name it ",(0,n.kt)("strong",{parentName:"p"},"custom.ini"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Extract the data source and put it in the ",(0,n.kt)("strong",{parentName:"p"},"plugins")," directory of your Grafana installation. (The location of this directory is defined in the ",(0,n.kt)("strong",{parentName:"p"},"plugins")," variable of your ",(0,n.kt)("strong",{parentName:"p"},"grafana/conf/custom.ini")," file.)")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Edit the ",(0,n.kt)("strong",{parentName:"p"},"custom.ini")," file and add the Centreon data source to the list of allowed unsigned plugins:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",i({parentName:"pre"},{className:"language-text"}),"allow_loading_unsigned_plugins = centreon2-centreon-datasource\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Restart the Grafana service."))),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(o.Z,{value:"Linux",label:"Linux",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-shell"}),"systemctl restart grafana-server\n"))),(0,n.kt)(o.Z,{value:"Windows",label:"Windows",mdxType:"TabItem"},(0,n.kt)("p",null,"On the ",(0,n.kt)("strong",{parentName:"p"},"Services")," tab of the tasks manager, right-click the Grafana service and then click ",(0,n.kt)("strong",{parentName:"p"},"Restart"),"."))),(0,n.kt)("p",null,"The Centreon data source now appears in the list of available plugins, on the ",(0,n.kt)("strong",{parentName:"p"},"Configuration > Plugins")," page of the Grafana interface."),(0,n.kt)("h2",i({},{id:"comparing-data-within-a-graph"}),"Comparing data within a graph"),(0,n.kt)("p",null,"Using the Centreon plugin for Grafana means that all of your performance data is available in Grafana and you can filter it according to specific data groups. For instance, within the same graph, you can compare the evolution of a metric common to several hosts or to the various hosts of a given host group."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image",src:a(33985).Z,width:"780",height:"333"})),(0,n.kt)("p",null,"You can use the ",(0,n.kt)("strong",{parentName:"p"},"*")," wildcard to filter on several hosts at once. Using ",(0,n.kt)("a",i({parentName:"p"},{href:"https://grafana.com/docs/grafana/latest/variables/"}),"variables")," inside filters allows you to create dynamic contexts."),(0,n.kt)("h2",i({},{id:"filtering-using-variables"}),"Filtering using variables"),(0,n.kt)("p",null,"A Grafana dashboard can contain a number of panels. Each panel can display data from a specific source. In that way, you can compare data relating to the same host but from different sources, e.g. if you are monitoring different data on the same device using several tools."),(0,n.kt)("p",null,"Use ",(0,n.kt)("a",i({parentName:"p"},{href:"https://grafana.com/docs/grafana/latest/variables/"}),"variables")," to select a list of resources that match filters (e.g. all hosts in the ",(0,n.kt)("strong",{parentName:"p"},"Linux")," host group). In the dashboard, filters will automatically display the corresponding variables."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"image",src:a(90499).Z,width:"794",height:"349"})),(0,n.kt)("p",null,"You can customize how the labels for the curves are displayed: go to ",(0,n.kt)("strong",{parentName:"p"},"Time Series > Standard options"),", then use ",(0,n.kt)("a",i({parentName:"p"},{href:"https://grafana.com/docs/grafana/latest/panels-visualizations/configure-standard-options/#display-name"}),"the ",(0,n.kt)("strong",{parentName:"a"},"Display name")," field"),"."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"For instance, if you enter ",(0,n.kt)("strong",{parentName:"li"},"${__field.labels}"),", the label includes all possible label customizations (host, service, metric_name)."),(0,n.kt)("li",{parentName:"ul"},"If you enter ",(0,n.kt)("strong",{parentName:"li"},"${",(0,n.kt)("strong",{parentName:"strong"},"field.labels.host}: ${"),"field.labels.metric_name}"),", the label for a curve will be displayed like this: ",(0,n.kt)("strong",{parentName:"li"},"10.11.12.13: total_cpu_avg"),".")))}m.isMDXComponent=!0},33985:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana_compare-c7655cf9f996e7107ac660bc39a5692f.png"},90499:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana_variables-a2a8a1f20f7011790c3a07c9c9213f7e.png"}}]);