"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[88593],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=s(n),m=r,k=d["".concat(c,".").concat(m)]||d[m]||u[m]||o;return n?a.createElement(k,i(i({ref:t},p),{},{components:n})):a.createElement(k,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6982:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>k,frontMatter:()=>c,metadata:()=>p,toc:()=>d});n(67294);var a=n(3905),r=n(67709),o=n(7626);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const c={id:"network-cisco-meraki-restapi",title:"Cisco Meraki Rest API"},s=void 0,p={unversionedId:"integrations/plugin-packs/procedures/network-cisco-meraki-restapi",id:"integrations/plugin-packs/procedures/network-cisco-meraki-restapi",title:"Cisco Meraki Rest API",description:"Overview",source:"@site/pp/integrations/plugin-packs/procedures/network-cisco-meraki-restapi.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/network-cisco-meraki-restapi",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/network-cisco-meraki-restapi",draft:!1,tags:[],version:"current",frontMatter:{id:"network-cisco-meraki-restapi",title:"Cisco Meraki Rest API"},sidebar:"pp",previous:{title:"Cisco IronPort",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/network-cisco-ironport-snmp"},next:{title:"Cisco Meraki",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/network-cisco-meraki-snmp"}},u={},d=[{value:"Overview",id:"overview",level:2},{value:"Plugin-Pack assets",id:"plugin-pack-assets",level:2},{value:"Monitored objects",id:"monitored-objects",level:3},{value:"Monitored metrics",id:"monitored-metrics",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setup",id:"setup",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"How to test the Plugin and what are the main options for ?",id:"how-to-test-the-plugin-and-what-are-the-main-options-for-",level:3},{value:"Why do I get the following error:",id:"why-do-i-get-the-following-error",level:3},{value:"<code>UNKNOWN: 500 Can&#39;t connect to api.meraki.com:443</code>",id:"unknown-500-cant-connect-to-apimerakicom443",level:4},{value:"<code>UNKNOWN: 501 Protocol scheme &#39;connect&#39; is not supported |</code>",id:"unknown-501-protocol-scheme-connect-is-not-supported-",level:4},{value:"<code>UNKNOWN: cannot check than 5 networks at once (api rate limit)</code>",id:"unknown-cannot-check-than-5-networks-at-once-api-rate-limit",level:4}],m={toc:d};function k(e){var{components:t}=e,n=l(e,["components"]);return(0,a.kt)("wrapper",i({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",i({},{id:"overview"}),"Overview"),(0,a.kt)("p",null,"Cisco Meraki is a cloud-managed IT company headquartered in San Francisco, California.\nTheir products include wireless, switching, security, enterprise mobility management (EMM) and security cameras, all centrally managed from the web."),(0,a.kt)("h2",i({},{id:"plugin-pack-assets"}),"Plugin-Pack assets"),(0,a.kt)("h3",i({},{id:"monitored-objects"}),"Monitored objects"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Meraki Access Points devices")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Meraki Networks"))),(0,a.kt)("h3",i({},{id:"monitored-metrics"}),"Monitored metrics"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Api-Requests",label:"Api-Requests",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"organization.api.requests.200.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of requests returning a HTTP Status 200 (OK). Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"organization.api.requests.404.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of requests returning a HTTP Status 404 (Not found). Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"organization.api.requests.429.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of requests returning a HTTP Status 249 (TOO MANY REQUESTS). Unit: Count"))))),(0,a.kt)(o.Z,{value:"Device",label:"Device",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"status"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Device status")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"devices.total.online.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of total devices online (in case of regexp). Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"devices.total.offline.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of total devices offline (in case of regexp). Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"devices.total.alerting.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of total devices alerting (in case of regexp). Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"device.connections.success.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of sucessful connections by device. Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"device.connections.auth.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of authentication connnections by device. Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"device.connections.assoc.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of association connections by device. Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"device.connections.dhcp.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of DHCP connections by device. Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"device.connections.dns.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of DNS connections by device. Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"device.traffic.in.bitspersecond"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Incoming traffic going through the device. Unit: bits/second")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"device.traffic.out.bitspersecond"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Outcoming traffic going through the device. Unit: bits/second"))))),(0,a.kt)(o.Z,{value:"Network",label:"Network",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"network.connections.success.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of sucessful connections by network. Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"network.connections.auth.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of authentication connnections by network. Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"network.connections.assoc.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of association connections by network. Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"network.connections.dhcp.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of DHCP connections by network. Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"network.connections.dns.count"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of DNS connections by network. Unit: Count")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"network.traffic.in.bitspersecond"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Incoming traffic going through the network. Unit: bits/second")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"network.traffic.out.bitspersecond"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Outcoming traffic going through the network. Unit: bits/second")))))),(0,a.kt)("h2",i({},{id:"prerequisites"}),"Prerequisites"),(0,a.kt)("p",null,"More information about the Cisco Meraki API can be found in the official documentation:\n",(0,a.kt)("a",i({parentName:"p"},{href:"https://documentation.meraki.com/zGeneral_Administration/Other_Topics/The_Cisco_Meraki_Dashboard_API"}),"https://documentation.meraki.com/zGeneral_Administration/Other_Topics/The_Cisco_Meraki_Dashboard_API")),(0,a.kt)("p",null,"To get access to the API, first enable the API for your organization on the Cisco Meraki dashboard.\nThis can be found under ",(0,a.kt)("em",{parentName:"p"},"Organization > Settings > Dashboard API access"),"."),(0,a.kt)("p",null,"After enabling the API, go to the ",(0,a.kt)("em",{parentName:"p"},"my profile")," page to generate an API key. The API key is associated with a Dashboard administrator account.\nYou can generate, revoke, and regenerate your API key on your profile."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Keep your API key safe as it provides authentication to all of your organizations with the API enabled.\nIf your API key is shared, you can regenerate your API key at any time. This will revoke the existing API key.")),(0,a.kt)("h2",i({},{id:"setup"}),"Setup"),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install the Centreon Plugin package on every Centreon poller expected to monitor Cisco Meraki ressources:")),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Network-Cisco-Meraki-Restapi\n")),(0,a.kt)("ol",i({},{start:2}),(0,a.kt)("li",{parentName:"ol"},"On the Centreon Web interface, install the ",(0,a.kt)("em",{parentName:"li"},"Cisco Meraki Rest API"),' Centreon Plugin-Pack on the "Configuration > Plugin Packs > Manager" page'))),(0,a.kt)(o.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install the Centreon Plugin package on every Centreon poller expected to monitor Cisco Meraki ressources:")),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Network-Cisco-Meraki-Restapi\n")),(0,a.kt)("ol",i({},{start:2}),(0,a.kt)("li",{parentName:"ol"},"Install the Centreon Plugin-Pack RPM on the Centreon Central server:")),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-network-cisco-meraki-restapi.noarch\n")),(0,a.kt)("ol",i({},{start:3}),(0,a.kt)("li",{parentName:"ol"},"On the Centreon Web interface, install the ",(0,a.kt)("em",{parentName:"li"},"Cisco Meraki Rest API"),' Centreon Plugin-Pack on the "Configuration > Plugin Packs > Manager" page')))),(0,a.kt)("h2",i({},{id:"configuration"}),"Configuration"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'Log into Centreon and add a new Host through "Configuration > Hosts".'),(0,a.kt)("li",{parentName:"ul"},'Apply the relevant Host Template. They all look like "Net-Cisco-Meraki%Restapi". ')),(0,a.kt)("p",null,"All of the Host Templates share the following configuration Macros:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Mandatory"),(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Nom"),(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"MERAKIAPIHOSTNAME"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"FQDN of the Meraki API. usually api.meraki.com")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"MERAKIAPIPORT"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Port used. Must be 443.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"MERAKIAPIPROTO"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Protocole used. Must be HTTPS.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"MERAKIAPITOKEN"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Meraki API key of your profile. Password checkbox must be checked")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"})),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"MERAKIEXTRAOPTIONS"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Any extra option you may want to add to the command (eg. a --verbose flag)")))),(0,a.kt)("p",null,"Set additionnal Macros that come with the Host Templates: "),(0,a.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"Net-Cisco-Meraki-Device-Restapi-custom",label:"Net-Cisco-Meraki-Device-Restapi-custom",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Mandatory"),(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Nom"),(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"MERAKIDEVICENAME"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Name of the device you want to monitor (can be a regexp)"))))),(0,a.kt)(o.Z,{value:"Net-Cisco-Meraki-Network-Restapi-custom",label:"Net-Cisco-Meraki-Network-Restapi-custom",mdxType:"TabItem"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Mandatory"),(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Nom"),(0,a.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"MERAKINETWORKNAME"),(0,a.kt)("td",i({parentName:"tr"},{align:"left"}),"Name of the network you want to monitor (can be a regexp)")))))),(0,a.kt)("h2",i({},{id:"faq"}),"FAQ"),(0,a.kt)("h3",i({},{id:"how-to-test-the-plugin-and-what-are-the-main-options-for-"}),"How to test the Plugin and what are the main options for ?"),(0,a.kt)("p",null,"Once the plugin installed, log into your Centreon Poller CLI using the ",(0,a.kt)("em",{parentName:"p"},"centreon-engine")," user account\nand test the Plugin by running the following command\n(Some of the parameters such as ",(0,a.kt)("em",{parentName:"p"},"api-token"),", ",(0,a.kt)("em",{parentName:"p"},"filter-device-name")," or ",(0,a.kt)("em",{parentName:"p"},"proxyurl")," have to be adjusted):"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins/centreon_cisco_meraki_restapi.pl \\\n--plugin='network::cisco::meraki::cloudcontroller::restapi::plugin' \\\n--mode='devices' \\\n--hostname='api.meraki.com' \\\n--api-token='12345abcd6789efgh0123abcd4567efgh8901abcd' \\\n--proxyurl='proxy.mycompany:8080' \\\n--filter-device-name='centreon-par-training-ap' \\\n--critical-status='%{status} =~ /alerting/i' \\\n--critical-link-status='%{link_status} =~ /failed/i' \\\n--verbose\n")),(0,a.kt)("p",null,"Expected command output is shown below:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{}),"OK: Device 'centreon-par-training-ap' status: online - connection success: 0 - traffic in: 51.66 b/s, out: 515.86 b/s - link 'WAN 1' status: active | \n'devices.total.online.count'=0;;;0;1 'devices.total.offline.count'=0;;;0;1 'devices.total.alerting.count'=0;;;0;1 \n'centreon-par-training-ap#device.connections.success.count'=0;;;0; 'centreon-par-training-ap#device.connections.auth.count'=0;;;0; \n'centreon-par-training-ap#device.connections.assoc.count'=0;;;0; 'centreon-par-training-ap#device.connections.dhcp.count'=0;;;0; \n'centreon-par-training-ap#device.connections.dns.count'=0;;;0; 'centreon-par-training-ap#device.traffic.in.bitspersecond'=51.6626907073509b/s;;;0; \n'centreon-par-training-ap#device.traffic.out.bitspersecond'=515.864632454924b/s;;;0;\nchecking device 'centreon-par-training-ap'\n    status: online\n    connection success: 0\n    traffic in: 51.66 b/s, out: 515.86 b/s\n    link 'WAN 1' status: active\n")),(0,a.kt)("p",null,"The above command checks a specific Cisco AP device named ",(0,a.kt)("em",{parentName:"p"},"centreon-par-training-ap")," (",(0,a.kt)("inlineCode",{parentName:"p"},"--mode=devices --filter-device-name='centreon-par-training-ap'"),") managed by Meraki.\nIt uses an API token (",(0,a.kt)("inlineCode",{parentName:"p"},"--api-token='12345abcd6789efgh0123abcd4567efgh8901abcd'"),") generated from the Cisco Meraki management dashboard\nand uses the company proxy (",(0,a.kt)("inlineCode",{parentName:"p"},"--proxyurl='proxy.mycompany:8080'"),") to connect to the Meraki API."),(0,a.kt)("p",null,"This command would trigger a CRITICAL alert if:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'The returned device\'s status is "alerting" (',(0,a.kt)("inlineCode",{parentName:"li"},"--critical-status='%{status} =~ /alerting/i'"),")"),(0,a.kt)("li",{parentName:"ul"},'The device link is "failed" (',(0,a.kt)("inlineCode",{parentName:"li"},"--critical-link-status='%{link_status} =~ /failed/i'"),")")),(0,a.kt)("p",null,"Some thresholds can also be set on metrics, for instance ",(0,a.kt)("inlineCode",{parentName:"p"},"--warning-traffic-in")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"--critical-traffic-in"),"."),(0,a.kt)("p",null,"The available thresholds as well as all of the options that can be used with this Plugin\ncan be displayed by adding the ",(0,a.kt)("inlineCode",{parentName:"p"},"--help")," parameter to the command:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{}),"/usr/lib/centreon/plugins/centreon_cisco_meraki_restapi.pl --plugin='network::cisco::meraki::cloudcontroller::restapi::plugin' --mode='devices' --help\n")),(0,a.kt)("h3",i({},{id:"why-do-i-get-the-following-error"}),"Why do I get the following error:"),(0,a.kt)("h4",i({},{id:"unknown-500-cant-connect-to-apimerakicom443"}),(0,a.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: 500 Can't connect to api.meraki.com:443")),(0,a.kt)("p",null,"This error message means that the Centreon Plugin couldn't successfully connect to the Cisco Meraki API.\nCheck that no third party device (such as a firewall) is blocking the request.\nA proxy connection may also be necessary to connect to the API. This can be done by using the ",(0,a.kt)("inlineCode",{parentName:"p"},"--proxyurl")," option in the command."),(0,a.kt)("h4",i({},{id:"unknown-501-protocol-scheme-connect-is-not-supported-"}),(0,a.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: 501 Protocol scheme 'connect' is not supported |")),(0,a.kt)("p",null,"When using a proxy to connect to the Meraki API, this error message means that the Centreon Plugin library does not support\nthe proxy connection protocol."),(0,a.kt)("p",null,"In order to prevent this issue, use the ",(0,a.kt)("em",{parentName:"p"},"curl")," HTTP backend by adding the following option to the command: ",(0,a.kt)("inlineCode",{parentName:"p"},"--http-backend='curl'"),"."),(0,a.kt)("h4",i({},{id:"unknown-cannot-check-than-5-networks-at-once-api-rate-limit"}),(0,a.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: cannot check than 5 networks at once (api rate limit)")),(0,a.kt)("p",null,"This error message means that the Centreon Plugin request is beyond the API capabilities limits.\nAdjust the ",(0,a.kt)("inlineCode",{parentName:"p"},"--filter-network-name")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"--filter-device-name")," filters to limit the search field."))}k.isMDXComponent=!0},7626:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(67294),r=n(86010);const o="tabItem_Ymn6";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}function l({children:e,hidden:t,className:n}){return a.createElement("div",i({role:"tabpanel",className:(0,r.Z)(o,n)},{hidden:t}),e)}},67709:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(67294),r=n(86010),o=n(90980),i=n(35715),l=n(8854),c=n(8241);const s="tabList__CuJ",p="tabItem_LNqP";function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(this,arguments)}function d(e){var t;const{lazy:n,block:o,defaultValue:d,values:m,groupId:k,className:f}=e,g=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),h=null!=m?m:g.map((({props:{value:e,label:t,attributes:n}})=>({value:e,label:t,attributes:n}))),N=(0,i.l)(h,((e,t)=>e.value===t.value));if(N.length>0)throw new Error(`Docusaurus error: Duplicate values "${N.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var b;const y=null===d?d:null!==(b=null!=d?d:null===(t=g.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==b?b:g[0].props.value;if(null!==y&&!h.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${h.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:v,setTabGroupChoices:w}=(0,l.U)(),[C,P]=(0,a.useState)(y),T=[],{blockElementScrollPositionUntilNextRender:O}=(0,c.o5)();if(null!=k){const e=v[k];null!=e&&e!==C&&h.some((t=>t.value===e))&&P(e)}const I=e=>{const t=e.currentTarget,n=T.indexOf(t),a=h[n].value;a!==C&&(O(t),P(a),null!=k&&w(k,String(a)))},A=e=>{let t=null;switch(e.key){case"ArrowRight":{const a=T.indexOf(e.currentTarget)+1;var n;t=null!==(n=T[a])&&void 0!==n?n:T[0];break}case"ArrowLeft":{const n=T.indexOf(e.currentTarget)-1;var a;t=null!==(a=T[n])&&void 0!==a?a:T[T.length-1];break}}null==t||t.focus()};return a.createElement("div",{className:(0,r.Z)("tabs-container",s)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":o},f)},h.map((({value:e,label:t,attributes:n})=>a.createElement("li",u({role:"tab",tabIndex:C===e?0:-1,"aria-selected":C===e,key:e,ref:e=>T.push(e),onKeyDown:A,onFocus:I,onClick:I},n,{className:(0,r.Z)("tabs__item",p,null==n?void 0:n.className,{"tabs__item--active":C===e})}),null!=t?t:e)))),n?(0,a.cloneElement)(g.filter((e=>e.props.value===C))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==C})))))}function m(e){const t=(0,o.Z)();return a.createElement(d,u({key:String(t)},e))}}}]);