"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[46985],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>d});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=p(a),d=r,k=m["".concat(s,".").concat(d)]||m[d]||u[d]||l;return a?n.createElement(k,i(i({ref:t},c),{},{components:a})):n.createElement(k,i({ref:t},c))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},89315:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>k,frontMatter:()=>s,metadata:()=>c,toc:()=>m});a(67294);var n=a(3905),r=a(67709),l=a(7626);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const s={id:"applications-databases-oracle",title:"Oracle Database"},p=void 0,c={unversionedId:"integrations/plugin-packs/procedures/applications-databases-oracle",id:"integrations/plugin-packs/procedures/applications-databases-oracle",title:"Oracle Database",description:"Overview",source:"@site/pp/integrations/plugin-packs/procedures/applications-databases-oracle.md",sourceDirName:"integrations/plugin-packs/procedures",slug:"/integrations/plugin-packs/procedures/applications-databases-oracle",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/applications-databases-oracle",draft:!1,tags:[],version:"current",frontMatter:{id:"applications-databases-oracle",title:"Oracle Database"},sidebar:"pp",previous:{title:"MySQL/MariaDB",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/applications-databases-mysql"},next:{title:"PostgreSQL DB",permalink:"/centreon-documentation/pr-preview/pr-2832/pp/integrations/plugin-packs/procedures/applications-databases-postgresql"}},u={},m=[{value:"Overview",id:"overview",level:2},{value:"Plugin-Pack assets",id:"plugin-pack-assets",level:2},{value:"Monitored objects",id:"monitored-objects",level:3},{value:"Collected Metrics",id:"collected-metrics",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"RPM",id:"rpm",level:3},{value:"Oracle instant client",id:"oracle-instant-client",level:3},{value:"Perl library for Oracle",id:"perl-library-for-oracle",level:3},{value:"User account",id:"user-account",level:3},{value:"Setup",id:"setup",level:2},{value:"Configuration",id:"configuration",level:2},{value:"FAQ",id:"faq",level:2},{value:"How can I test the Plugin in the CLI and what do the main parameters stand for ?",id:"how-can-i-test-the-plugin-in-the-cli-and-what-do-the-main-parameters-stand-for-",level:3},{value:"Why do I get the following message:",id:"why-do-i-get-the-following-message",level:3},{value:"<code>UNKNOWN: Cannot connect: (no error string) |</code>",id:"unknown-cannot-connect-no-error-string-",level:4},{value:"<code>DBD::Oracle is not root directory |</code>",id:"dbdoracle-is-not-root-directory-",level:4}],d={toc:m};function k(e){var{components:t}=e,a=o(e,["components"]);return(0,n.kt)("wrapper",i({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",i({},{id:"overview"}),"Overview"),(0,n.kt)("p",null,"Oracle Database is a database management system produced and marketed by Oracle that allows users to define, create, maintain and control access to databases.\nThe Centreon Plugin-Pack ",(0,n.kt)("em",{parentName:"p"},"Oracle Database")," aims to retrieve informations and status from the Oracle database using Oracle Instant Client."),(0,n.kt)("h2",i({},{id:"plugin-pack-assets"}),"Plugin-Pack assets"),(0,n.kt)("h3",i({},{id:"monitored-objects"}),"Monitored objects"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Oracle server")),(0,n.kt)("h3",i({},{id:"collected-metrics"}),"Collected Metrics"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Connection-Time",label:"Connection-Time",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"connection_time"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Connection time to the database"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ms"))))),(0,n.kt)(l.Z,{value:"Tnsping",label:"Tnsping",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"status"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Check Oracle listener status"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"})))))),(0,n.kt)(l.Z,{value:"Tablespace-Usage",label:"Tablespace-Usage",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"tbs_#instance_usage"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Tablespace usage per Instance"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"tbs_#instance_free"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Tablespace free space left per instance"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"B"))))),(0,n.kt)(l.Z,{value:"Session-Usage",label:"Session-Usage",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"session_used"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The percentage of Oracle session used"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%"))))),(0,n.kt)(l.Z,{value:"Rman-Backup-Problems",label:"Rman-Backup-Problems",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"#backup_backup_problems"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Number of problems per backup (last 3 days by default)"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Count"))))),(0,n.kt)(l.Z,{value:"Process-Usage",label:"Process-Usage",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"process_used"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The percentage of Oracle process used"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%"))))),(0,n.kt)(l.Z,{value:"Datacache-Hitratio",label:"Datacache-Hitratio",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"sga_data_buffer_hit_ratio"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Check the 'Data Buffer Cache Hit Ratio' of the server"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"%"))))),(0,n.kt)(l.Z,{value:"Corrupted-Blocks",label:"Corrupted-Blocks",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"corrupted_blocks"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The number of corrupted blocks in the database"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Count"))))),(0,n.kt)(l.Z,{value:"Connection-Number",label:"Connection-Number",mdxType:"TabItem"},(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Metric name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Unit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"connected_users"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The number of connection to the Oracle server"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"Count")))))),(0,n.kt)("h2",i({},{id:"prerequisites"}),"Prerequisites"),(0,n.kt)("h3",i({},{id:"rpm"}),"RPM"),(0,n.kt)("p",null,"In order to use this template, the ",(0,n.kt)("inlineCode",{parentName:"p"},"wget")," command-line tool and the GNU Compiler Collection (",(0,n.kt)("inlineCode",{parentName:"p"},"gcc"),") are necessary."),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install -y gcc wget\n")),(0,n.kt)("h3",i({},{id:"oracle-instant-client"}),"Oracle instant client"),(0,n.kt)("p",null,"Go to ",(0,n.kt)("a",i({parentName:"p"},{href:"https://www.oracle.com/database/technologies/instant-client/downloads.html"}),"Instant Client Downloads"),",\nchoose the right OS your Poller is running on (Linux x86-64) and download the following packages:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"oracle-instantclient-basic"),(0,n.kt)("li",{parentName:"ul"},"oracle-instantclient-sqlplus"),(0,n.kt)("li",{parentName:"ul"},"oracle-instantclientdevel")),(0,n.kt)("p",null,"Install the RPM Package manually:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"rpm -ivh oracle-*.rpm\n")),(0,n.kt)("h3",i({},{id:"perl-library-for-oracle"}),"Perl library for Oracle"),(0,n.kt)("p",null,"As root, run:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"cd /usr/local/src \nwget http://www.cpan.org/modules/by-module/DBD/DBD-Oracle-1.80.tar.gz \ntar xzf DBD-Oracle-1.80.tar.gz \ncd DBD-Oracle-1.80 \nexport ORACLE_HOME=/usr/lib/oracle/21/client64\nexport LD_LIBRARY_PATH=/usr/lib/oracle/21/client64/lib \nexport PATH=$ORACLE_HOME:$PATH\nperl Makefile.PL -m /usr/share/oracle/21/client64/demo/demo.mk\n")),(0,n.kt)("p",null,"The following message should appear:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-text"}),"LD_RUN_PATH=/usr/lib/oracle/21/client64/lib*\nUsing DBD::Oracle 1.80. \nUsing DBI 1.52 (for perl 5.008008 on x86_64-linux-thread-multi) installed in /usr/lib64/perl5/vendor_perl/5.8.8/x86\\_64-linux-thread-multi/auto/DBI/\nWriting Makefile for DBD::Oracle\n")),(0,n.kt)("p",null,"Compile the library:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"make\n")),(0,n.kt)("p",null,"Install it:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"make install\n")),(0,n.kt)("p",null,"Create the file /etc/ld.so.conf.d/oracle.conf and add one line representing the\npath to the library: "),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"cat > /etc/ld.so.conf.d/oracle.conf <<EOF\n/usr/lib/oracle/21/client64/lib/\nEOF\n")),(0,n.kt)("p",null,"Update library cache with the following command: "),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/sbin/ldconfig\n")),(0,n.kt)("h3",i({},{id:"user-account"}),"User account"),(0,n.kt)("p",null,"The safest way to retrieve information from the Oracle server is to create a\ndedicated user for Centreon."),(0,n.kt)("p",null,"This user account must have the read permission on following tables:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"dba","_","free","_","space"),(0,n.kt)("li",{parentName:"ul"},"dba","_","data","_","files"),(0,n.kt)("li",{parentName:"ul"},"dba","_","temp","_","files"),(0,n.kt)("li",{parentName:"ul"},"dba","_","segments"),(0,n.kt)("li",{parentName:"ul"},"dba","_","jobs"),(0,n.kt)("li",{parentName:"ul"},"dba","_","objects"),(0,n.kt)("li",{parentName:"ul"},"DBA","_","MVIEW","_","refresh","_","times"),(0,n.kt)("li",{parentName:"ul"},"dba","_","indexes"),(0,n.kt)("li",{parentName:"ul"},"dba","_","ind","_","partitions"),(0,n.kt)("li",{parentName:"ul"},"dba","_","ind","_","subpartitions"),(0,n.kt)("li",{parentName:"ul"},"dba","_","registry"),(0,n.kt)("li",{parentName:"ul"},"dba","_","tablespaces"),(0,n.kt)("li",{parentName:"ul"},"DBA","_","MVIEW","_","refresh","_","times"),(0,n.kt)("li",{parentName:"ul"},"DBA","_","TABLESPACE","_","USAGE","_","METRICS"),(0,n.kt)("li",{parentName:"ul"},"v$sysstat"),(0,n.kt)("li",{parentName:"ul"},"v$sgastat"),(0,n.kt)("li",{parentName:"ul"},"v$parameter"),(0,n.kt)("li",{parentName:"ul"},"v$process"),(0,n.kt)("li",{parentName:"ul"},"v$session"),(0,n.kt)("li",{parentName:"ul"},"v$filestat"),(0,n.kt)("li",{parentName:"ul"},"v$log"),(0,n.kt)("li",{parentName:"ul"},"v$instance"),(0,n.kt)("li",{parentName:"ul"},"V$ASM","_","DISKGROUP"),(0,n.kt)("li",{parentName:"ul"},"v$database","_","block","_","corruption"),(0,n.kt)("li",{parentName:"ul"},"v$tempstat"),(0,n.kt)("li",{parentName:"ul"},"v$rowcache"),(0,n.kt)("li",{parentName:"ul"},"v$system","_","event"),(0,n.kt)("li",{parentName:"ul"},"v$recovery","_","area","_","usage"),(0,n.kt)("li",{parentName:"ul"},"v$librarycache"),(0,n.kt)("li",{parentName:"ul"},"v$sql","_","monitor"),(0,n.kt)("li",{parentName:"ul"},"v$resource","_","limit"),(0,n.kt)("li",{parentName:"ul"},"v$rman","_","status"),(0,n.kt)("li",{parentName:"ul"},"v$backup"),(0,n.kt)("li",{parentName:"ul"},"v$rman","_","status"),(0,n.kt)("li",{parentName:"ul"},"v$rollstat"),(0,n.kt)("li",{parentName:"ul"},"v$resource","_","limit"),(0,n.kt)("li",{parentName:"ul"},"v$tablespace"),(0,n.kt)("li",{parentName:"ul"},"v$event","_","name"),(0,n.kt)("li",{parentName:"ul"},"v$waitstat")),(0,n.kt)("h2",i({},{id:"setup"}),"Setup"),(0,n.kt)(r.Z,{groupId:"sync",mdxType:"Tabs"},(0,n.kt)(l.Z,{value:"Online License",label:"Online License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Install the Centreon Plugin package on every Centreon poller expected to monitor a Oracle Database:")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Databases-Oracle\n")),(0,n.kt)("ol",i({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"On the Centreon Web interface, install the ",(0,n.kt)("em",{parentName:"li"},"Oracle Database"),' Centreon Plugin-Pack on the "Configuration > Plugin Packs > Manager" page'))),(0,n.kt)(l.Z,{value:"Offline License",label:"Offline License",mdxType:"TabItem"},(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Install the Centreon Plugin package on every Centreon poller expected to monitor a Oracle Database:")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-plugin-Applications-Databases-Oracle\n")),(0,n.kt)("ol",i({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"Install the Centreon Plugin-Pack RPM on the Centreon Central server:")),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"yum install centreon-pack-applications-databases-oracle\n")),(0,n.kt)("ol",i({},{start:3}),(0,n.kt)("li",{parentName:"ol"},"On the Centreon Web interface, install the Centreon Plugin-Pack ",(0,n.kt)("em",{parentName:"li"},"Oracle Database"),' from the "Configuration > Plugin Packs > Manager" page')))),(0,n.kt)("h2",i({},{id:"configuration"}),"Configuration"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'Log into Centreon and add a new Host through "Configuration > Hosts".'),(0,n.kt)("li",{parentName:"ul"},'Apply the relevant Host Template "App-DB-Oracle-custom", and configure the mandatory Macros:')),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Mandatory"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Name"),(0,n.kt)("th",i({parentName:"tr"},{align:"left"}),"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ORACLEPASSWORD"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The oracle user's password")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ORACLEPORT"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"By default: 1521")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ORACLESID"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The name of the oracle instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"X"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ORACLEUSERNAME"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The oracle user name")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",i({parentName:"tr"},{align:"left"})),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"ORACLESERVICENAME"),(0,n.kt)("td",i({parentName:"tr"},{align:"left"}),"The oracle service name")))),(0,n.kt)("h2",i({},{id:"faq"}),"FAQ"),(0,n.kt)("h3",i({},{id:"how-can-i-test-the-plugin-in-the-cli-and-what-do-the-main-parameters-stand-for-"}),"How can I test the Plugin in the CLI and what do the main parameters stand for ?"),(0,n.kt)("p",null,"Once the plugin installed, log into your Centreon Poller CLI using the centreon-engine user account and test the Plugin by running the following command:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_oracle.pl \\\n    --plugin=database::oracle::plugin \\\n    --hostname='10.30.2.38' \\\n    --port='1521' \\\n    --sid='XE' \\\n    --username='SYSTEM' \\\n    --password='Centreon75' \\\n    --mode='tablespace-usage' \\\n    --warning-tablespace='90' \\\n    --critical-tablespace='98' \\\n    --verbose \n")),(0,n.kt)("p",null,"Expected command output is shown below:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"OK: All tablespaces are OK | 'tbs_sysaux_usage_sysaux'=552075272B;0:27596154624;0:29069940992;0;30595726360 'tbs_system_usage_system'=945684080B;0:27636154624;0:29065940982;0;30595527360 'tbs_temp_usage_temp'=0B;0:27536080897;0:29065863169;0;30595645450 'tbs_users_usage_users'=2818049B;0:27536154625;0:29065940993;0;30595727460\nTablespace 'sysaux' Total: 29.48 GB Used: 527.60 MB (1.90%) Free: 27.88 GB (98.20%)\nTablespace 'system' Total: 29.48 GB Used: 902.76 MB (3.09%) Free: 27.71 GB (96.91%)\nTablespace 'temp' Total: 29.48 GB Used: 0.00 B (0.00%) Free: 28.59 GB (100.00%)\nTablespace 'users' Total: 29.48 GB Used: 2.78 MB (0.01%) Free: 28.48 GB (99.99%)\n")),(0,n.kt)("p",null,"The above command checks the used space in tablespaces (",(0,n.kt)("inlineCode",{parentName:"p"},"--mode='tablespace-usage'"),")\non a oracle database installed in the host 10.30.2.38 (",(0,n.kt)("inlineCode",{parentName:"p"},"--hostname='10.30.2.38'"),")\nIt uses Oracle informations (",(0,n.kt)("inlineCode",{parentName:"p"},"--username='SYSTEM' --password='Centreon75' --port='1521' --sid='XE'"),") to connect to the database."),(0,n.kt)("p",null,"The check provides a warning if the percentage of used space exceeds 90% (",(0,n.kt)("inlineCode",{parentName:"p"},"--warning-tablespace='90'"),") and a critical if this percentage exceeds 98% (",(0,n.kt)("inlineCode",{parentName:"p"},"--critical-tablespace='98'"),")."),(0,n.kt)("p",null,"The available thresholds as well as all of the options that can be used with\nthis Plugin can be displayed by adding the ",(0,n.kt)("inlineCode",{parentName:"p"},"--help")," parameter to the\ncommand:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_oracle.pl \\\n    --plugin=database::oracle::plugin \\\n    --mode='tablespace-usage' \\\n    --help\n")),(0,n.kt)("p",null,"You can display all of the modes that come with the Plugin with the command\nbelow:"),(0,n.kt)("pre",null,(0,n.kt)("code",i({parentName:"pre"},{className:"language-bash"}),"/usr/lib/centreon/plugins//centreon_oracle.pl \\\n    --plugin=database::oracle::plugin \\\n    --list-mode\n")),(0,n.kt)("h3",i({},{id:"why-do-i-get-the-following-message"}),"Why do I get the following message:"),(0,n.kt)("h4",i({},{id:"unknown-cannot-connect-no-error-string-"}),(0,n.kt)("inlineCode",{parentName:"h4"},"UNKNOWN: Cannot connect: (no error string) |")),(0,n.kt)("p",null,"This error message means that the Centreon Plugin couldn't successfully connect to the Oracle database.\nCheck that an Oracle database is installed on this host.\nCheck also that no third party device (such as a firewall) is blocking the connection."),(0,n.kt)("h4",i({},{id:"dbdoracle-is-not-root-directory-"}),(0,n.kt)("inlineCode",{parentName:"h4"},"DBD::Oracle is not root directory |")),(0,n.kt)("p",null,"This error message means that the module DBD::Oracle is installed under the /root directory.\nRemove shell environment variable with PERL and compile DBD::Oracle Perl Module."))}k.isMDXComponent=!0},7626:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(67294),r=a(86010);const l="tabItem_Ymn6";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}function o({children:e,hidden:t,className:a}){return n.createElement("div",i({role:"tabpanel",className:(0,r.Z)(l,a)},{hidden:t}),e)}},67709:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(67294),r=a(86010),l=a(90980),i=a(35715),o=a(8854),s=a(8241);const p="tabList__CuJ",c="tabItem_LNqP";function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}function m(e){var t;const{lazy:a,block:l,defaultValue:m,values:d,groupId:k,className:b}=e,g=n.Children.map(e.children,(e=>{if((0,n.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),h=null!=d?d:g.map((({props:{value:e,label:t,attributes:a}})=>({value:e,label:t,attributes:a}))),f=(0,i.l)(h,((e,t)=>e.value===t.value));if(f.length>0)throw new Error(`Docusaurus error: Duplicate values "${f.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);var N;const v=null===m?m:null!==(N=null!=m?m:null===(t=g.find((e=>e.props.default)))||void 0===t?void 0:t.props.value)&&void 0!==N?N:g[0].props.value;if(null!==v&&!h.some((e=>e.value===v)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${v}" but none of its children has the corresponding value. Available values are: ${h.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:y,setTabGroupChoices:O}=(0,o.U)(),[w,T]=(0,n.useState)(v),_=[],{blockElementScrollPositionUntilNextRender:C}=(0,s.o5)();if(null!=k){const e=y[k];null!=e&&e!==w&&h.some((t=>t.value===e))&&T(e)}const D=e=>{const t=e.currentTarget,a=_.indexOf(t),n=h[a].value;n!==w&&(C(t),T(n),null!=k&&O(k,String(n)))},P=e=>{let t=null;switch(e.key){case"ArrowRight":{const n=_.indexOf(e.currentTarget)+1;var a;t=null!==(a=_[n])&&void 0!==a?a:_[0];break}case"ArrowLeft":{const a=_.indexOf(e.currentTarget)-1;var n;t=null!==(n=_[a])&&void 0!==n?n:_[_.length-1];break}}null==t||t.focus()};return n.createElement("div",{className:(0,r.Z)("tabs-container",p)},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":l},b)},h.map((({value:e,label:t,attributes:a})=>n.createElement("li",u({role:"tab",tabIndex:w===e?0:-1,"aria-selected":w===e,key:e,ref:e=>_.push(e),onKeyDown:P,onFocus:D,onClick:D},a,{className:(0,r.Z)("tabs__item",c,null==a?void 0:a.className,{"tabs__item--active":w===e})}),null!=t?t:e)))),a?(0,n.cloneElement)(g.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):n.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function d(e){const t=(0,l.Z)();return n.createElement(m,u({key:String(t)},e))}}}]);