---
id: poller-troubleshoot
title: Troubleshooting your pollers
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

This document provides procedures to troubleshoot issues with the Centreon pollers **in the Centreon Cloud environment**.

## What's inside a poller?

A poller basically consists of two services:

* gorgone is responsible to manage the monitoring configuration. It received and applies configurations locally when a user requires a configuration export to this poller from the Centreon Cloud UI.

* centengine or centreon-engine is responsible to schedule and execute controls on monitored resources and to send data received by controls to the Centreon Cloud platform.

Both of them are connected to services hosted by Centreon.

## Installation issues

Check the log file that is created in the log folder created by the install script in the current directory.

```shell
less ./log/register-poller.log
```

## The configuration is not updated on pollers when I deploy it

### Test Gorgone Connection

Verify that Gorgone can connect to the Centreon Cloud platform.

```shell
nc -zv -w 5 gorgone-tsm-support.euwest1.centreon.cloud 443
```

A message like this one should be printed:

```shell
Ncat: Connected to n.n.n.n:443.
```

### Check gorgone logs

Gorgone logs are written in the following file:

```shell
/var/log/centreon-gorgone/gorgoned.log
```

### Set Gorgone log level to INFO or DEBUG

1. Edit thefollowing file:

   ```shell
   /etc/sysconfig/gorgoned
   ```

2. Change the **--severity** parameter value to **info** or **debug**.

3. Restart the **gorgoned** process:

   ```shell
   systemctl restart gorgoned
   ```

### Verify Gorgone connection

This INFO message should appear in Gorgone logs:

```shell
INFO - [pullwss] websocket connected
```

### Verify Export Command Reception

Check the log messages generated by Gorgone while the configuration is being deployed:

```shell
2024-09-13 14:28:50 - INFO - [action] Copy processing - Received chunk for '/etc/centreon-engine//'
2024-09-13 14:28:51 - INFO - [action] Copy processing - Copy to '/etc/centreon-engine//' finished successfully
2024-09-13 14:28:51 - INFO - [action] Copy processing - Received chunk for '/etc/centreon-broker/'
2024-09-13 14:28:51 - INFO - [action] Copy processing - Copy to '/etc/centreon-broker/' finished successfully
```

### Check that configuration files are correctly updated

Check the modification dates of configuration files:

```shell
ls -l /etc/centreon-engine
```

### Check that Engine has reloaded or restarted

* Check reload logs:

```shell
[process] [info] [646] Starting to reload configuration.
(...)
[process] [info] [646] Reload configuration finished.
```

* Check restart logs:

```shell
[process] [info] [3142] Centreon Engine yy.mm.p starting ...
```

## The poller does not send any data to the platform

### Test Network Connectivity

Check network connectivity to Centreon Cloud platform for real-time data transmission.

```shell
nc -zv -w 5 broker-{org-code}.euwest1.centreon.cloud 443
```

This command should print a message like this one:

```shell
Ncat: Connected to n.n.n.n:443.
```

### Check whether any retention files exist

Inspect the folder containing retention files to know if there is currently some retention on the poller.

```shell
ls -l /var/lib/centreon-engine
```

### Enable and review Engine logs

Modify log levels in **centengine.cfg**.

```shell
vi /etc/centreon-engine/centengine.cfg
```

Locate and adjust parameters prefixed with **log_level_**.

Restart Centreon Engine.

```shell
systemctl restart centengine
```

> Note: This change will be overwritten next time the configuration is deployed.

### Enable and review “cbmod” logs

Edit the Centreon Broker module configuration.

```shell
vi /etc/centreon-broker/{hostname}-module.json
```

Adjust the **centreonBroker.log.loggers** object to the desired log level.

Restart Centreon Engine.

```shell
systemctl restart centengine
```

> Note: This change will be overwritten next time the configuration is deployed.

### Check export statistics

Some statistics about real-time data exported to Centreon Cloud are available in a JSON file.

```shell
cat /var/lib/centreon-engine/*-module-stats.json
```

> Node: This file is a UNIX pipe file and is only accessible when the **centengine** service is running.
